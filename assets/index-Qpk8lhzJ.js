(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function qA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ud={exports:{}},El={};var K_;function HA(){if(K_)return El;K_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return El.Fragment=t,El.jsx=i,El.jsxs=i,El}var Y_;function GA(){return Y_||(Y_=1,Ud.exports=HA()),Ud.exports}var M=GA(),Ld={exports:{}},At={};var X_;function FA(){if(X_)return At;X_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),O=Symbol.iterator;function G(N){return N===null||typeof N!="object"?null:(N=O&&N[O]||N["@@iterator"],typeof N=="function"?N:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,W={};function gt(N,Y,et){this.props=N,this.context=Y,this.refs=W,this.updater=et||J}gt.prototype.isReactComponent={},gt.prototype.setState=function(N,Y){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Y,"setState")},gt.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function mt(){}mt.prototype=gt.prototype;function pt(N,Y,et){this.props=N,this.context=Y,this.refs=W,this.updater=et||J}var Ot=pt.prototype=new mt;Ot.constructor=pt,nt(Ot,gt.prototype),Ot.isPureReactComponent=!0;var ie=Array.isArray;function Ct(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function w(N,Y,et){var rt=et.ref;return{$$typeof:r,type:N,key:Y,ref:rt!==void 0?rt:null,props:et}}function V(N,Y){return w(N.type,Y,N.props)}function D(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function U(N){var Y={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(et){return Y[et]})}var R=/\/+/g;function Zt(N,Y){return typeof N=="object"&&N!==null&&N.key!=null?U(""+N.key):Y.toString(36)}function de(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Ct,Ct):(N.status="pending",N.then(function(Y){N.status==="pending"&&(N.status="fulfilled",N.value=Y)},function(Y){N.status==="pending"&&(N.status="rejected",N.reason=Y)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function F(N,Y,et,rt,_t){var St=typeof N;(St==="undefined"||St==="boolean")&&(N=null);var Vt=!1;if(N===null)Vt=!0;else switch(St){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(N.$$typeof){case r:case t:Vt=!0;break;case A:return Vt=N._init,F(Vt(N._payload),Y,et,rt,_t)}}if(Vt)return _t=_t(N),Vt=rt===""?"."+Zt(N,0):rt,ie(_t)?(et="",Vt!=null&&(et=Vt.replace(R,"$&/")+"/"),F(_t,Y,et,"",function(ji){return ji})):_t!=null&&(D(_t)&&(_t=V(_t,et+(_t.key==null||N&&N.key===_t.key?"":(""+_t.key).replace(R,"$&/")+"/")+Vt)),Y.push(_t)),1;Vt=0;var he=rt===""?".":rt+":";if(ie(N))for(var Jt=0;Jt<N.length;Jt++)rt=N[Jt],St=he+Zt(rt,Jt),Vt+=F(rt,Y,et,St,_t);else if(Jt=G(N),typeof Jt=="function")for(N=Jt.call(N),Jt=0;!(rt=N.next()).done;)rt=rt.value,St=he+Zt(rt,Jt++),Vt+=F(rt,Y,et,St,_t);else if(St==="object"){if(typeof N.then=="function")return F(de(N),Y,et,rt,_t);throw Y=String(N),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function it(N,Y,et){if(N==null)return N;var rt=[],_t=0;return F(N,rt,"","",function(St){return Y.call(et,St,_t++)}),rt}function ft(N){if(N._status===-1){var Y=N._result;Y=Y(),Y.then(function(et){(N._status===0||N._status===-1)&&(N._status=1,N._result=et)},function(et){(N._status===0||N._status===-1)&&(N._status=2,N._result=et)}),N._status===-1&&(N._status=0,N._result=Y)}if(N._status===1)return N._result.default;throw N._result}var Mt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},ut={map:it,forEach:function(N,Y,et){it(N,function(){Y.apply(this,arguments)},et)},count:function(N){var Y=0;return it(N,function(){Y++}),Y},toArray:function(N){return it(N,function(Y){return Y})||[]},only:function(N){if(!D(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return At.Activity=b,At.Children=ut,At.Component=gt,At.Fragment=i,At.Profiler=l,At.PureComponent=pt,At.StrictMode=a,At.Suspense=y,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,At.__COMPILER_RUNTIME={__proto__:null,c:function(N){return C.H.useMemoCache(N)}},At.cache=function(N){return function(){return N.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(N,Y,et){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var rt=nt({},N.props),_t=N.key;if(Y!=null)for(St in Y.key!==void 0&&(_t=""+Y.key),Y)!S.call(Y,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Y.ref===void 0||(rt[St]=Y[St]);var St=arguments.length-2;if(St===1)rt.children=et;else if(1<St){for(var Vt=Array(St),he=0;he<St;he++)Vt[he]=arguments[he+2];rt.children=Vt}return w(N.type,_t,rt)},At.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},At.createElement=function(N,Y,et){var rt,_t={},St=null;if(Y!=null)for(rt in Y.key!==void 0&&(St=""+Y.key),Y)S.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(_t[rt]=Y[rt]);var Vt=arguments.length-2;if(Vt===1)_t.children=et;else if(1<Vt){for(var he=Array(Vt),Jt=0;Jt<Vt;Jt++)he[Jt]=arguments[Jt+2];_t.children=he}if(N&&N.defaultProps)for(rt in Vt=N.defaultProps,Vt)_t[rt]===void 0&&(_t[rt]=Vt[rt]);return w(N,St,_t)},At.createRef=function(){return{current:null}},At.forwardRef=function(N){return{$$typeof:p,render:N}},At.isValidElement=D,At.lazy=function(N){return{$$typeof:A,_payload:{_status:-1,_result:N},_init:ft}},At.memo=function(N,Y){return{$$typeof:_,type:N,compare:Y===void 0?null:Y}},At.startTransition=function(N){var Y=C.T,et={};C.T=et;try{var rt=N(),_t=C.S;_t!==null&&_t(et,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ct,Mt)}catch(St){Mt(St)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),C.T=Y}},At.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},At.use=function(N){return C.H.use(N)},At.useActionState=function(N,Y,et){return C.H.useActionState(N,Y,et)},At.useCallback=function(N,Y){return C.H.useCallback(N,Y)},At.useContext=function(N){return C.H.useContext(N)},At.useDebugValue=function(){},At.useDeferredValue=function(N,Y){return C.H.useDeferredValue(N,Y)},At.useEffect=function(N,Y){return C.H.useEffect(N,Y)},At.useEffectEvent=function(N){return C.H.useEffectEvent(N)},At.useId=function(){return C.H.useId()},At.useImperativeHandle=function(N,Y,et){return C.H.useImperativeHandle(N,Y,et)},At.useInsertionEffect=function(N,Y){return C.H.useInsertionEffect(N,Y)},At.useLayoutEffect=function(N,Y){return C.H.useLayoutEffect(N,Y)},At.useMemo=function(N,Y){return C.H.useMemo(N,Y)},At.useOptimistic=function(N,Y){return C.H.useOptimistic(N,Y)},At.useReducer=function(N,Y,et){return C.H.useReducer(N,Y,et)},At.useRef=function(N){return C.H.useRef(N)},At.useState=function(N){return C.H.useState(N)},At.useSyncExternalStore=function(N,Y,et){return C.H.useSyncExternalStore(N,Y,et)},At.useTransition=function(){return C.H.useTransition()},At.version="19.2.3",At}var $_;function Um(){return $_||($_=1,Ld.exports=FA()),Ld.exports}var Qt=Um();const QA=qA(Qt);var Pd={exports:{}},Tl={},zd={exports:{}},jd={};var Z_;function KA(){return Z_||(Z_=1,(function(r){function t(F,it){var ft=F.length;F.push(it);t:for(;0<ft;){var Mt=ft-1>>>1,ut=F[Mt];if(0<l(ut,it))F[Mt]=it,F[ft]=ut,ft=Mt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var it=F[0],ft=F.pop();if(ft!==it){F[0]=ft;t:for(var Mt=0,ut=F.length,N=ut>>>1;Mt<N;){var Y=2*(Mt+1)-1,et=F[Y],rt=Y+1,_t=F[rt];if(0>l(et,ft))rt<ut&&0>l(_t,et)?(F[Mt]=_t,F[rt]=ft,Mt=rt):(F[Mt]=et,F[Y]=ft,Mt=Y);else if(rt<ut&&0>l(_t,ft))F[Mt]=_t,F[rt]=ft,Mt=rt;else break t}}return it}function l(F,it){var ft=F.sortIndex-it.sortIndex;return ft!==0?ft:F.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],A=1,b=null,O=3,G=!1,J=!1,nt=!1,W=!1,gt=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function Ot(F){for(var it=i(_);it!==null;){if(it.callback===null)a(_);else if(it.startTime<=F)a(_),it.sortIndex=it.expirationTime,t(y,it);else break;it=i(_)}}function ie(F){if(nt=!1,Ot(F),!J)if(i(y)!==null)J=!0,Ct||(Ct=!0,U());else{var it=i(_);it!==null&&de(ie,it.startTime-F)}}var Ct=!1,C=-1,S=5,w=-1;function V(){return W?!0:!(r.unstable_now()-w<S)}function D(){if(W=!1,Ct){var F=r.unstable_now();w=F;var it=!0;try{t:{J=!1,nt&&(nt=!1,mt(C),C=-1),G=!0;var ft=O;try{e:{for(Ot(F),b=i(y);b!==null&&!(b.expirationTime>F&&V());){var Mt=b.callback;if(typeof Mt=="function"){b.callback=null,O=b.priorityLevel;var ut=Mt(b.expirationTime<=F);if(F=r.unstable_now(),typeof ut=="function"){b.callback=ut,Ot(F),it=!0;break e}b===i(y)&&a(y),Ot(F)}else a(y);b=i(y)}if(b!==null)it=!0;else{var N=i(_);N!==null&&de(ie,N.startTime-F),it=!1}}break t}finally{b=null,O=ft,G=!1}it=void 0}}finally{it?U():Ct=!1}}}var U;if(typeof pt=="function")U=function(){pt(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Zt=R.port2;R.port1.onmessage=D,U=function(){Zt.postMessage(null)}}else U=function(){gt(D,0)};function de(F,it){C=gt(function(){F(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(F){switch(O){case 1:case 2:case 3:var it=3;break;default:it=O}var ft=O;O=it;try{return F()}finally{O=ft}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(F,it){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ft=O;O=F;try{return it()}finally{O=ft}},r.unstable_scheduleCallback=function(F,it,ft){var Mt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Mt+ft:Mt):ft=Mt,F){case 1:var ut=-1;break;case 2:ut=250;break;case 5:ut=1073741823;break;case 4:ut=1e4;break;default:ut=5e3}return ut=ft+ut,F={id:A++,callback:it,priorityLevel:F,startTime:ft,expirationTime:ut,sortIndex:-1},ft>Mt?(F.sortIndex=ft,t(_,F),i(y)===null&&F===i(_)&&(nt?(mt(C),C=-1):nt=!0,de(ie,ft-Mt))):(F.sortIndex=ut,t(y,F),J||G||(J=!0,Ct||(Ct=!0,U()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var it=O;return function(){var ft=O;O=it;try{return F.apply(this,arguments)}finally{O=ft}}}})(jd)),jd}var J_;function YA(){return J_||(J_=1,zd.exports=KA()),zd.exports}var Bd={exports:{}},We={};var W_;function XA(){if(W_)return We;W_=1;var r=Um();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,We.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},We.flushSync=function(y){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=A,a.d.f()}},We.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},We.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},We.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:O,fetchPriority:G}):A==="script"&&a.d.X(y,{crossOrigin:b,integrity:O,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},We.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},We.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin);a.d.L(y,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},We.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},We.requestFormReset=function(y){a.d.r(y)},We.unstable_batchedUpdates=function(y,_){return y(_)},We.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},We.useFormStatus=function(){return d.H.useHostTransitionStatus()},We.version="19.2.3",We}var tv;function $A(){if(tv)return Bd.exports;tv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Bd.exports=XA(),Bd.exports}var ev;function ZA(){if(ev)return Tl;ev=1;var r=YA(),t=Um(),i=$A();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,O=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),gt=Symbol.for("react.profiler"),mt=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),Ot=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Zt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case gt:return"Profiler";case W:return"StrictMode";case ie:return"Suspense";case Ct:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case pt:return e.displayName||"Context";case mt:return(e._context.displayName||"Context")+".Consumer";case Ot:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:Zt(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Zt(e(n))}catch{}}return null}var de=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Mt=[],ut=-1;function N(e){return{current:e}}function Y(e){0>ut||(e.current=Mt[ut],Mt[ut]=null,ut--)}function et(e,n){ut++,Mt[ut]=e.current,e.current=n}var rt=N(null),_t=N(null),St=N(null),Vt=N(null);function he(e,n){switch(et(St,n),et(_t,e),et(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?p_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=p_(n),e=y_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),et(rt,e)}function Jt(){Y(rt),Y(_t),Y(St)}function ji(e){e.memoizedState!==null&&et(Vt,e);var n=rt.current,s=y_(n,e.type);n!==s&&(et(_t,e),et(rt,s))}function Bi(e){_t.current===e&&(Y(rt),Y(_t)),Vt.current===e&&(Y(Vt),pl._currentValue=ft)}var li,ui;function rn(e){if(li===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);li=n&&n[1]||"",ui=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+li+e+ui}var _s=!1;function Nn(e,n){if(!e||_s)return"";_s=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var j=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){j=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){j=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var Q=`
`+I[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{_s=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?rn(s):""}function vs(e,n){switch(e.tag){case 26:case 27:case 5:return rn(e.type);case 16:return rn("Lazy");case 13:return e.child!==n&&n!==null?rn("Suspense Fallback"):rn("Suspense");case 19:return rn("SuspenseList");case 0:case 15:return Nn(e.type,!1);case 11:return Nn(e.type.render,!1);case 1:return Nn(e.type,!0);case 31:return rn("Activity");default:return""}}function B(e){try{var n="",s=null;do n+=vs(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ct=Object.prototype.hasOwnProperty,Nt=r.unstable_scheduleCallback,Ge=r.unstable_cancelCallback,ci=r.unstable_shouldYield,Ve=r.unstable_requestPaint,ke=r.unstable_now,yn=r.unstable_getCurrentPriorityLevel,vo=r.unstable_ImmediatePriority,Eo=r.unstable_UserBlockingPriority,Es=r.unstable_NormalPriority,Ph=r.unstable_LowPriority,ru=r.unstable_IdlePriority,au=r.log,ou=r.unstable_setDisableYieldValue,Fn=null,Fe=null;function Dn(e){if(typeof au=="function"&&ou(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Fn,e)}catch{}}var _e=Math.clz32?Math.clz32:uu,lu=Math.log,aa=Math.LN2;function uu(e){return e>>>=0,e===0?32:31-(lu(e)/aa|0)|0}var hi=256,Er=262144,be=4194304;function fi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function di(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=fi(o):(g&=E,g!==0?h=fi(g):s||(s=E&~e,s!==0&&(h=fi(s))))):(E=o&~f,E!==0?h=fi(E):g!==0?h=fi(g):s||(s=o&~e,s!==0&&(h=fi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Qn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function zh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cu(){var e=be;return be<<=1,(be&62914560)===0&&(be=4194304),e}function mi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Tr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var Q=31-_e(s),X=1<<Q;E[Q]=0,I[Q]=-1;var j=z[Q];if(j!==null)for(z[Q]=null,Q=0;Q<j.length;Q++){var H=j[Q];H!==null&&(H.lane&=-536870913)}s&=~X}o!==0&&Ar(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Ar(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-_e(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function To(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-_e(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function Ao(e,n){var s=n&-n;return s=(s&42)!==0?1:br(s),(s&(e.suspendedLanes|n))!==0?0:s}function br(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function hu(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:j_(e.type))}function Kn(e,n){var s=it.p;try{return it.p=e,n()}finally{it.p=s}}var Yn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Yn,Pe="__reactProps$"+Yn,gi="__reactContainer$"+Yn,oa="__reactEvents$"+Yn,Bh="__reactListeners$"+Yn,fu="__reactHandles$"+Yn,du="__reactResources$"+Yn,pi="__reactMarker$"+Yn;function la(e){delete e[Se],delete e[Pe],delete e[oa],delete e[Bh],delete e[fu]}function yi(e){var n=e[Se];if(n)return n;for(var s=e.parentNode;s;){if(n=s[gi]||s[Se]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=S_(e);e!==null;){if(s=e[Se])return s;e=S_(e)}return n}e=s,s=e.parentNode}return null}function xn(e){if(e=e[Se]||e[gi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function _n(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function _i(e){var n=e[du];return n||(n=e[du]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function we(e){e[pi]=!0}var bo=new Set,So={};function vi(e,n){Ei(e,n),Ei(e+"Capture",n)}function Ei(e,n){for(So[e]=n,e=0;e<n.length;e++)bo.add(n[e])}var wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ro={},Io={};function mu(e){return ct.call(Io,e)?!0:ct.call(Ro,e)?!1:wo.test(e)?Io[e]=!0:(Ro[e]=!0,!1)}function ua(e,n,s){if(mu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function vn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Re(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ts(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Co(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Yt(e){if(!e._valueTracker){var n=Ts(e)?"checked":"value";e._valueTracker=Co(e,n,""+e[n])}}function Sr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=Ts(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var wr=/[\n"\\]/g;function ln(e){return e.replace(wr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ca(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ze(n)):e.value!==""+ze(n)&&(e.value=""+ze(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?No(e,g,ze(n)):s!=null?No(e,g,ze(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ze(E):e.removeAttribute("name")}function gu(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(e);return}s=s!=null?""+ze(s):"",n=n!=null?""+ze(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Yt(e)}function No(e,n,s){n==="number"&&Ti(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function As(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+ze(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function pu(e,n,s){if(n!=null&&(n=""+ze(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ze(s):""}function bs(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(de(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=ze(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Yt(e)}function un(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var yu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||yu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function xo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Do(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Do(e,f,n[f])}function ha(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(e){return Ss.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Xn(){}var Oo=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ws=null,Ai=null;function Rr(e){var n=xn(e);if(n&&(e=n.stateNode)){var s=e[Pe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ca(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ln(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Pe]||null;if(!h)throw Error(a(90));ca(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Sr(o)}break t;case"textarea":pu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&As(e,!!s.multiple,n,!1)}}}var da=!1;function Rs(e,n,s){if(da)return e(n,s);da=!0;try{var o=e(n);return o}finally{if(da=!1,(ws!==null||Ai!==null)&&(hc(),ws&&(n=ws,e=Ai,Ai=ws=null,Rr(n),e)))for(n=0;n<e.length;n++)Rr(e[n])}}function $n(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Pe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(Mn)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{Ir=!1}var bi=null,Mo=null,Cr=null;function Vo(){if(Cr)return Cr;var e,n=Mo,s=n.length,o,h="value"in bi?bi.value:bi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return Cr=h.slice(e,1<o?1-o:void 0)}function Nr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Hi(){return!0}function Zn(){return!1}function Qe(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hi:Zn,this.isPropagationStopped=Zn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),n}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Qe(Gi),Is=b({},Gi,{view:0,detail:0}),ko=Qe(Is),Cs,ma,wi,ga=b({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wi&&(wi&&e.type==="mousemove"?(Cs=e.screenX-wi.screenX,ma=e.screenY-wi.screenY):ma=Cs=0,wi=e),Cs)},movementY:function(e){return"movementY"in e?e.movementY:ma}}),Uo=Qe(ga),Dr=b({},ga,{dataTransfer:0}),vu=Qe(Dr),Eu=b({},Is,{relatedTarget:0}),xr=Qe(Eu),Lo=b({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),Tu=Qe(Lo),pa=b({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Au=Qe(pa),bu=b({},Gi,{data:0}),Ri=Qe(bu),Su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ru[e])?!!n[e]:!1}function Ns(){return Iu}var an=b({},Is,{key:function(e){if(e.key){var n=Su[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Nr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(e){return e.type==="keypress"?Nr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cu=Qe(an),Nu=b({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=Qe(Nu),u=b({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),m=Qe(u),v=b({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Qe(v),L=b({},ga,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Qe(L),tt=b({},Gi,{newState:0,oldState:0}),wt=Qe(tt),ve=[9,13,27,32],Gt=Mn&&"CompositionEvent"in window,ue=null;Mn&&"documentMode"in document&&(ue=document.documentMode);var Vn=Mn&&"TextEvent"in window&&!ue,Ii=Mn&&(!Gt||ue&&8<ue&&11>=ue),Jn=" ",Wn=!1;function Or(e,n){switch(e){case"keyup":return ve.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _a=!1;function f1(e,n){switch(e){case"compositionend":return ya(n);case"keypress":return n.which!==32?null:(Wn=!0,Jn);case"textInput":return e=n.data,e===Jn&&Wn?null:e;default:return null}}function d1(e,n){if(_a)return e==="compositionend"||!Gt&&Or(e,n)?(e=Vo(),Cr=Mo=bi=null,_a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ii&&n.locale!=="ko"?null:n.data;default:return null}}var m1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ig(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!m1[e.type]:n==="textarea"}function Cg(e,n,s,o){ws?Ai?Ai.push(o):Ai=[o]:ws=o,n=_c(n,"onChange"),0<n.length&&(s=new Si("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Po=null,zo=null;function g1(e){c_(e,0)}function Du(e){var n=_n(e);if(Sr(n))return e}function Ng(e,n){if(e==="change")return n}var Dg=!1;if(Mn){var qh;if(Mn){var Hh="oninput"in document;if(!Hh){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),Hh=typeof xg.oninput=="function"}qh=Hh}else qh=!1;Dg=qh&&(!document.documentMode||9<document.documentMode)}function Og(){Po&&(Po.detachEvent("onpropertychange",Mg),zo=Po=null)}function Mg(e){if(e.propertyName==="value"&&Du(zo)){var n=[];Cg(n,zo,e,On(e)),Rs(g1,n)}}function p1(e,n,s){e==="focusin"?(Og(),Po=n,zo=s,Po.attachEvent("onpropertychange",Mg)):e==="focusout"&&Og()}function y1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Du(zo)}function _1(e,n){if(e==="click")return Du(n)}function v1(e,n){if(e==="input"||e==="change")return Du(n)}function E1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var En=typeof Object.is=="function"?Object.is:E1;function jo(e,n){if(En(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ct.call(n,h)||!En(e[h],n[h]))return!1}return!0}function Vg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kg(e,n){var s=Vg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Vg(s)}}function Ug(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ug(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Lg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ti(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ti(e.document)}return n}function Gh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var T1=Mn&&"documentMode"in document&&11>=document.documentMode,va=null,Fh=null,Bo=null,Qh=!1;function Pg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Qh||va==null||va!==Ti(o)||(o=va,"selectionStart"in o&&Gh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Bo&&jo(Bo,o)||(Bo=o,o=_c(Fh,"onSelect"),0<o.length&&(n=new Si("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=va)))}function Mr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Ea={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},Kh={},zg={};Mn&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Vr(e){if(Kh[e])return Kh[e];if(!Ea[e])return e;var n=Ea[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in zg)return Kh[e]=n[s];return e}var jg=Vr("animationend"),Bg=Vr("animationiteration"),qg=Vr("animationstart"),A1=Vr("transitionrun"),b1=Vr("transitionstart"),S1=Vr("transitioncancel"),Hg=Vr("transitionend"),Gg=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function ti(e,n){Gg.set(e,n),vi(n,[e])}var xu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kn=[],Ta=0,Xh=0;function Ou(){for(var e=Ta,n=Xh=Ta=0;n<e;){var s=kn[n];kn[n++]=null;var o=kn[n];kn[n++]=null;var h=kn[n];kn[n++]=null;var f=kn[n];if(kn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Fg(s,h,f)}}function Mu(e,n,s,o){kn[Ta++]=e,kn[Ta++]=n,kn[Ta++]=s,kn[Ta++]=o,Xh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function $h(e,n,s,o){return Mu(e,n,s,o),Vu(e)}function kr(e,n){return Mu(e,null,null,n),Vu(e)}function Fg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-_e(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Vu(e){if(50<ul)throw ul=0,ad=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Aa={};function w1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,n,s,o){return new w1(e,n,s,o)}function Zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qi(e,n){var s=e.alternate;return s===null?(s=Tn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Qg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ku(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Zh(e)&&(g=1);else if(typeof e=="string")g=DA(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=Tn(31,s,n,h),e.elementType=w,e.lanes=f,e;case nt:return Ur(s.children,h,f,n);case W:g=8,h|=24;break;case gt:return e=Tn(12,s,n,h|2),e.elementType=gt,e.lanes=f,e;case ie:return e=Tn(13,s,n,h),e.elementType=ie,e.lanes=f,e;case Ct:return e=Tn(19,s,n,h),e.elementType=Ct,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:g=10;break t;case mt:g=9;break t;case Ot:g=11;break t;case C:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Tn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ur(e,n,s,o){return e=Tn(7,e,o,n),e.lanes=s,e}function Jh(e,n,s){return e=Tn(6,e,null,n),e.lanes=s,e}function Kg(e){var n=Tn(18,null,null,0);return n.stateNode=e,n}function Wh(e,n,s){return n=Tn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Yg=new WeakMap;function Un(e,n){if(typeof e=="object"&&e!==null){var s=Yg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:B(n)},Yg.set(e,n),n)}return{value:e,source:n,stack:B(n)}}var ba=[],Sa=0,Uu=null,qo=0,Ln=[],Pn=0,Ds=null,Ci=1,Ni="";function Ki(e,n){ba[Sa++]=qo,ba[Sa++]=Uu,Uu=e,qo=n}function Xg(e,n,s){Ln[Pn++]=Ci,Ln[Pn++]=Ni,Ln[Pn++]=Ds,Ds=e;var o=Ci;e=Ni;var h=32-_e(o)-1;o&=~(1<<h),s+=1;var f=32-_e(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ci=1<<32-_e(n)+h|s<<h|o,Ni=f+e}else Ci=1<<f|s<<h|o,Ni=e}function tf(e){e.return!==null&&(Ki(e,1),Xg(e,1,0))}function ef(e){for(;e===Uu;)Uu=ba[--Sa],ba[Sa]=null,qo=ba[--Sa],ba[Sa]=null;for(;e===Ds;)Ds=Ln[--Pn],Ln[Pn]=null,Ni=Ln[--Pn],Ln[Pn]=null,Ci=Ln[--Pn],Ln[Pn]=null}function $g(e,n){Ln[Pn++]=Ci,Ln[Pn++]=Ni,Ln[Pn++]=Ds,Ci=n.id,Ni=n.overflow,Ds=e}var Ke=null,oe=null,jt=!1,xs=null,zn=!1,nf=Error(a(519));function Os(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ho(Un(n,e)),nf}function Zg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Se]=e,n[Pe]=o,s){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(s=0;s<hl.length;s++)xt(hl[s],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),gu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),bs(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||m_(n.textContent,s)?(o.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),o.onScroll!=null&&xt("scroll",n),o.onScrollEnd!=null&&xt("scrollend",n),o.onClick!=null&&(n.onclick=Xn),n=!0):n=!1,n||Os(e,!0)}function Jg(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ke=Ke.return}}function wa(e){if(e!==Ke)return!1;if(!jt)return Jg(e),jt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Td(e.type,e.memoizedProps)),s=!s),s&&oe&&Os(e),Jg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));oe=b_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));oe=b_(e)}else n===27?(n=oe,Qs(e.type)?(e=Rd,Rd=null,oe=e):oe=n):oe=Ke?Bn(e.stateNode.nextSibling):null;return!0}function Lr(){oe=Ke=null,jt=!1}function sf(){var e=xs;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),xs=null),e}function Ho(e){xs===null?xs=[e]:xs.push(e)}var rf=N(null),Pr=null,Yi=null;function Ms(e,n,s){et(rf,n._currentValue),n._currentValue=s}function Xi(e){e._currentValue=rf.current,Y(rf)}function af(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function of(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),af(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),af(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ra(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;En(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Vt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(pl):e=[pl])}h=h.return}e!==null&&of(n,e,s,o),n.flags|=262144}function Lu(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zr(e){Pr=e,Yi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return Wg(Pr,e)}function Pu(e,n){return Pr===null&&zr(e),Wg(e,n)}function Wg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Yi===null){if(e===null)throw Error(a(308));Yi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Yi=Yi.next=n;return s}var R1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},I1=r.unstable_scheduleCallback,C1=r.unstable_NormalPriority,Ie={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new R1,data:new Map,refCount:0}}function Go(e){e.refCount--,e.refCount===0&&I1(C1,function(){e.controller.abort()})}var Fo=null,uf=0,Ia=0,Ca=null;function N1(e,n){if(Fo===null){var s=Fo=[];uf=0,Ia=fd(),Ca={status:"pending",value:void 0,then:function(o){s.push(o)}}}return uf++,n.then(tp,tp),n}function tp(){if(--uf===0&&Fo!==null){Ca!==null&&(Ca.status="fulfilled");var e=Fo;Fo=null,Ia=0,Ca=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function D1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var ep=F.S;F.S=function(e,n){Py=ke(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&N1(e,n),ep!==null&&ep(e,n)};var jr=N(null);function cf(){var e=jr.current;return e!==null?e:se.pooledCache}function zu(e,n){n===null?et(jr,jr.current):et(jr,n.pool)}function np(){var e=cf();return e===null?null:{parent:Ie._currentValue,pool:e}}var Na=Error(a(460)),hf=Error(a(474)),ju=Error(a(542)),Bu={then:function(){}};function ip(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Xn,Xn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ap(e),e;default:if(typeof n.status=="string")n.then(Xn,Xn);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ap(e),e}throw qr=n,Na}}function Br(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(qr=s,Na):s}}var qr=null;function rp(){if(qr===null)throw Error(a(459));var e=qr;return qr=null,e}function ap(e){if(e===Na||e===ju)throw Error(a(483))}var Da=null,Qo=0;function qu(e){var n=Qo;return Qo+=1,Da===null&&(Da=[]),sp(Da,e,n)}function Ko(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Hu(e,n){throw n.$$typeof===O?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function op(e){function n(k,x){if(e){var P=k.deletions;P===null?(k.deletions=[x],k.flags|=16):P.push(x)}}function s(k,x){if(!e)return null;for(;x!==null;)n(k,x),x=x.sibling;return null}function o(k){for(var x=new Map;k!==null;)k.key!==null?x.set(k.key,k):x.set(k.index,k),k=k.sibling;return x}function h(k,x){return k=Qi(k,x),k.index=0,k.sibling=null,k}function f(k,x,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<x?(k.flags|=67108866,x):P):(k.flags|=67108866,x)):(k.flags|=1048576,x)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,x,P,K){return x===null||x.tag!==6?(x=Jh(P,k.mode,K),x.return=k,x):(x=h(x,P),x.return=k,x)}function I(k,x,P,K){var dt=P.type;return dt===nt?Q(k,x,P.props.children,K,P.key):x!==null&&(x.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&Br(dt)===x.type)?(x=h(x,P.props),Ko(x,P),x.return=k,x):(x=ku(P.type,P.key,P.props,null,k.mode,K),Ko(x,P),x.return=k,x)}function z(k,x,P,K){return x===null||x.tag!==4||x.stateNode.containerInfo!==P.containerInfo||x.stateNode.implementation!==P.implementation?(x=Wh(P,k.mode,K),x.return=k,x):(x=h(x,P.children||[]),x.return=k,x)}function Q(k,x,P,K,dt){return x===null||x.tag!==7?(x=Ur(P,k.mode,K,dt),x.return=k,x):(x=h(x,P),x.return=k,x)}function X(k,x,P){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Jh(""+x,k.mode,P),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case G:return P=ku(x.type,x.key,x.props,null,k.mode,P),Ko(P,x),P.return=k,P;case J:return x=Wh(x,k.mode,P),x.return=k,x;case S:return x=Br(x),X(k,x,P)}if(de(x)||U(x))return x=Ur(x,k.mode,P,null),x.return=k,x;if(typeof x.then=="function")return X(k,qu(x),P);if(x.$$typeof===pt)return X(k,Pu(k,x),P);Hu(k,x)}return null}function j(k,x,P,K){var dt=x!==null?x.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return dt!==null?null:E(k,x,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===dt?I(k,x,P,K):null;case J:return P.key===dt?z(k,x,P,K):null;case S:return P=Br(P),j(k,x,P,K)}if(de(P)||U(P))return dt!==null?null:Q(k,x,P,K,null);if(typeof P.then=="function")return j(k,x,qu(P),K);if(P.$$typeof===pt)return j(k,x,Pu(k,P),K);Hu(k,P)}return null}function H(k,x,P,K,dt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,E(x,k,""+K,dt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case G:return k=k.get(K.key===null?P:K.key)||null,I(x,k,K,dt);case J:return k=k.get(K.key===null?P:K.key)||null,z(x,k,K,dt);case S:return K=Br(K),H(k,x,P,K,dt)}if(de(K)||U(K))return k=k.get(P)||null,Q(x,k,K,dt,null);if(typeof K.then=="function")return H(k,x,P,qu(K),dt);if(K.$$typeof===pt)return H(k,x,P,Pu(x,K),dt);Hu(x,K)}return null}function ot(k,x,P,K){for(var dt=null,qt=null,lt=x,It=x=0,Ut=null;lt!==null&&It<P.length;It++){lt.index>It?(Ut=lt,lt=null):Ut=lt.sibling;var Ht=j(k,lt,P[It],K);if(Ht===null){lt===null&&(lt=Ut);break}e&&lt&&Ht.alternate===null&&n(k,lt),x=f(Ht,x,It),qt===null?dt=Ht:qt.sibling=Ht,qt=Ht,lt=Ut}if(It===P.length)return s(k,lt),jt&&Ki(k,It),dt;if(lt===null){for(;It<P.length;It++)lt=X(k,P[It],K),lt!==null&&(x=f(lt,x,It),qt===null?dt=lt:qt.sibling=lt,qt=lt);return jt&&Ki(k,It),dt}for(lt=o(lt);It<P.length;It++)Ut=H(lt,k,It,P[It],K),Ut!==null&&(e&&Ut.alternate!==null&&lt.delete(Ut.key===null?It:Ut.key),x=f(Ut,x,It),qt===null?dt=Ut:qt.sibling=Ut,qt=Ut);return e&&lt.forEach(function(Zs){return n(k,Zs)}),jt&&Ki(k,It),dt}function yt(k,x,P,K){if(P==null)throw Error(a(151));for(var dt=null,qt=null,lt=x,It=x=0,Ut=null,Ht=P.next();lt!==null&&!Ht.done;It++,Ht=P.next()){lt.index>It?(Ut=lt,lt=null):Ut=lt.sibling;var Zs=j(k,lt,Ht.value,K);if(Zs===null){lt===null&&(lt=Ut);break}e&&lt&&Zs.alternate===null&&n(k,lt),x=f(Zs,x,It),qt===null?dt=Zs:qt.sibling=Zs,qt=Zs,lt=Ut}if(Ht.done)return s(k,lt),jt&&Ki(k,It),dt;if(lt===null){for(;!Ht.done;It++,Ht=P.next())Ht=X(k,Ht.value,K),Ht!==null&&(x=f(Ht,x,It),qt===null?dt=Ht:qt.sibling=Ht,qt=Ht);return jt&&Ki(k,It),dt}for(lt=o(lt);!Ht.done;It++,Ht=P.next())Ht=H(lt,k,It,Ht.value,K),Ht!==null&&(e&&Ht.alternate!==null&&lt.delete(Ht.key===null?It:Ht.key),x=f(Ht,x,It),qt===null?dt=Ht:qt.sibling=Ht,qt=Ht);return e&&lt.forEach(function(BA){return n(k,BA)}),jt&&Ki(k,It),dt}function ne(k,x,P,K){if(typeof P=="object"&&P!==null&&P.type===nt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var dt=P.key;x!==null;){if(x.key===dt){if(dt=P.type,dt===nt){if(x.tag===7){s(k,x.sibling),K=h(x,P.props.children),K.return=k,k=K;break t}}else if(x.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&Br(dt)===x.type){s(k,x.sibling),K=h(x,P.props),Ko(K,P),K.return=k,k=K;break t}s(k,x);break}else n(k,x);x=x.sibling}P.type===nt?(K=Ur(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=ku(P.type,P.key,P.props,null,k.mode,K),Ko(K,P),K.return=k,k=K)}return g(k);case J:t:{for(dt=P.key;x!==null;){if(x.key===dt)if(x.tag===4&&x.stateNode.containerInfo===P.containerInfo&&x.stateNode.implementation===P.implementation){s(k,x.sibling),K=h(x,P.children||[]),K.return=k,k=K;break t}else{s(k,x);break}else n(k,x);x=x.sibling}K=Wh(P,k.mode,K),K.return=k,k=K}return g(k);case S:return P=Br(P),ne(k,x,P,K)}if(de(P))return ot(k,x,P,K);if(U(P)){if(dt=U(P),typeof dt!="function")throw Error(a(150));return P=dt.call(P),yt(k,x,P,K)}if(typeof P.then=="function")return ne(k,x,qu(P),K);if(P.$$typeof===pt)return ne(k,x,Pu(k,P),K);Hu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,x!==null&&x.tag===6?(s(k,x.sibling),K=h(x,P),K.return=k,k=K):(s(k,x),K=Jh(P,k.mode,K),K.return=k,k=K),g(k)):s(k,x)}return function(k,x,P,K){try{Qo=0;var dt=ne(k,x,P,K);return Da=null,dt}catch(lt){if(lt===Na||lt===ju)throw lt;var qt=Tn(29,lt,null,k.mode);return qt.lanes=K,qt.return=k,qt}}}var Hr=op(!0),lp=op(!1),Vs=!1;function ff(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ks(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Us(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Vu(e),Fg(e,null,s),n}return Mu(e,o,n,s),Vu(e)}function Yo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,To(e,s)}}function mf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var gf=!1;function Xo(){if(gf){var e=Ca;if(e!==null)throw e}}function $o(e,n,s,o){gf=!1;var h=e.updateQueue;Vs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,g===null?f=z:g.next=z,g=I;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;g=0,Q=z=I=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(kt&j)===j:(o&j)===j){j!==0&&j===Ia&&(gf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,yt=E;j=n;var ne=s;switch(yt.tag){case 1:if(ot=yt.payload,typeof ot=="function"){X=ot.call(ne,X,j);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=yt.payload,j=typeof ot=="function"?ot.call(ne,X,j):ot,j==null)break t;X=b({},X,j);break t;case 2:Vs=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=H,I=X):Q=Q.next=H,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(I=X),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Bs|=g,e.lanes=g,e.memoizedState=X}}function up(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function cp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)up(s[e],n)}var xa=N(null),Gu=N(0);function hp(e,n){e=ss,et(Gu,e),et(xa,n),ss=e|n.baseLanes}function pf(){et(Gu,ss),et(xa,xa.current)}function yf(){ss=Gu.current,Y(xa),Y(Gu)}var An=N(null),jn=null;function Ls(e){var n=e.alternate;et(Ee,Ee.current&1),et(An,e),jn===null&&(n===null||xa.current!==null||n.memoizedState!==null)&&(jn=e)}function _f(e){et(Ee,Ee.current),et(An,e),jn===null&&(jn=e)}function fp(e){e.tag===22?(et(Ee,Ee.current),et(An,e),jn===null&&(jn=e)):Ps()}function Ps(){et(Ee,Ee.current),et(An,An.current)}function bn(e){Y(An),jn===e&&(jn=null),Y(Ee)}var Ee=N(0);function Fu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Sd(s)||wd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $i=0,Rt=null,te=null,Ce=null,Qu=!1,Oa=!1,Gr=!1,Ku=0,Zo=0,Ma=null,x1=0;function me(){throw Error(a(321))}function vf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!En(e[s],n[s]))return!1;return!0}function Ef(e,n,s,o,h,f){return $i=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Xp:kf,Gr=!1,f=s(o,h),Gr=!1,Oa&&(f=mp(n,s,o,h)),dp(e),f}function dp(e){F.H=tl;var n=te!==null&&te.next!==null;if($i=0,Ce=te=Rt=null,Qu=!1,Zo=0,Ma=null,n)throw Error(a(300));e===null||Ne||(e=e.dependencies,e!==null&&Lu(e)&&(Ne=!0))}function mp(e,n,s,o){Rt=e;var h=0;do{if(Oa&&(Ma=null),Zo=0,Oa=!1,25<=h)throw Error(a(301));if(h+=1,Ce=te=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=$p,f=n(s,o)}while(Oa);return f}function O1(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Jo(n):n,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(Rt.flags|=1024),n}function Tf(){var e=Ku!==0;return Ku=0,e}function Af(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function bf(e){if(Qu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Qu=!1}$i=0,Ce=te=Rt=null,Oa=!1,Zo=Ku=0,Ma=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Rt.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function Te(){if(te===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var n=Ce===null?Rt.memoizedState:Ce.next;if(n!==null)Ce=n,te=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Ce===null?Rt.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(e){var n=Zo;return Zo+=1,Ma===null&&(Ma=[]),e=sp(Ma,e,n),n=Rt,(Ce===null?n.memoizedState:Ce.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Xp:kf),e}function Xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===pt)return Ye(e)}throw Error(a(438,String(e)))}function Sf(e){var n=null,s=Rt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Yu(),Rt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function Zi(e,n){return typeof n=="function"?n(e):n}function $u(e){var n=Te();return wf(n,te,e)}function wf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,z=n,Q=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(kt&X)===X:($i&X)===X){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ia&&(Q=!0);else if(($i&j)===j){z=z.next,j===Ia&&(Q=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=X,g=f):I=I.next=X,Rt.lanes|=j,Bs|=j;X=z.action,Gr&&s(f,X),f=z.hasEagerState?z.eagerState:s(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,g=f):I=I.next=j,Rt.lanes|=X,Bs|=X;z=z.next}while(z!==null&&z!==n);if(I===null?g=f:I.next=E,!En(f,e.memoizedState)&&(Ne=!0,Q&&(s=Ca,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Rf(e){var n=Te(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);En(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function gp(e,n,s){var o=Rt,h=Te(),f=jt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!En((te||h).memoizedState,s);if(g&&(h.memoizedState=s,Ne=!0),h=h.queue,Nf(_p.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ce!==null&&Ce.memoizedState.tag&1){if(o.flags|=2048,Va(9,{destroy:void 0},yp.bind(null,o,h,s,n),null),se===null)throw Error(a(349));f||($i&127)!==0||pp(o,n,s)}return s}function pp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Rt.updateQueue,n===null?(n=Yu(),Rt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function yp(e,n,s,o){n.value=s,n.getSnapshot=o,vp(n)&&Ep(e)}function _p(e,n,s){return s(function(){vp(n)&&Ep(e)})}function vp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!En(e,s)}catch{return!0}}function Ep(e){var n=kr(e,2);n!==null&&mn(n,e,2)}function If(e){var n=on();if(typeof e=="function"){var s=e;if(e=s(),Gr){Dn(!0);try{s()}finally{Dn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:e},n}function Tp(e,n,s,o){return e.baseState=s,wf(e,te,typeof o=="function"?o:Zi)}function M1(e,n,s,o,h){if(Wu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Ap(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Ap(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=s(h,o),I=F.S;I!==null&&I(g,E),bp(e,n,E)}catch(z){Cf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=s(h,o),bp(e,n,f)}catch(z){Cf(e,n,z)}}function bp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Sp(e,n,o)},function(o){return Cf(e,n,o)}):Sp(e,n,s)}function Sp(e,n,s){n.status="fulfilled",n.value=s,wp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Ap(e,s)))}function Cf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,wp(n),n=n.next;while(n!==o)}e.action=null}function wp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Rp(e,n){return n}function Ip(e,n){if(jt){var s=se.formState;if(s!==null){t:{var o=Rt;if(jt){if(oe){e:{for(var h=oe,f=zn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Bn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){oe=Bn(h.nextSibling),o=h.data==="F!";break t}}Os(o)}o=!1}o&&(n=s[0])}}return s=on(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rp,lastRenderedState:n},s.queue=o,s=Qp.bind(null,Rt,o),o.dispatch=s,o=If(!1),f=Vf.bind(null,Rt,!1,o.queue),o=on(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=M1.bind(null,Rt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Cp(e){var n=Te();return Np(n,te,e)}function Np(e,n,s){if(n=wf(e,n,Rp)[0],e=$u(Zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Jo(n)}catch(g){throw g===Na?ju:g}else o=n;n=Te();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Rt.flags|=2048,Va(9,{destroy:void 0},V1.bind(null,h,s),null)),[o,f,e]}function V1(e,n){e.action=n}function Dp(e){var n=Te(),s=te;if(s!==null)return Np(n,s,e);Te(),n=n.memoizedState,s=Te();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Va(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Yu(),Rt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function xp(){return Te().memoizedState}function Zu(e,n,s,o){var h=on();Rt.flags|=e,h.memoizedState=Va(1|n,{destroy:void 0},s,o===void 0?null:o)}function Ju(e,n,s,o){var h=Te();o=o===void 0?null:o;var f=h.memoizedState.inst;te!==null&&o!==null&&vf(o,te.memoizedState.deps)?h.memoizedState=Va(n,f,s,o):(Rt.flags|=e,h.memoizedState=Va(1|n,f,s,o))}function Op(e,n){Zu(8390656,8,e,n)}function Nf(e,n){Ju(2048,8,e,n)}function k1(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=Yu(),Rt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Mp(e){var n=Te().memoizedState;return k1({ref:n,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Vp(e,n){return Ju(4,2,e,n)}function kp(e,n){return Ju(4,4,e,n)}function Up(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Lp(e,n,s){s=s!=null?s.concat([e]):null,Ju(4,4,Up.bind(null,n,e),s)}function Df(){}function Pp(e,n){var s=Te();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&vf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function zp(e,n){var s=Te();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&vf(n,o[1]))return o[0];if(o=e(),Gr){Dn(!0);try{e()}finally{Dn(!1)}}return s.memoizedState=[o,n],o}function xf(e,n,s){return s===void 0||($i&1073741824)!==0&&(kt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=jy(),Rt.lanes|=e,Bs|=e,s)}function jp(e,n,s,o){return En(s,n)?s:xa.current!==null?(e=xf(e,s,o),En(e,n)||(Ne=!0),e):($i&42)===0||($i&1073741824)!==0&&(kt&261930)===0?(Ne=!0,e.memoizedState=s):(e=jy(),Rt.lanes|=e,Bs|=e,n)}function Bp(e,n,s,o,h){var f=it.p;it.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,Vf(e,!1,n,s);try{var I=h(),z=F.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=D1(I,o);Wo(e,n,Q,Rn(e))}else Wo(e,n,o,Rn(e))}catch(X){Wo(e,n,{then:function(){},status:"rejected",reason:X},Rn())}finally{it.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function U1(){}function Of(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=qp(e).queue;Bp(e,h,n,ft,s===null?U1:function(){return Hp(e),s(o)})}function qp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ft},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Hp(e){var n=qp(e);n.next===null&&(n=e.alternate.memoizedState),Wo(e,n.next.queue,{},Rn())}function Mf(){return Ye(pl)}function Gp(){return Te().memoizedState}function Fp(){return Te().memoizedState}function L1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Rn();e=ks(s);var o=Us(n,e,s);o!==null&&(mn(o,n,s),Yo(o,n,s)),n={cache:lf()},e.payload=n;return}n=n.return}}function P1(e,n,s){var o=Rn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Wu(e)?Kp(n,s):(s=$h(e,n,s,o),s!==null&&(mn(s,e,o),Yp(s,n,o)))}function Qp(e,n,s){var o=Rn();Wo(e,n,s,o)}function Wo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Wu(e))Kp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,En(E,g))return Mu(e,n,h,0),se===null&&Ou(),!1}catch{}if(s=$h(e,n,h,o),s!==null)return mn(s,e,o),Yp(s,n,o),!0}return!1}function Vf(e,n,s,o){if(o={lane:2,revertLane:fd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Wu(e)){if(n)throw Error(a(479))}else n=$h(e,s,o,2),n!==null&&mn(n,e,2)}function Wu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function Kp(e,n){Oa=Qu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Yp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,To(e,s)}}var tl={readContext:Ye,use:Xu,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};tl.useEffectEvent=me;var Xp={readContext:Ye,use:Xu,useCallback:function(e,n){return on().memoizedState=[e,n===void 0?null:n],e},useContext:Ye,useEffect:Op,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Zu(4194308,4,Up.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Zu(4194308,4,e,n)},useInsertionEffect:function(e,n){Zu(4,2,e,n)},useMemo:function(e,n){var s=on();n=n===void 0?null:n;var o=e();if(Gr){Dn(!0);try{e()}finally{Dn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=on();if(s!==void 0){var h=s(n);if(Gr){Dn(!0);try{s(n)}finally{Dn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=P1.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=on();return e={current:e},n.memoizedState=e},useState:function(e){e=If(e);var n=e.queue,s=Qp.bind(null,Rt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Df,useDeferredValue:function(e,n){var s=on();return xf(s,e,n)},useTransition:function(){var e=If(!1);return e=Bp.bind(null,Rt,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Rt,h=on();if(jt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),se===null)throw Error(a(349));(kt&127)!==0||pp(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Op(_p.bind(null,o,f,e),[e]),o.flags|=2048,Va(9,{destroy:void 0},yp.bind(null,o,f,s,n),null),s},useId:function(){var e=on(),n=se.identifierPrefix;if(jt){var s=Ni,o=Ci;s=(o&~(1<<32-_e(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Ku++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=x1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Mf,useFormState:Ip,useActionState:Ip,useOptimistic:function(e){var n=on();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Vf.bind(null,Rt,!0,s),s.dispatch=n,[e,n]},useMemoCache:Sf,useCacheRefresh:function(){return on().memoizedState=L1.bind(null,Rt)},useEffectEvent:function(e){var n=on(),s={impl:e};return n.memoizedState=s,function(){if((Ft&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},kf={readContext:Ye,use:Xu,useCallback:Pp,useContext:Ye,useEffect:Nf,useImperativeHandle:Lp,useInsertionEffect:Vp,useLayoutEffect:kp,useMemo:zp,useReducer:$u,useRef:xp,useState:function(){return $u(Zi)},useDebugValue:Df,useDeferredValue:function(e,n){var s=Te();return jp(s,te.memoizedState,e,n)},useTransition:function(){var e=$u(Zi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:gp,useId:Gp,useHostTransitionStatus:Mf,useFormState:Cp,useActionState:Cp,useOptimistic:function(e,n){var s=Te();return Tp(s,te,e,n)},useMemoCache:Sf,useCacheRefresh:Fp};kf.useEffectEvent=Mp;var $p={readContext:Ye,use:Xu,useCallback:Pp,useContext:Ye,useEffect:Nf,useImperativeHandle:Lp,useInsertionEffect:Vp,useLayoutEffect:kp,useMemo:zp,useReducer:Rf,useRef:xp,useState:function(){return Rf(Zi)},useDebugValue:Df,useDeferredValue:function(e,n){var s=Te();return te===null?xf(s,e,n):jp(s,te.memoizedState,e,n)},useTransition:function(){var e=Rf(Zi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:gp,useId:Gp,useHostTransitionStatus:Mf,useFormState:Dp,useActionState:Dp,useOptimistic:function(e,n){var s=Te();return te!==null?Tp(s,te,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:Fp};$p.useEffectEvent=Mp;function Uf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Lf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Rn(),h=ks(o);h.payload=n,s!=null&&(h.callback=s),n=Us(e,h,o),n!==null&&(mn(n,e,o),Yo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Rn(),h=ks(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Us(e,h,o),n!==null&&(mn(n,e,o),Yo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Rn(),o=ks(s);o.tag=2,n!=null&&(o.callback=n),n=Us(e,o,s),n!==null&&(mn(n,e,s),Yo(n,e,s))}};function Zp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!jo(s,o)||!jo(h,f):!0}function Jp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Lf.enqueueReplaceState(n,n.state,null)}function Fr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Wp(e){xu(e)}function ty(e){console.error(e)}function ey(e){xu(e)}function tc(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ny(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(e,n,s){return s=ks(s),s.tag=3,s.payload={element:null},s.callback=function(){tc(e,n)},s}function iy(e){return e=ks(e),e.tag=3,e}function sy(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){ny(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){ny(n,s,o),typeof h!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function z1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Ra(n,s,h,!0),s=An.current,s!==null){switch(s.tag){case 31:case 13:return jn===null?fc():s.alternate===null&&ge===0&&(ge=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Bu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),ud(e,o,h)),!1;case 22:return s.flags|=65536,o===Bu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),ud(e,o,h)),!1}throw Error(a(435,s.tag))}return ud(e,o,h),fc(),!1}if(jt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==nf&&(e=Error(a(422),{cause:o}),Ho(Un(e,s)))):(o!==nf&&(n=Error(a(423),{cause:o}),Ho(Un(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Un(o,s),h=Pf(e.stateNode,o,h),mf(e,h),ge!==4&&(ge=2)),!1;var f=Error(a(520),{cause:o});if(f=Un(f,s),ll===null?ll=[f]:ll.push(f),ge!==4&&(ge=2),n===null)return!0;o=Un(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Pf(s.stateNode,o,e),mf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(qs===null||!qs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=iy(h),sy(h,e,s,o),mf(s,h),!1}s=s.return}while(s!==null);return!1}var zf=Error(a(461)),Ne=!1;function Xe(e,n,s,o){n.child=e===null?lp(n,null,s,o):Hr(n,e.child,s,o)}function ry(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return zr(n),o=Ef(e,n,s,g,f,h),E=Tf(),e!==null&&!Ne?(Af(e,n,h),Ji(e,n,h)):(jt&&E&&tf(n),n.flags|=1,Xe(e,n,o,h),n.child)}function ay(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Zh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,oy(e,n,f,o,h)):(e=ku(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Kf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:jo,s(g,o)&&e.ref===n.ref)return Ji(e,n,h)}return n.flags|=1,e=Qi(f,o),e.ref=n.ref,e.return=n,n.child=e}function oy(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(jo(f,o)&&e.ref===n.ref)if(Ne=!1,n.pendingProps=o=f,Kf(e,h))(e.flags&131072)!==0&&(Ne=!0);else return n.lanes=e.lanes,Ji(e,n,h)}return jf(e,n,s,o,h)}function ly(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return uy(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&zu(n,f!==null?f.cachePool:null),f!==null?hp(n,f):pf(),fp(n);else return o=n.lanes=536870912,uy(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(zu(n,f.cachePool),hp(n,f),Ps(),n.memoizedState=null):(e!==null&&zu(n,null),pf(),Ps());return Xe(e,n,h,s),n.child}function el(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function uy(e,n,s,o,h){var f=cf();return f=f===null?null:{parent:Ie._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&zu(n,null),pf(),fp(n),e!==null&&Ra(e,n,o,!0),n.childLanes=h,null}function ec(e,n){return n=ic({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function cy(e,n,s){return Hr(n,e.child,null,s),e=ec(n,n.pendingProps),e.flags|=2,bn(n),n.memoizedState=null,e}function j1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(jt){if(o.mode==="hidden")return e=ec(n,o),n.lanes=536870912,el(null,e);if(_f(n),(e=oe)?(e=A_(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ds!==null?{id:Ci,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},s=Kg(e),s.return=n,n.child=s,Ke=n,oe=null)):e=null,e===null)throw Os(n);return n.lanes=536870912,null}return ec(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(_f(n),h)if(n.flags&256)n.flags&=-257,n=cy(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ne||Ra(e,n,s,!1),h=(s&e.childLanes)!==0,Ne||h){if(o=se,o!==null&&(g=Ao(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,kr(e,g),mn(o,e,g),zf;fc(),n=cy(e,n,s)}else e=f.treeContext,oe=Bn(g.nextSibling),Ke=n,jt=!0,xs=null,zn=!1,e!==null&&$g(n,e),n=ec(n,o),n.flags|=4096;return n}return e=Qi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function nc(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function jf(e,n,s,o,h){return zr(n),s=Ef(e,n,s,o,void 0,h),o=Tf(),e!==null&&!Ne?(Af(e,n,h),Ji(e,n,h)):(jt&&o&&tf(n),n.flags|=1,Xe(e,n,s,h),n.child)}function hy(e,n,s,o,h,f){return zr(n),n.updateQueue=null,s=mp(n,o,s,h),dp(e),o=Tf(),e!==null&&!Ne?(Af(e,n,f),Ji(e,n,f)):(jt&&o&&tf(n),n.flags|=1,Xe(e,n,s,f),n.child)}function fy(e,n,s,o,h){if(zr(n),n.stateNode===null){var f=Aa,g=s.contextType;typeof g=="object"&&g!==null&&(f=Ye(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ff(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Ye(g):Aa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Uf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Lf.enqueueReplaceState(f,f.state,null),$o(n,o,f,h),Xo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Fr(s,E);f.props=I;var z=f.context,Q=s.contextType;g=Aa,typeof Q=="object"&&Q!==null&&(g=Ye(Q));var X=s.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Jp(n,f,o,g),Vs=!1;var j=n.memoizedState;f.state=j,$o(n,o,f,h),Xo(),z=n.memoizedState,E||j!==z||Vs?(typeof X=="function"&&(Uf(n,s,X,o),z=n.memoizedState),(I=Vs||Zp(n,s,I,o,j,z,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,df(e,n),g=n.memoizedProps,Q=Fr(s,g),f.props=Q,X=n.pendingProps,j=f.context,z=s.contextType,I=Aa,typeof z=="object"&&z!==null&&(I=Ye(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||j!==I)&&Jp(n,f,o,I),Vs=!1,j=n.memoizedState,f.state=j,$o(n,o,f,h),Xo();var H=n.memoizedState;g!==X||j!==H||Vs||e!==null&&e.dependencies!==null&&Lu(e.dependencies)?(typeof E=="function"&&(Uf(n,s,E,o),H=n.memoizedState),(Q=Vs||Zp(n,s,Q,o,j,H,I)||e!==null&&e.dependencies!==null&&Lu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=Q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,nc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Hr(n,e.child,null,h),n.child=Hr(n,null,s,h)):Xe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Ji(e,n,h),e}function dy(e,n,s,o){return Lr(),n.flags|=256,Xe(e,n,s,o),n.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(e){return{baseLanes:e,cachePool:np()}}function Hf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=wn),e}function my(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ee.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(h?Ls(n):Ps(),(e=oe)?(e=A_(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ds!==null?{id:Ci,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},s=Kg(e),s.return=n,n.child=s,Ke=n,oe=null)):e=null,e===null)throw Os(n);return wd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ps(),h=n.mode,E=ic({mode:"hidden",children:E},h),o=Ur(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=qf(s),o.childLanes=Hf(e,g,s),n.memoizedState=Bf,el(null,o)):(Ls(n),Gf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Ls(n),n.flags&=-257,n=Ff(e,n,s)):n.memoizedState!==null?(Ps(),n.child=e.child,n.flags|=128,n=null):(Ps(),E=o.fallback,h=n.mode,o=ic({mode:"visible",children:o.children},h),E=Ur(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Hr(n,e.child,null,s),o=n.child,o.memoizedState=qf(s),o.childLanes=Hf(e,g,s),n.memoizedState=Bf,n=el(null,o));else if(Ls(n),wd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Ho({value:o,source:null,stack:null}),n=Ff(e,n,s)}else if(Ne||Ra(e,n,s,!1),g=(s&e.childLanes)!==0,Ne||g){if(g=se,g!==null&&(o=Ao(g,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,kr(e,o),mn(g,e,o),zf;Sd(E)||fc(),n=Ff(e,n,s)}else Sd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,oe=Bn(E.nextSibling),Ke=n,jt=!0,xs=null,zn=!1,e!==null&&$g(n,e),n=Gf(n,o.children),n.flags|=4096);return n}return h?(Ps(),E=o.fallback,h=n.mode,I=e.child,z=I.sibling,o=Qi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Qi(z,E):(E=Ur(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,el(null,o),o=n.child,E=e.child.memoizedState,E===null?E=qf(s):(h=E.cachePool,h!==null?(I=Ie._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=np(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Hf(e,g,s),n.memoizedState=Bf,el(e.child,o)):(Ls(n),s=e.child,e=s.sibling,s=Qi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Gf(e,n){return n=ic({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ic(e,n){return e=Tn(22,e,null,n),e.lanes=0,e}function Ff(e,n,s){return Hr(n,e.child,null,s),e=Gf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function gy(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),af(e.return,n,s)}function Qf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function py(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ee.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(Ee,g),Xe(e,n,o,s),o=jt?qo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gy(e,s,n);else if(e.tag===19)gy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Fu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Qf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Fu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Qf(n,!0,s,null,f,o);break;case"together":Qf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ji(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Bs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ra(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Qi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Qi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Kf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Lu(e)))}function B1(e,n,s){switch(n.tag){case 3:he(n,n.stateNode.containerInfo),Ms(n,Ie,e.memoizedState.cache),Lr();break;case 27:case 5:ji(n);break;case 4:he(n,n.stateNode.containerInfo);break;case 10:Ms(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,_f(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ls(n),n.flags|=128,null):(s&n.child.childLanes)!==0?my(e,n,s):(Ls(n),e=Ji(e,n,s),e!==null?e.sibling:null);Ls(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Ra(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return py(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(Ee,Ee.current),o)break;return null;case 22:return n.lanes=0,ly(e,n,s,n.pendingProps);case 24:Ms(n,Ie,e.memoizedState.cache)}return Ji(e,n,s)}function yy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Kf(e,s)&&(n.flags&128)===0)return Ne=!1,B1(e,n,s);Ne=(e.flags&131072)!==0}else Ne=!1,jt&&(n.flags&1048576)!==0&&Xg(n,qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Br(n.elementType),n.type=e,typeof e=="function")Zh(e)?(o=Fr(e,o),n.tag=1,n=fy(null,n,e,o,s)):(n.tag=0,n=jf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Ot){n.tag=11,n=ry(null,n,e,o,s);break t}else if(h===C){n.tag=14,n=ay(null,n,e,o,s);break t}}throw n=Zt(e)||e,Error(a(306,n,""))}}return n;case 0:return jf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Fr(o,n.pendingProps),fy(e,n,o,h,s);case 3:t:{if(he(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,df(e,n),$o(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Ms(n,Ie,o),o!==f.cache&&of(n,[Ie],s,!0),Xo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=dy(e,n,o,s);break t}else if(o!==h){h=Un(Error(a(424)),n),Ho(h),n=dy(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,oe=Bn(e.firstChild),Ke=n,jt=!0,xs=null,zn=!0,s=lp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Lr(),o===h){n=Ji(e,n,s);break t}Xe(e,n,o,s)}n=n.child}return n;case 26:return nc(e,n),e===null?(s=C_(n.type,null,n.pendingProps,null))?n.memoizedState=s:jt||(s=n.type,e=n.pendingProps,o=vc(St.current).createElement(s),o[Se]=n,o[Pe]=e,$e(o,s,e),we(o),n.stateNode=o):n.memoizedState=C_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ji(n),e===null&&jt&&(o=n.stateNode=w_(n.type,n.pendingProps,St.current),Ke=n,zn=!0,h=oe,Qs(n.type)?(Rd=h,oe=Bn(o.firstChild)):oe=h),Xe(e,n,n.pendingProps.children,s),nc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((h=o=oe)&&(o=yA(o,n.type,n.pendingProps,zn),o!==null?(n.stateNode=o,Ke=n,oe=Bn(o.firstChild),zn=!1,h=!0):h=!1),h||Os(n)),ji(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Td(h,f)?o=null:g!==null&&Td(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Ef(e,n,O1,null,null,s),pl._currentValue=h),nc(e,n),Xe(e,n,o,s),n.child;case 6:return e===null&&jt&&((e=s=oe)&&(s=_A(s,n.pendingProps,zn),s!==null?(n.stateNode=s,Ke=n,oe=null,e=!0):e=!1),e||Os(n)),null;case 13:return my(e,n,s);case 4:return he(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Hr(n,null,o,s):Xe(e,n,o,s),n.child;case 11:return ry(e,n,n.type,n.pendingProps,s);case 7:return Xe(e,n,n.pendingProps,s),n.child;case 8:return Xe(e,n,n.pendingProps.children,s),n.child;case 12:return Xe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ms(n,n.type,o.value),Xe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,zr(n),h=Ye(h),o=o(h),n.flags|=1,Xe(e,n,o,s),n.child;case 14:return ay(e,n,n.type,n.pendingProps,s);case 15:return oy(e,n,n.type,n.pendingProps,s);case 19:return py(e,n,s);case 31:return j1(e,n,s);case 22:return ly(e,n,s,n.pendingProps);case 24:return zr(n),o=Ye(Ie),e===null?(h=cf(),h===null&&(h=se,f=lf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},ff(n),Ms(n,Ie,h)):((e.lanes&s)!==0&&(df(e,n),$o(n,null,null,s),Xo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ms(n,Ie,o)):(o=f.cache,Ms(n,Ie,o),o!==h.cache&&of(n,[Ie],s,!0))),Xe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Wi(e){e.flags|=4}function Yf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Gy())e.flags|=8192;else throw qr=Bu,hf}else e.flags&=-16777217}function _y(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!M_(n))if(Gy())e.flags|=8192;else throw qr=Bu,hf}function sc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?cu():536870912,e.lanes|=n,Pa|=n)}function nl(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function le(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function q1(e,n,s){var o=n.pendingProps;switch(ef(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(n),null;case 1:return le(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Xi(Ie),Jt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(wa(n)?Wi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sf())),le(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Wi(n),f!==null?(le(n),_y(n,f)):(le(n),Yf(n,h,null,o,s))):f?f!==e.memoizedState?(Wi(n),le(n),_y(n,f)):(le(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Wi(n),le(n),Yf(n,h,e,o,s)),null;case 27:if(Bi(n),s=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return le(n),null}e=rt.current,wa(n)?Zg(n):(e=w_(h,o,s),n.stateNode=e,Wi(n))}return le(n),null;case 5:if(Bi(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return le(n),null}if(f=rt.current,wa(n))Zg(n);else{var g=vc(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Se]=n,f[Pe]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch($e(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Wi(n)}}return le(n),Yf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=St.current,wa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Ke,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Se]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||m_(e.nodeValue,s)),e||Os(n,!0)}else e=vc(e).createTextNode(o),e[Se]=n,n.stateNode=e}return le(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=wa(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Se]=n}else Lr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),e=!1}else s=sf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(bn(n),n):(bn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return le(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=wa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Se]=n}else Lr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),h=!1}else h=sf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(bn(n),n):(bn(n),null)}return bn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),sc(n,n.updateQueue),le(n),null);case 4:return Jt(),e===null&&pd(n.stateNode.containerInfo),le(n),null;case 10:return Xi(n.type),le(n),null;case 19:if(Y(Ee),o=n.memoizedState,o===null)return le(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)nl(o,!1);else{if(ge!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Fu(e),f!==null){for(n.flags|=128,nl(o,!1),e=f.updateQueue,n.updateQueue=e,sc(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Qg(s,e),s=s.sibling;return et(Ee,Ee.current&1|2),jt&&Ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ke()>uc&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Fu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,sc(n,e),nl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!jt)return le(n),null}else 2*ke()-o.renderingStartTime>uc&&s!==536870912&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ke(),e.sibling=null,s=Ee.current,et(Ee,h?s&1|2:s&1),jt&&Ki(n,o.treeForkCount),e):(le(n),null);case 22:case 23:return bn(n),yf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(le(n),n.subtreeFlags&6&&(n.flags|=8192)):le(n),s=n.updateQueue,s!==null&&sc(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Y(jr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Xi(Ie),le(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function H1(e,n){switch(ef(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Xi(Ie),Jt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Bi(n),null;case 31:if(n.memoizedState!==null){if(bn(n),n.alternate===null)throw Error(a(340));Lr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(bn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Lr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Ee),null;case 4:return Jt(),null;case 10:return Xi(n.type),null;case 22:case 23:return bn(n),yf(),e!==null&&Y(jr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Xi(Ie),null;case 25:return null;default:return null}}function vy(e,n){switch(ef(n),n.tag){case 3:Xi(Ie),Jt();break;case 26:case 27:case 5:Bi(n);break;case 4:Jt();break;case 31:n.memoizedState!==null&&bn(n);break;case 13:bn(n);break;case 19:Y(Ee);break;case 10:Xi(n.type);break;case 22:case 23:bn(n),yf(),e!==null&&Y(jr);break;case 24:Xi(Ie)}}function il(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){$t(n,n.return,E)}}function zs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=s,z=E;try{z()}catch(Q){$t(h,I,Q)}}}o=o.next}while(o!==f)}}catch(Q){$t(n,n.return,Q)}}function Ey(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{cp(n,s)}catch(o){$t(e,e.return,o)}}}function Ty(e,n,s){s.props=Fr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){$t(e,n,o)}}function sl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){$t(e,n,h)}}function Di(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){$t(e,n,h)}else s.current=null}function Ay(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){$t(e,e.return,h)}}function Xf(e,n,s){try{var o=e.stateNode;hA(o,e.type,s,n),o[Pe]=n}catch(h){$t(e,e.return,h)}}function by(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qs(e.type)||e.tag===4}function $f(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||by(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Xn));else if(o!==4&&(o===27&&Qs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Zf(e,n,s),e=e.sibling;e!==null;)Zf(e,n,s),e=e.sibling}function rc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Qs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(rc(e,n,s),e=e.sibling;e!==null;)rc(e,n,s),e=e.sibling}function Sy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);$e(n,o,s),n[Se]=e,n[Pe]=s}catch(f){$t(e,e.return,f)}}var ts=!1,De=!1,Jf=!1,wy=typeof WeakSet=="function"?WeakSet:Set,je=null;function G1(e,n){if(e=e.containerInfo,vd=Rc,e=Lg(e),Gh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,I=-1,z=0,Q=0,X=e,j=null;e:for(;;){for(var H;X!==s||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(I=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)j=X,X=H;for(;;){if(X===e)break e;if(j===s&&++z===h&&(E=g),j===f&&++Q===o&&(I=g),(H=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=H}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ed={focusedElem:e,selectionRange:s},Rc=!1,je=n;je!==null;)if(n=je,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,je=e;else for(;je!==null;){switch(n=je,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ot=Fr(s.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){$t(s,s.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)bd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,je=e;break}je=n.return}}function Ry(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ns(e,s),o&4&&il(5,s);break;case 1:if(ns(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){$t(s,s.return,g)}else{var h=Fr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){$t(s,s.return,g)}}o&64&&Ey(s),o&512&&sl(s,s.return);break;case 3:if(ns(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{cp(e,n)}catch(g){$t(s,s.return,g)}}break;case 27:n===null&&o&4&&Sy(s);case 26:case 5:ns(e,s),n===null&&o&4&&Ay(s),o&512&&sl(s,s.return);break;case 12:ns(e,s);break;case 31:ns(e,s),o&4&&Ny(e,s);break;case 13:ns(e,s),o&4&&Dy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=W1.bind(null,s),vA(e,s))));break;case 22:if(o=s.memoizedState!==null||ts,!o){n=n!==null&&n.memoizedState!==null||De,h=ts;var f=De;ts=o,(De=n)&&!f?is(e,s,(s.subtreeFlags&8772)!==0):ns(e,s),ts=h,De=f}break;case 30:break;default:ns(e,s)}}function Iy(e){var n=e.alternate;n!==null&&(e.alternate=null,Iy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&la(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ce=null,cn=!1;function es(e,n,s){for(s=s.child;s!==null;)Cy(e,n,s),s=s.sibling}function Cy(e,n,s){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Fn,s)}catch{}switch(s.tag){case 26:De||Di(s,n),es(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:De||Di(s,n);var o=ce,h=cn;Qs(s.type)&&(ce=s.stateNode,cn=!1),es(e,n,s),dl(s.stateNode),ce=o,cn=h;break;case 5:De||Di(s,n);case 6:if(o=ce,h=cn,ce=null,es(e,n,s),ce=o,cn=h,ce!==null)if(cn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(s.stateNode)}catch(f){$t(s,n,f)}else try{ce.removeChild(s.stateNode)}catch(f){$t(s,n,f)}break;case 18:ce!==null&&(cn?(e=ce,E_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Qa(e)):E_(ce,s.stateNode));break;case 4:o=ce,h=cn,ce=s.stateNode.containerInfo,cn=!0,es(e,n,s),ce=o,cn=h;break;case 0:case 11:case 14:case 15:zs(2,s,n),De||zs(4,s,n),es(e,n,s);break;case 1:De||(Di(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Ty(s,n,o)),es(e,n,s);break;case 21:es(e,n,s);break;case 22:De=(o=De)||s.memoizedState!==null,es(e,n,s),De=o;break;default:es(e,n,s)}}function Ny(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qa(e)}catch(s){$t(n,n.return,s)}}}function Dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qa(e)}catch(s){$t(n,n.return,s)}}function F1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new wy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new wy),n;default:throw Error(a(435,e.tag))}}function ac(e,n){var s=F1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=tA.bind(null,e,o);o.then(h,h)}})}function hn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Qs(E.type)){ce=E.stateNode,cn=!1;break t}break;case 5:ce=E.stateNode,cn=!1;break t;case 3:case 4:ce=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(ce===null)throw Error(a(160));Cy(f,g,h),ce=null,cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)xy(n,e),n=n.sibling}var ei=null;function xy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(n,e),fn(e),o&4&&(zs(3,e,e.return),il(3,e),zs(5,e,e.return));break;case 1:hn(n,e),fn(e),o&512&&(De||s===null||Di(s,s.return)),o&64&&ts&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ei;if(hn(n,e),fn(e),o&512&&(De||s===null||Di(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[pi]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),$e(f,o,s),f[Se]=e,we(f),o=f;break t;case"link":var g=x_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),$e(f,o,s),h.head.appendChild(f);break;case"meta":if(g=x_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),$e(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Se]=e,we(f),o=f}e.stateNode=o}else O_(h,e.type,e.stateNode);else e.stateNode=D_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?O_(h,e.type,e.stateNode):D_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Xf(e,e.memoizedProps,s.memoizedProps)}break;case 27:hn(n,e),fn(e),o&512&&(De||s===null||Di(s,s.return)),s!==null&&o&4&&Xf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(hn(n,e),fn(e),o&512&&(De||s===null||Di(s,s.return)),e.flags&32){h=e.stateNode;try{un(h,"")}catch(ot){$t(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Xf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Jf=!0);break;case 6:if(hn(n,e),fn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ot){$t(e,e.return,ot)}}break;case 3:if(Ac=null,h=ei,ei=Ec(n.containerInfo),hn(n,e),ei=h,fn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Qa(n.containerInfo)}catch(ot){$t(e,e.return,ot)}Jf&&(Jf=!1,Oy(e));break;case 4:o=ei,ei=Ec(e.stateNode.containerInfo),hn(n,e),fn(e),ei=o;break;case 12:hn(n,e),fn(e);break;case 31:hn(n,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ac(e,o)));break;case 13:hn(n,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(lc=ke()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ac(e,o)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,z=ts,Q=De;if(ts=z||h,De=Q||I,hn(n,e),De=Q,ts=z,fn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||ts||De||Qr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var X=I.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){$t(I,I.return,ot)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ot){$t(I,I.return,ot)}}}else if(n.tag===18){if(s===null){I=n;try{var H=I.stateNode;h?T_(H,!0):T_(I.stateNode,!1)}catch(ot){$t(I,I.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,ac(e,s))));break;case 19:hn(n,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ac(e,o)));break;case 30:break;case 21:break;default:hn(n,e),fn(e)}}function fn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(by(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=$f(e);rc(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(un(g,""),s.flags&=-33);var E=$f(e);rc(e,E,g);break;case 3:case 4:var I=s.stateNode.containerInfo,z=$f(e);Zf(e,z,I);break;default:throw Error(a(161))}}catch(Q){$t(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Oy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Oy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ns(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ry(e,n.alternate,n),n=n.sibling}function Qr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:zs(4,n,n.return),Qr(n);break;case 1:Di(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Ty(n,n.return,s),Qr(n);break;case 27:dl(n.stateNode);case 26:case 5:Di(n,n.return),Qr(n);break;case 22:n.memoizedState===null&&Qr(n);break;case 30:Qr(n);break;default:Qr(n)}e=e.sibling}}function is(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:is(h,f,s),il(4,f);break;case 1:if(is(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)up(I[h],E)}catch(z){$t(o,o.return,z)}}s&&g&64&&Ey(f),sl(f,f.return);break;case 27:Sy(f);case 26:case 5:is(h,f,s),s&&o===null&&g&4&&Ay(f),sl(f,f.return);break;case 12:is(h,f,s);break;case 31:is(h,f,s),s&&g&4&&Ny(h,f);break;case 13:is(h,f,s),s&&g&4&&Dy(h,f);break;case 22:f.memoizedState===null&&is(h,f,s),sl(f,f.return);break;case 30:break;default:is(h,f,s)}n=n.sibling}}function Wf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Go(s))}function td(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e))}function ni(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)My(e,n,s,o),n=n.sibling}function My(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ni(e,n,s,o),h&2048&&il(9,n);break;case 1:ni(e,n,s,o);break;case 3:ni(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e)));break;case 12:if(h&2048){ni(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){$t(n,n.return,I)}}else ni(e,n,s,o);break;case 31:ni(e,n,s,o);break;case 13:ni(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ni(e,n,s,o):rl(e,n):f._visibility&2?ni(e,n,s,o):(f._visibility|=2,ka(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Wf(g,n);break;case 24:ni(e,n,s,o),h&2048&&td(n.alternate,n);break;default:ni(e,n,s,o)}}function ka(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,I=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:ka(f,g,E,I,h),il(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?ka(f,g,E,I,h):rl(f,g):(Q._visibility|=2,ka(f,g,E,I,h)),h&&z&2048&&Wf(g.alternate,g);break;case 24:ka(f,g,E,I,h),h&&z&2048&&td(g.alternate,g);break;default:ka(f,g,E,I,h)}n=n.sibling}}function rl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:rl(s,o),h&2048&&Wf(o.alternate,o);break;case 24:rl(s,o),h&2048&&td(o.alternate,o);break;default:rl(s,o)}n=n.sibling}}var al=8192;function Ua(e,n,s){if(e.subtreeFlags&al)for(e=e.child;e!==null;)Vy(e,n,s),e=e.sibling}function Vy(e,n,s){switch(e.tag){case 26:Ua(e,n,s),e.flags&al&&e.memoizedState!==null&&xA(s,ei,e.memoizedState,e.memoizedProps);break;case 5:Ua(e,n,s);break;case 3:case 4:var o=ei;ei=Ec(e.stateNode.containerInfo),Ua(e,n,s),ei=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=al,al=16777216,Ua(e,n,s),al=o):Ua(e,n,s));break;default:Ua(e,n,s)}}function ky(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ol(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];je=o,Ly(o,e)}ky(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Uy(e),e=e.sibling}function Uy(e){switch(e.tag){case 0:case 11:case 15:ol(e),e.flags&2048&&zs(9,e,e.return);break;case 3:ol(e);break;case 12:ol(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,oc(e)):ol(e);break;default:ol(e)}}function oc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];je=o,Ly(o,e)}ky(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:zs(8,n,n.return),oc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,oc(n));break;default:oc(n)}e=e.sibling}}function Ly(e,n){for(;je!==null;){var s=je;switch(s.tag){case 0:case 11:case 15:zs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Go(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,je=o;else t:for(s=e;je!==null;){o=je;var h=o.sibling,f=o.return;if(Iy(o),o===s){je=null;break t}if(h!==null){h.return=f,je=h;break t}je=f}}}var Q1={getCacheForType:function(e){var n=Ye(Ie),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Ye(Ie).controller.signal}},K1=typeof WeakMap=="function"?WeakMap:Map,Ft=0,se=null,Dt=null,kt=0,Xt=0,Sn=null,js=!1,La=!1,ed=!1,ss=0,ge=0,Bs=0,Kr=0,nd=0,wn=0,Pa=0,ll=null,dn=null,id=!1,lc=0,Py=0,uc=1/0,cc=null,qs=null,Ue=0,Hs=null,za=null,rs=0,sd=0,rd=null,zy=null,ul=0,ad=null;function Rn(){return(Ft&2)!==0&&kt!==0?kt&-kt:F.T!==null?fd():hu()}function jy(){if(wn===0)if((kt&536870912)===0||jt){var e=Er;Er<<=1,(Er&3932160)===0&&(Er=262144),wn=e}else wn=536870912;return e=An.current,e!==null&&(e.flags|=32),wn}function mn(e,n,s){(e===se&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(ja(e,0),Gs(e,kt,wn,!1)),Tr(e,s),((Ft&2)===0||e!==se)&&(e===se&&((Ft&2)===0&&(Kr|=s),ge===4&&Gs(e,kt,wn,!1)),xi(e))}function By(e,n,s){if((Ft&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Qn(e,n),h=o?$1(e,n):ld(e,n,!0),f=o;do{if(h===0){La&&!o&&Gs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!Y1(s)){h=ld(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=ll;var I=E.current.memoizedState.isDehydrated;if(I&&(ja(E,g).flags|=256),g=ld(E,g,!1),g!==2){if(ed&&!I){E.errorRecoveryDisabledLanes|=f,Kr|=f,h=4;break t}f=dn,dn=h,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){ja(e,0),Gs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Gs(o,n,wn,!js);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=lc+300-ke(),10<h)){if(Gs(o,n,wn,!js),di(o,0,!0)!==0)break t;rs=n,o.timeoutHandle=__(qy.bind(null,o,s,dn,cc,id,n,wn,Kr,Pa,js,f,"Throttled",-0,0),h);break t}qy(o,s,dn,cc,id,n,wn,Kr,Pa,js,f,null,-0,0)}}break}while(!0);xi(e)}function qy(e,n,s,o,h,f,g,E,I,z,Q,X,j,H){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},Vy(n,f,X);var ot=(f&62914560)===f?lc-ke():(f&4194048)===f?Py-ke():0;if(ot=OA(X,ot),ot!==null){rs=f,e.cancelPendingCommit=ot($y.bind(null,e,n,f,s,o,h,g,E,I,Q,X,null,j,H)),Gs(e,f,g,!z);return}}$y(e,n,f,s,o,h,g,E,I)}function Y1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!En(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Gs(e,n,s,o){n&=~nd,n&=~Kr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-_e(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&Ar(e,s,n)}function hc(){return(Ft&6)===0?(cl(0),!1):!0}function od(){if(Dt!==null){if(Xt===0)var e=Dt.return;else e=Dt,Yi=Pr=null,bf(e),Da=null,Qo=0,e=Dt;for(;e!==null;)vy(e.alternate,e),e=e.return;Dt=null}}function ja(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,mA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),rs=0,od(),se=e,Dt=s=Qi(e.current,null),kt=n,Xt=0,Sn=null,js=!1,La=Qn(e,n),ed=!1,Pa=wn=nd=Kr=Bs=ge=0,dn=ll=null,id=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-_e(o),f=1<<h;n|=e[h],o&=~f}return ss=n,Ou(),s}function Hy(e,n){Rt=null,F.H=tl,n===Na||n===ju?(n=rp(),Xt=3):n===hf?(n=rp(),Xt=4):Xt=n===zf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Sn=n,Dt===null&&(ge=1,tc(e,Un(n,e.current)))}function Gy(){var e=An.current;return e===null?!0:(kt&4194048)===kt?jn===null:(kt&62914560)===kt||(kt&536870912)!==0?e===jn:!1}function Fy(){var e=F.H;return F.H=tl,e===null?tl:e}function Qy(){var e=F.A;return F.A=Q1,e}function fc(){ge=4,js||(kt&4194048)!==kt&&An.current!==null||(La=!0),(Bs&134217727)===0&&(Kr&134217727)===0||se===null||Gs(se,kt,wn,!1)}function ld(e,n,s){var o=Ft;Ft|=2;var h=Fy(),f=Qy();(se!==e||kt!==n)&&(cc=null,ja(e,n)),n=!1;var g=ge;t:do try{if(Xt!==0&&Dt!==null){var E=Dt,I=Sn;switch(Xt){case 8:od(),g=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var z=Xt;if(Xt=0,Sn=null,Ba(e,E,I,z),s&&La){g=0;break t}break;default:z=Xt,Xt=0,Sn=null,Ba(e,E,I,z)}}X1(),g=ge;break}catch(Q){Hy(e,Q)}while(!0);return n&&e.shellSuspendCounter++,Yi=Pr=null,Ft=o,F.H=h,F.A=f,Dt===null&&(se=null,kt=0,Ou()),g}function X1(){for(;Dt!==null;)Ky(Dt)}function $1(e,n){var s=Ft;Ft|=2;var o=Fy(),h=Qy();se!==e||kt!==n?(cc=null,uc=ke()+500,ja(e,n)):La=Qn(e,n);t:do try{if(Xt!==0&&Dt!==null){n=Dt;var f=Sn;e:switch(Xt){case 1:Xt=0,Sn=null,Ba(e,n,f,1);break;case 2:case 9:if(ip(f)){Xt=0,Sn=null,Yy(n);break}n=function(){Xt!==2&&Xt!==9||se!==e||(Xt=7),xi(e)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:ip(f)?(Xt=0,Sn=null,Yy(n)):(Xt=0,Sn=null,Ba(e,n,f,7));break;case 5:var g=null;switch(Dt.tag){case 26:g=Dt.memoizedState;case 5:case 27:var E=Dt;if(g?M_(g):E.stateNode.complete){Xt=0,Sn=null;var I=E.sibling;if(I!==null)Dt=I;else{var z=E.return;z!==null?(Dt=z,dc(z)):Dt=null}break e}}Xt=0,Sn=null,Ba(e,n,f,5);break;case 6:Xt=0,Sn=null,Ba(e,n,f,6);break;case 8:od(),ge=6;break t;default:throw Error(a(462))}}Z1();break}catch(Q){Hy(e,Q)}while(!0);return Yi=Pr=null,F.H=o,F.A=h,Ft=s,Dt!==null?0:(se=null,kt=0,Ou(),ge)}function Z1(){for(;Dt!==null&&!ci();)Ky(Dt)}function Ky(e){var n=yy(e.alternate,e,ss);e.memoizedProps=e.pendingProps,n===null?dc(e):Dt=n}function Yy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=hy(s,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=hy(s,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:bf(n);default:vy(s,n),n=Dt=Qg(n,ss),n=yy(s,n,ss)}e.memoizedProps=e.pendingProps,n===null?dc(e):Dt=n}function Ba(e,n,s,o){Yi=Pr=null,bf(n),Da=null,Qo=0;var h=n.return;try{if(z1(e,h,n,s,kt)){ge=1,tc(e,Un(s,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;ge=1,tc(e,Un(s,e.current)),Dt=null;return}n.flags&32768?(jt||o===1?e=!0:La||(kt&536870912)!==0?e=!1:(js=e=!0,(o===2||o===9||o===3||o===6)&&(o=An.current,o!==null&&o.tag===13&&(o.flags|=16384))),Xy(n,e)):dc(n)}function dc(e){var n=e;do{if((n.flags&32768)!==0){Xy(n,js);return}e=n.return;var s=q1(n.alternate,n,ss);if(s!==null){Dt=s;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);ge===0&&(ge=5)}function Xy(e,n){do{var s=H1(e.alternate,e);if(s!==null){s.flags&=32767,Dt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=s}while(e!==null);ge=6,Dt=null}function $y(e,n,s,o,h,f,g,E,I){e.cancelPendingCommit=null;do mc();while(Ue!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Xh,jh(e,s,f,g,E,I),e===se&&(Dt=se=null,kt=0),za=n,Hs=e,rs=s,sd=f,rd=h,zy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,eA(Es,function(){return e_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=it.p,it.p=2,g=Ft,Ft|=4;try{G1(e,n,s)}finally{Ft=g,it.p=h,F.T=o}}Ue=1,Zy(),Jy(),Wy()}}function Zy(){if(Ue===1){Ue=0;var e=Hs,n=za,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=it.p;it.p=2;var h=Ft;Ft|=4;try{xy(n,e);var f=Ed,g=Lg(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Ug(E.ownerDocument.documentElement,E)){if(I!==null&&Gh(E)){var z=I.start,Q=I.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var H=j.getSelection(),ot=E.textContent.length,yt=Math.min(I.start,ot),ne=I.end===void 0?yt:Math.min(I.end,ot);!H.extend&&yt>ne&&(g=ne,ne=yt,yt=g);var k=kg(E,yt),x=kg(E,ne);if(k&&x&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==x.node||H.focusOffset!==x.offset)){var P=X.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),yt>ne?(H.addRange(P),H.extend(x.node,x.offset)):(P.setEnd(x.node,x.offset),H.addRange(P))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Rc=!!vd,Ed=vd=null}finally{Ft=h,it.p=o,F.T=s}}e.current=n,Ue=2}}function Jy(){if(Ue===2){Ue=0;var e=Hs,n=za,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=it.p;it.p=2;var h=Ft;Ft|=4;try{Ry(e,n.alternate,n)}finally{Ft=h,it.p=o,F.T=s}}Ue=3}}function Wy(){if(Ue===4||Ue===3){Ue=0,Ve();var e=Hs,n=za,s=rs,o=zy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,za=Hs=null,t_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(qs=null),qi(s),n=n.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Fn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=it.p,it.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,it.p=h}}(rs&3)!==0&&mc(),xi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===ad?ul++:(ul=0,ad=e):ul=0,cl(0)}}function t_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Go(n)))}function mc(){return Zy(),Jy(),Wy(),e_()}function e_(){if(Ue!==5)return!1;var e=Hs,n=sd;sd=0;var s=qi(rs),o=F.T,h=it.p;try{it.p=32>s?32:s,F.T=null,s=rd,rd=null;var f=Hs,g=rs;if(Ue=0,za=Hs=null,rs=0,(Ft&6)!==0)throw Error(a(331));var E=Ft;if(Ft|=4,Uy(f.current),My(f,f.current,g,s),Ft=E,cl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Fn,f)}catch{}return!0}finally{it.p=h,F.T=o,t_(e,n)}}function n_(e,n,s){n=Un(s,n),n=Pf(e.stateNode,n,2),e=Us(e,n,2),e!==null&&(Tr(e,2),xi(e))}function $t(e,n,s){if(e.tag===3)n_(e,e,s);else for(;n!==null;){if(n.tag===3){n_(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qs===null||!qs.has(o))){e=Un(s,e),s=iy(2),o=Us(n,s,2),o!==null&&(sy(s,o,n,e),Tr(o,2),xi(o));break}}n=n.return}}function ud(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new K1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(ed=!0,h.add(s),e=J1.bind(null,e,n,s),n.then(e,e))}function J1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,se===e&&(kt&s)===s&&(ge===4||ge===3&&(kt&62914560)===kt&&300>ke()-lc?(Ft&2)===0&&ja(e,0):nd|=s,Pa===kt&&(Pa=0)),xi(e)}function i_(e,n){n===0&&(n=cu()),e=kr(e,n),e!==null&&(Tr(e,n),xi(e))}function W1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),i_(e,s)}function tA(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),i_(e,s)}function eA(e,n){return Nt(e,n)}var gc=null,qa=null,cd=!1,pc=!1,hd=!1,Fs=0;function xi(e){e!==qa&&e.next===null&&(qa===null?gc=qa=e:qa=qa.next=e),pc=!0,cd||(cd=!0,iA())}function cl(e,n){if(!hd&&pc){hd=!0;do for(var s=!1,o=gc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-_e(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,o_(o,f))}else f=kt,f=di(o,o===se?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Qn(o,f)||(s=!0,o_(o,f));o=o.next}while(s);hd=!1}}function nA(){s_()}function s_(){pc=cd=!1;var e=0;Fs!==0&&dA()&&(e=Fs);for(var n=ke(),s=null,o=gc;o!==null;){var h=o.next,f=r_(o,n);f===0?(o.next=null,s===null?gc=h:s.next=h,h===null&&(qa=s)):(s=o,(e!==0||(f&3)!==0)&&(pc=!0)),o=h}Ue!==0&&Ue!==5||cl(e),Fs!==0&&(Fs=0)}function r_(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-_e(f),E=1<<g,I=h[g];I===-1?((E&s)===0||(E&o)!==0)&&(h[g]=zh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=se,s=kt,s=di(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ge(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Qn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&Ge(o),qi(s)){case 2:case 8:s=Eo;break;case 32:s=Es;break;case 268435456:s=ru;break;default:s=Es}return o=a_.bind(null,e),s=Nt(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&Ge(o),e.callbackPriority=2,e.callbackNode=null,2}function a_(e,n){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(mc()&&e.callbackNode!==s)return null;var o=kt;return o=di(e,e===se?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(By(e,o,n),r_(e,ke()),e.callbackNode!=null&&e.callbackNode===s?a_.bind(null,e):null)}function o_(e,n){if(mc())return null;By(e,n,!0)}function iA(){gA(function(){(Ft&6)!==0?Nt(vo,nA):s_()})}function fd(){if(Fs===0){var e=Ia;e===0&&(e=hi,hi<<=1,(hi&261888)===0&&(hi=256)),Fs=e}return Fs}function l_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fa(""+e)}function u_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function sA(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=l_((h[Pe]||null).action),g=o.submitter;g&&(n=(n=g[Pe]||null)?l_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Si("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Fs!==0){var I=g?u_(h,g):new FormData(h);Of(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?u_(h,g):new FormData(h),Of(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var dd=0;dd<Yh.length;dd++){var md=Yh[dd],rA=md.toLowerCase(),aA=md[0].toUpperCase()+md.slice(1);ti(rA,"on"+aA)}ti(jg,"onAnimationEnd"),ti(Bg,"onAnimationIteration"),ti(qg,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(A1,"onTransitionRun"),ti(b1,"onTransitionStart"),ti(S1,"onTransitionCancel"),ti(Hg,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function c_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){xu(Q)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){xu(Q)}h.currentTarget=null,f=I}}}}function xt(e,n){var s=n[oa];s===void 0&&(s=n[oa]=new Set);var o=e+"__bubble";s.has(o)||(h_(n,e,2,!1),s.add(o))}function gd(e,n,s){var o=0;n&&(o|=4),h_(s,e,o,n)}var yc="_reactListening"+Math.random().toString(36).slice(2);function pd(e){if(!e[yc]){e[yc]=!0,bo.forEach(function(s){s!=="selectionchange"&&(oA.has(s)||gd(s,!1,e),gd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[yc]||(n[yc]=!0,gd("selectionchange",!1,n))}}function h_(e,n,s,o){switch(j_(n)){case 2:var h=kA;break;case 8:h=UA;break;default:h=xd}s=h.bind(null,n,s,e),h=void 0,!Ir||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function yd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=yi(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Rs(function(){var z=f,Q=On(s),X=[];t:{var j=Gg.get(e);if(j!==void 0){var H=Si,ot=e;switch(e){case"keypress":if(Nr(s)===0)break t;case"keydown":case"keyup":H=Cu;break;case"focusin":ot="focus",H=xr;break;case"focusout":ot="blur",H=xr;break;case"beforeblur":case"afterblur":H=xr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case jg:case Bg:case qg:H=Tu;break;case Hg:H=T;break;case"scroll":case"scrollend":H=ko;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Fi;break;case"toggle":case"beforetoggle":H=wt}var yt=(n&4)!==0,ne=!yt&&(e==="scroll"||e==="scrollend"),k=yt?j!==null?j+"Capture":null:j;yt=[];for(var x=z,P;x!==null;){var K=x;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=$n(x,k),K!=null&&yt.push(fl(x,K,P))),ne)break;x=x.return}0<yt.length&&(j=new H(j,ot,null,s,Q),X.push({event:j,listeners:yt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&s!==Oo&&(ot=s.relatedTarget||s.fromElement)&&(yi(ot)||ot[gi]))break t;if((H||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,H?(ot=s.relatedTarget||s.toElement,H=z,ot=ot?yi(ot):null,ot!==null&&(ne=c(ot),yt=ot.tag,ot!==ne||yt!==5&&yt!==27&&yt!==6)&&(ot=null)):(H=null,ot=z),H!==ot)){if(yt=Uo,K="onMouseLeave",k="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Fi,K="onPointerLeave",k="onPointerEnter",x="pointer"),ne=H==null?j:_n(H),P=ot==null?j:_n(ot),j=new yt(K,x+"leave",H,s,Q),j.target=ne,j.relatedTarget=P,K=null,yi(Q)===z&&(yt=new yt(k,x+"enter",ot,s,Q),yt.target=P,yt.relatedTarget=ne,K=yt),ne=K,H&&ot)e:{for(yt=lA,k=H,x=ot,P=0,K=k;K;K=yt(K))P++;K=0;for(var dt=x;dt;dt=yt(dt))K++;for(;0<P-K;)k=yt(k),P--;for(;0<K-P;)x=yt(x),K--;for(;P--;){if(k===x||x!==null&&k===x.alternate){yt=k;break e}k=yt(k),x=yt(x)}yt=null}else yt=null;H!==null&&f_(X,j,H,yt,!1),ot!==null&&ne!==null&&f_(X,ne,ot,yt,!0)}}t:{if(j=z?_n(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var qt=Ng;else if(Ig(j))if(Dg)qt=v1;else{qt=y1;var lt=p1}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ha(z.elementType)&&(qt=Ng):qt=_1;if(qt&&(qt=qt(e,z))){Cg(X,qt,s,Q);break t}lt&&lt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&No(j,"number",j.value)}switch(lt=z?_n(z):window,e){case"focusin":(Ig(lt)||lt.contentEditable==="true")&&(va=lt,Fh=z,Bo=null);break;case"focusout":Bo=Fh=va=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Pg(X,s,Q);break;case"selectionchange":if(T1)break;case"keydown":case"keyup":Pg(X,s,Q)}var It;if(Gt)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else _a?Or(e,s)&&(Ut="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ut="onCompositionStart");Ut&&(Ii&&s.locale!=="ko"&&(_a||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&_a&&(It=Vo()):(bi=Q,Mo="value"in bi?bi.value:bi.textContent,_a=!0)),lt=_c(z,Ut),0<lt.length&&(Ut=new Ri(Ut,e,null,s,Q),X.push({event:Ut,listeners:lt}),It?Ut.data=It:(It=ya(s),It!==null&&(Ut.data=It)))),(It=Vn?f1(e,s):d1(e,s))&&(Ut=_c(z,"onBeforeInput"),0<Ut.length&&(lt=new Ri("onBeforeInput","beforeinput",null,s,Q),X.push({event:lt,listeners:Ut}),lt.data=It)),sA(X,e,z,s,Q)}c_(X,n)})}function fl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function _c(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=$n(e,s),h!=null&&o.unshift(fl(e,h,f)),h=$n(e,n),h!=null&&o.push(fl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function lA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function f_(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=$n(s,f),z!=null&&g.unshift(fl(s,z,I))):h||(z=$n(s,f),z!=null&&g.push(fl(s,z,I)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var uA=/\r\n?/g,cA=/\u0000|\uFFFD/g;function d_(e){return(typeof e=="string"?e:""+e).replace(uA,`
`).replace(cA,"")}function m_(e,n){return n=d_(n),d_(e)===n}function ee(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||un(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&un(e,""+o);break;case"className":vn(e,"class",o);break;case"tabIndex":vn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(e,s,o);break;case"style":xo(e,o,f);break;case"data":if(n!=="object"){vn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=fa(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ee(e,n,"name",h.name,h,null),ee(e,n,"formEncType",h.formEncType,h,null),ee(e,n,"formMethod",h.formMethod,h,null),ee(e,n,"formTarget",h.formTarget,h,null)):(ee(e,n,"encType",h.encType,h,null),ee(e,n,"method",h.method,h,null),ee(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=fa(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Xn);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=fa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":xt("beforetoggle",e),xt("toggle",e),ua(e,"popover",o);break;case"xlinkActuate":Re(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Re(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Re(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Re(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Re(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Re(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Re(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Re(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Re(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ua(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=_u.get(s)||s,ua(e,s,o))}}function _d(e,n,s,o,h,f){switch(s){case"style":xo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?un(e,o):(typeof o=="number"||typeof o=="bigint")&&un(e,""+o);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Pe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ua(e,s,o)}}}function $e(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ee(e,n,f,g,s,null)}}h&&ee(e,n,"srcSet",s.srcSet,s,null),o&&ee(e,n,"src",s.src,s,null);return;case"input":xt("invalid",e);var E=f=g=h=null,I=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var Q=s[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":g=Q;break;case"checked":I=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:ee(e,n,o,Q,s,null)}}gu(e,f,E,I,z,g,h,!1);return;case"select":xt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ee(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?As(e,!!o,n,!1):s!=null&&As(e,!!o,s,!0);return;case"textarea":xt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ee(e,n,g,E,s,null)}bs(e,o,h,f);return;case"option":for(I in s)s.hasOwnProperty(I)&&(o=s[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ee(e,n,I,o,s,null));return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(o=0;o<hl.length;o++)xt(hl[o],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ee(e,n,z,o,s,null)}return;default:if(ha(n)){for(Q in s)s.hasOwnProperty(Q)&&(o=s[Q],o!==void 0&&_d(e,n,Q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ee(e,n,E,o,s,null))}function hA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,z=null,Q=null;for(H in s){var X=s[H];if(s.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=X;default:o.hasOwnProperty(H)||ee(e,n,H,null,o,X)}}for(var j in o){var H=o[j];if(X=s[j],o.hasOwnProperty(j)&&(H!=null||X!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Q=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&ee(e,n,j,H,o,X)}}ca(e,g,E,I,z,Q,f,h);return;case"select":H=g=E=j=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||ee(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=s[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&ee(e,n,h,f,o,I)}n=E,s=g,o=H,j!=null?As(e,!!s,j,!1):!!o!=!!s&&(n!=null?As(e,!!s,n,!0):As(e,!!s,s?[]:"",!1));return;case"textarea":H=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ee(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ee(e,n,g,h,o,f)}pu(e,j,H);return;case"option":for(var ot in s)j=s[ot],s.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:ee(e,n,ot,null,o,j));for(I in o)j=o[I],H=s[I],o.hasOwnProperty(I)&&j!==H&&(j!=null||H!=null)&&(I==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":ee(e,n,I,j,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)j=s[yt],s.hasOwnProperty(yt)&&j!=null&&!o.hasOwnProperty(yt)&&ee(e,n,yt,null,o,j);for(z in o)if(j=o[z],H=s[z],o.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:ee(e,n,z,j,o,H)}return;default:if(ha(n)){for(var ne in s)j=s[ne],s.hasOwnProperty(ne)&&j!==void 0&&!o.hasOwnProperty(ne)&&_d(e,n,ne,void 0,o,j);for(Q in o)j=o[Q],H=s[Q],!o.hasOwnProperty(Q)||j===H||j===void 0&&H===void 0||_d(e,n,Q,j,o,H);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&ee(e,n,k,null,o,j);for(X in o)j=o[X],H=s[X],!o.hasOwnProperty(X)||j===H||j==null&&H==null||ee(e,n,X,j,o,H)}function g_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&g_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var I=s[o],z=I.startTime;if(z>E)break;var Q=I.transferSize,X=I.initiatorType;Q&&g_(X)&&(I=I.responseEnd,g+=Q*(I<E?1:(E-z)/(I-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var vd=null,Ed=null;function vc(e){return e.nodeType===9?e:e.ownerDocument}function p_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Td(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ad=null;function dA(){var e=window.event;return e&&e.type==="popstate"?e===Ad?!1:(Ad=e,!0):(Ad=null,!1)}var __=typeof setTimeout=="function"?setTimeout:void 0,mA=typeof clearTimeout=="function"?clearTimeout:void 0,v_=typeof Promise=="function"?Promise:void 0,gA=typeof queueMicrotask=="function"?queueMicrotask:typeof v_<"u"?function(e){return v_.resolve(null).then(e).catch(pA)}:__;function pA(e){setTimeout(function(){throw e})}function Qs(e){return e==="head"}function E_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Qa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")dl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,dl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[pi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&dl(e.ownerDocument.body);s=h}while(s);Qa(n)}function T_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function bd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":bd(s),la(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function yA(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[pi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function _A(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Bn(e.nextSibling),e===null))return null;return e}function A_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bn(e.nextSibling),e===null))return null;return e}function Sd(e){return e.data==="$?"||e.data==="$~"}function wd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function vA(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Bn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Rd=null;function b_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Bn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function S_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function w_(e,n,s){switch(n=vc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function dl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);la(e)}var qn=new Map,R_=new Set;function Ec(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var as=it.d;it.d={f:EA,r:TA,D:AA,C:bA,L:SA,m:wA,X:IA,S:RA,M:CA};function EA(){var e=as.f(),n=hc();return e||n}function TA(e){var n=xn(e);n!==null&&n.tag===5&&n.type==="form"?Hp(n):as.r(e)}var Ha=typeof document>"u"?null:document;function I_(e,n,s){var o=Ha;if(o&&typeof n=="string"&&n){var h=ln(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),R_.has(h)||(R_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),$e(n,"link",e),we(n),o.head.appendChild(n)))}}function AA(e){as.D(e),I_("dns-prefetch",e,null)}function bA(e,n){as.C(e,n),I_("preconnect",e,n)}function SA(e,n,s){as.L(e,n,s);var o=Ha;if(o&&e&&n){var h='link[rel="preload"][as="'+ln(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+ln(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+ln(s.imageSizes)+'"]')):h+='[href="'+ln(e)+'"]';var f=h;switch(n){case"style":f=Ga(e);break;case"script":f=Fa(e)}qn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),qn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ml(f))||n==="script"&&o.querySelector(gl(f))||(n=o.createElement("link"),$e(n,"link",e),we(n),o.head.appendChild(n)))}}function wA(e,n){as.m(e,n);var s=Ha;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ln(o)+'"][href="'+ln(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Fa(e)}if(!qn.has(f)&&(e=b({rel:"modulepreload",href:e},n),qn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(gl(f)))return}o=s.createElement("link"),$e(o,"link",e),we(o),s.head.appendChild(o)}}}function RA(e,n,s){as.S(e,n,s);var o=Ha;if(o&&e){var h=_i(o).hoistableStyles,f=Ga(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ml(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=qn.get(f))&&Id(e,s);var I=g=o.createElement("link");we(I),$e(I,"link",e),I._p=new Promise(function(z,Q){I.onload=z,I.onerror=Q}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Tc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function IA(e,n){as.X(e,n);var s=Ha;if(s&&e){var o=_i(s).hoistableScripts,h=Fa(e),f=o.get(h);f||(f=s.querySelector(gl(h)),f||(e=b({src:e,async:!0},n),(n=qn.get(h))&&Cd(e,n),f=s.createElement("script"),we(f),$e(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function CA(e,n){as.M(e,n);var s=Ha;if(s&&e){var o=_i(s).hoistableScripts,h=Fa(e),f=o.get(h);f||(f=s.querySelector(gl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=qn.get(h))&&Cd(e,n),f=s.createElement("script"),we(f),$e(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function C_(e,n,s,o){var h=(h=St.current)?Ec(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ga(s.href),s=_i(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ga(s.href);var f=_i(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ml(e)))&&!f._p&&(g.instance=f,g.state.loading=5),qn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},qn.set(e,s),f||NA(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Fa(s),s=_i(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ga(e){return'href="'+ln(e)+'"'}function ml(e){return'link[rel="stylesheet"]['+e+"]"}function N_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function NA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),$e(n,"link",s),we(n),e.head.appendChild(n))}function Fa(e){return'[src="'+ln(e)+'"]'}function gl(e){return"script[async]"+e}function D_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ln(s.href)+'"]');if(o)return n.instance=o,we(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),we(o),$e(o,"style",h),Tc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ga(s.href);var f=e.querySelector(ml(h));if(f)return n.state.loading|=4,n.instance=f,we(f),f;o=N_(s),(h=qn.get(h))&&Id(o,h),f=(e.ownerDocument||e).createElement("link"),we(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),$e(f,"link",o),n.state.loading|=4,Tc(f,s.precedence,e),n.instance=f;case"script":return f=Fa(s.src),(h=e.querySelector(gl(f)))?(n.instance=h,we(h),h):(o=s,(h=qn.get(f))&&(o=b({},s),Cd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),we(h),$e(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Tc(o,s.precedence,e));return n.instance}function Tc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Id(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ac=null;function x_(e,n,s){if(Ac===null){var o=new Map,h=Ac=new Map;h.set(s,o)}else h=Ac,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[pi]||f[Se]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function O_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function DA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function M_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function xA(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ga(o.href),f=n.querySelector(ml(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=bc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,we(f);return}f=n.ownerDocument||n,o=N_(o),(h=qn.get(h))&&Id(o,h),f=f.createElement("link"),we(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),$e(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=bc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Nd=0;function OA(e,n){return e.stylesheets&&e.count===0&&wc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Nd===0&&(Nd=62500*fA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Nd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Sc=null;function wc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Sc=new Map,n.forEach(MA,e),Sc=null,bc.call(e))}function MA(e,n){if(!(n.state.loading&4)){var s=Sc.get(e);if(s)var o=s.get(null);else{s=new Map,Sc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=bc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var pl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function VA(e,n,s,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function V_(e,n,s,o,h,f,g,E,I,z,Q,X){return e=new VA(e,n,s,g,I,z,Q,X,E),n=1,f===!0&&(n|=24),f=Tn(3,null,null,n),e.current=f,f.stateNode=e,n=lf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},ff(f),e}function k_(e){return e?(e=Aa,e):Aa}function U_(e,n,s,o,h,f){h=k_(h),o.context===null?o.context=h:o.pendingContext=h,o=ks(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Us(e,o,n),s!==null&&(mn(s,e,n),Yo(s,e,n))}function L_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Dd(e,n){L_(e,n),(e=e.alternate)&&L_(e,n)}function P_(e){if(e.tag===13||e.tag===31){var n=kr(e,67108864);n!==null&&mn(n,e,67108864),Dd(e,67108864)}}function z_(e){if(e.tag===13||e.tag===31){var n=Rn();n=br(n);var s=kr(e,n);s!==null&&mn(s,e,n),Dd(e,n)}}var Rc=!0;function kA(e,n,s,o){var h=F.T;F.T=null;var f=it.p;try{it.p=2,xd(e,n,s,o)}finally{it.p=f,F.T=h}}function UA(e,n,s,o){var h=F.T;F.T=null;var f=it.p;try{it.p=8,xd(e,n,s,o)}finally{it.p=f,F.T=h}}function xd(e,n,s,o){if(Rc){var h=Od(o);if(h===null)yd(e,n,o,Ic,s),B_(e,o);else if(PA(h,e,n,s,o))o.stopPropagation();else if(B_(e,o),n&4&&-1<LA.indexOf(e)){for(;h!==null;){var f=xn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=fi(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-_e(g);E.entanglements[1]|=I,g&=~I}xi(f),(Ft&6)===0&&(uc=ke()+500,cl(0))}}break;case 31:case 13:E=kr(f,2),E!==null&&mn(E,f,2),hc(),Dd(f,2)}if(f=Od(o),f===null&&yd(e,n,o,Ic,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else yd(e,n,o,null,s)}}function Od(e){return e=On(e),Md(e)}var Ic=null;function Md(e){if(Ic=null,e=yi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ic=e,null}function j_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yn()){case vo:return 2;case Eo:return 8;case Es:case Ph:return 32;case ru:return 268435456;default:return 32}default:return 32}}var Vd=!1,Ks=null,Ys=null,Xs=null,yl=new Map,_l=new Map,$s=[],LA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(e,n){switch(e){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(n.pointerId)}}function vl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=xn(n),n!==null&&P_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function PA(e,n,s,o,h){switch(n){case"focusin":return Ks=vl(Ks,e,n,s,o,h),!0;case"dragenter":return Ys=vl(Ys,e,n,s,o,h),!0;case"mouseover":return Xs=vl(Xs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return yl.set(f,vl(yl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,_l.set(f,vl(_l.get(f)||null,e,n,s,o,h)),!0}return!1}function q_(e){var n=yi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Kn(e.priority,function(){z_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Kn(e.priority,function(){z_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Od(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Oo=o,s.target.dispatchEvent(o),Oo=null}else return n=xn(s),n!==null&&P_(n),e.blockedOn=s,!1;n.shift()}return!0}function H_(e,n,s){Cc(e)&&s.delete(n)}function zA(){Vd=!1,Ks!==null&&Cc(Ks)&&(Ks=null),Ys!==null&&Cc(Ys)&&(Ys=null),Xs!==null&&Cc(Xs)&&(Xs=null),yl.forEach(H_),_l.forEach(H_)}function Nc(e,n){e.blockedOn===n&&(e.blockedOn=null,Vd||(Vd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zA)))}var Dc=null;function G_(e){Dc!==e&&(Dc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Dc===e&&(Dc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Md(o||s)===null)continue;break}var f=xn(s);f!==null&&(e.splice(n,3),n-=3,Of(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Qa(e){function n(I){return Nc(I,e)}Ks!==null&&Nc(Ks,e),Ys!==null&&Nc(Ys,e),Xs!==null&&Nc(Xs,e),yl.forEach(n),_l.forEach(n);for(var s=0;s<$s.length;s++){var o=$s[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<$s.length&&(s=$s[0],s.blockedOn===null);)q_(s),s.blockedOn===null&&$s.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Pe]||null;if(typeof f=="function")g||G_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Pe]||null)E=g.formAction;else if(Md(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),G_(s)}}}function F_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function kd(e){this._internalRoot=e}xc.prototype.render=kd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Rn();U_(s,o,e,n,null,null)},xc.prototype.unmount=kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;U_(e.current,2,null,e,null,null),hc(),n[gi]=null}};function xc(e){this._internalRoot=e}xc.prototype.unstable_scheduleHydration=function(e){if(e){var n=hu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<$s.length&&n!==0&&n<$s[s].priority;s++);$s.splice(s,0,e),s===0&&q_(e)}};var Q_=t.version;if(Q_!=="19.2.3")throw Error(a(527,Q_,"19.2.3"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var jA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{Fn=Oc.inject(jA),Fe=Oc}catch{}}return Tl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Wp,f=ty,g=ey;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=V_(e,1,!1,null,null,s,o,null,h,f,g,F_),e[gi]=n.current,pd(e),new kd(n)},Tl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Wp,g=ty,E=ey,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=V_(e,1,!0,n,s??null,o,h,I,f,g,E,F_),n.context=k_(null),s=n.current,o=Rn(),o=br(o),h=ks(o),h.callback=null,Us(s,h,o),s=o,n.current.lanes=s,Tr(n,s),xi(n),e[gi]=n.current,pd(e),new xc(n)},Tl.version="19.2.3",Tl}var nv;function JA(){if(nv)return Pd.exports;nv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Pd.exports=ZA(),Pd.exports}var WA=JA();const tb="modulepreload",eb=function(r){return"/MyBrainData/"+r},iv={},nb=function(t,i,a){let l=Promise.resolve();if(i&&i.length>0){let _=function(A){return Promise.all(A.map(b=>Promise.resolve(b).then(O=>({status:"fulfilled",value:O}),O=>({status:"rejected",reason:O}))))};var d=_;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),y=p?.nonce||p?.getAttribute("nonce");l=_(i.map(A=>{if(A=eb(A),A in iv)return;iv[A]=!0;const b=A.endsWith(".css"),O=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${O}`))return;const G=document.createElement("link");if(G.rel=b?"stylesheet":tb,b||(G.as="script"),G.crossOrigin="",G.href=A,y&&G.setAttribute("nonce",y),document.head.appendChild(G),b)return new Promise((J,nt)=>{G.addEventListener("load",J),G.addEventListener("error",()=>nt(new Error(`Unable to preload CSS for ${A}`)))})}))}function c(p){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=p,window.dispatchEvent(y),!y.defaultPrevented)throw p}return l.then(p=>{for(const y of p||[])y.status==="rejected"&&c(y.reason);return t().catch(c)})},ib=()=>{};var sv={};const U0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},sb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},L0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let O=(p&15)<<2|_>>6,G=_&63;y||(G=64,d||(O=64)),a.push(i[A],i[b],i[O],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(U0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):sb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const b=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||b==null)throw new rb;const O=c<<2|p>>4;if(a.push(O),_!==64){const G=p<<4&240|_>>2;if(a.push(G),b!==64){const J=_<<6&192|b;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class rb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ab=function(r){const t=U0(r);return L0.encodeByteArray(t,!0)},Jc=function(r){return ab(r).replace(/\./g,"")},P0=function(r){try{return L0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ob(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lb=()=>ob().__FIREBASE_DEFAULTS__,ub=()=>{if(typeof process>"u"||typeof sv>"u")return;const r=sv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},cb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&P0(r[1]);return t&&JSON.parse(t)},ph=()=>{try{return ib()||lb()||ub()||cb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},z0=r=>ph()?.emulatorHosts?.[r],hb=r=>{const t=z0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},j0=()=>ph()?.config,B0=r=>ph()?.[`_${r}`];class fb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function co(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function q0(r){return(await fetch(r,{credentials:"include"})).ok}function db(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Jc(JSON.stringify(i)),Jc(JSON.stringify(d)),""].join(".")}const Il={};function mb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Il))Il[t]?r.emulator.push(t):r.prod.push(t);return r}function gb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let rv=!1;function H0(r,t){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||Il[r]===t||Il[r]||rv)return;Il[r]=t;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=mb().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function y(O,G){O.setAttribute("width","24"),O.setAttribute("id",G),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{rv=!0,d()},O}function A(O,G){O.setAttribute("id",G),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function b(){const O=gb(a),G=i("text"),J=document.getElementById(G)||document.createElement("span"),nt=i("learnmore"),W=document.getElementById(nt)||document.createElement("a"),gt=i("preprendIcon"),mt=document.getElementById(gt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const pt=O.element;p(pt),A(W,nt);const Ot=_();y(mt,gt),pt.append(mt,J,W,Ot),document.body.appendChild(pt)}c?(J.innerText="Preview backend disconnected.",mt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(mt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function yb(){const r=ph()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _b(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Eb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tb(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Ab(){return!yb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bb(){try{return typeof indexedDB=="object"}catch{return!1}}function Sb(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const wb="FirebaseError";class ys extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=wb,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?Rb(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ys(l,p,a)}}function Rb(r,t){return r.replace(Ib,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const Ib=/\{\$([^}]+)}/g;function Cb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Jr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(av(c)&&av(d)){if(!Jr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function av(r){return r!==null&&typeof r=="object"}function Gl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Nb(r,t){const i=new Db(r,t);return i.subscribe.bind(i)}class Db{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");xb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=qd),l.error===void 0&&(l.error=qd),l.complete===void 0&&(l.complete=qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xb(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function qd(){}function Je(r){return r&&r._delegate?r._delegate:r}class Wr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Yr="[DEFAULT]";class Ob{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new fb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Vb(t))try{this.getOrInitializeService({instanceIdentifier:Yr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Yr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Yr){return this.instances.has(t)}getOptions(t=Yr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Mb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Yr){return this.component?this.component.multipleInstances?t:Yr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Mb(r){return r===Yr?void 0:r}function Vb(r){return r.instantiationMode==="EAGER"}class kb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Ob(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const Ub={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},Lb=Lt.INFO,Pb={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},zb=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=Pb[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Lm{constructor(t){this.name=t,this._logLevel=Lb,this._logHandler=zb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ub[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const jb=(r,t)=>t.some(i=>r instanceof i);let ov,lv;function Bb(){return ov||(ov=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qb(){return lv||(lv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G0=new WeakMap,sm=new WeakMap,F0=new WeakMap,Hd=new WeakMap,Pm=new WeakMap;function Hb(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(rr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&G0.set(i,r)}).catch(()=>{}),Pm.set(t,r),t}function Gb(r){if(sm.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});sm.set(r,t)}let rm={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return sm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||F0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return rr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Fb(r){rm=r(rm)}function Qb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Gd(this),t,...i);return F0.set(a,t.sort?t.sort():[t]),rr(a)}:qb().includes(r)?function(...t){return r.apply(Gd(this),t),rr(G0.get(this))}:function(...t){return rr(r.apply(Gd(this),t))}}function Kb(r){return typeof r=="function"?Qb(r):(r instanceof IDBTransaction&&Gb(r),jb(r,Bb())?new Proxy(r,rm):r)}function rr(r){if(r instanceof IDBRequest)return Hb(r);if(Hd.has(r))return Hd.get(r);const t=Kb(r);return t!==r&&(Hd.set(r,t),Pm.set(t,r)),t}const Gd=r=>Pm.get(r);function Yb(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=rr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(rr(d.result),y.oldVersion,y.newVersion,rr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const Xb=["get","getKey","getAll","getAllKeys","count"],$b=["put","add","delete","clear"],Fd=new Map;function uv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Fd.get(t))return Fd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=$b.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||Xb.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Fd.set(t,c),c}Fb(r=>({...r,get:(t,i,a)=>uv(t,i)||r.get(t,i,a),has:(t,i)=>!!uv(t,i)||r.has(t,i)}));class Zb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Jb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Jb(r){return r.getComponent()?.type==="VERSION"}const am="@firebase/app",cv="0.14.6";const hs=new Lm("@firebase/app"),Wb="@firebase/app-compat",tS="@firebase/analytics-compat",eS="@firebase/analytics",nS="@firebase/app-check-compat",iS="@firebase/app-check",sS="@firebase/auth",rS="@firebase/auth-compat",aS="@firebase/database",oS="@firebase/data-connect",lS="@firebase/database-compat",uS="@firebase/functions",cS="@firebase/functions-compat",hS="@firebase/installations",fS="@firebase/installations-compat",dS="@firebase/messaging",mS="@firebase/messaging-compat",gS="@firebase/performance",pS="@firebase/performance-compat",yS="@firebase/remote-config",_S="@firebase/remote-config-compat",vS="@firebase/storage",ES="@firebase/storage-compat",TS="@firebase/firestore",AS="@firebase/ai",bS="@firebase/firestore-compat",SS="firebase",wS="12.6.0";const om="[DEFAULT]",RS={[am]:"fire-core",[Wb]:"fire-core-compat",[eS]:"fire-analytics",[tS]:"fire-analytics-compat",[iS]:"fire-app-check",[nS]:"fire-app-check-compat",[sS]:"fire-auth",[rS]:"fire-auth-compat",[aS]:"fire-rtdb",[oS]:"fire-data-connect",[lS]:"fire-rtdb-compat",[uS]:"fire-fn",[cS]:"fire-fn-compat",[hS]:"fire-iid",[fS]:"fire-iid-compat",[dS]:"fire-fcm",[mS]:"fire-fcm-compat",[gS]:"fire-perf",[pS]:"fire-perf-compat",[yS]:"fire-rc",[_S]:"fire-rc-compat",[vS]:"fire-gcs",[ES]:"fire-gcs-compat",[TS]:"fire-fst",[bS]:"fire-fst-compat",[AS]:"fire-vertex","fire-js":"fire-js",[SS]:"fire-js-all"};const Wc=new Map,IS=new Map,lm=new Map;function hv(r,t){try{r.container.addComponent(t)}catch(i){hs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function io(r){const t=r.name;if(lm.has(t))return hs.debug(`There were multiple attempts to register component ${t}.`),!1;lm.set(t,r);for(const i of Wc.values())hv(i,r);for(const i of IS.values())hv(i,r);return!0}function zm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Hn(r){return r==null?!1:r.settings!==void 0}const CS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new Hl("app","Firebase",CS);class NS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const ho=wS;function Q0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:om,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw ar.create("bad-app-name",{appName:String(l)});if(i||(i=j0()),!i)throw ar.create("no-options");const c=Wc.get(l);if(c){if(Jr(i,c.options)&&Jr(a,c.config))return c;throw ar.create("duplicate-app",{appName:l})}const d=new kb(l);for(const y of lm.values())d.addComponent(y);const p=new NS(i,a,d);return Wc.set(l,p),p}function K0(r=om){const t=Wc.get(r);if(!t&&r===om&&j0())return Q0();if(!t)throw ar.create("no-app",{appName:r});return t}function or(r,t,i){let a=RS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hs.warn(d.join(" "));return}io(new Wr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const DS="firebase-heartbeat-database",xS=1,Vl="firebase-heartbeat-store";let Qd=null;function Y0(){return Qd||(Qd=Yb(DS,xS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Vl)}catch(i){console.warn(i)}}}}).catch(r=>{throw ar.create("idb-open",{originalErrorMessage:r.message})})),Qd}async function OS(r){try{const i=(await Y0()).transaction(Vl),a=await i.objectStore(Vl).get(X0(r));return await i.done,a}catch(t){if(t instanceof ys)hs.warn(t.message);else{const i=ar.create("idb-get",{originalErrorMessage:t?.message});hs.warn(i.message)}}}async function fv(r,t){try{const a=(await Y0()).transaction(Vl,"readwrite");await a.objectStore(Vl).put(t,X0(r)),await a.done}catch(i){if(i instanceof ys)hs.warn(i.message);else{const a=ar.create("idb-set",{originalErrorMessage:i?.message});hs.warn(a.message)}}}function X0(r){return`${r.name}!${r.options.appId}`}const MS=1024,VS=30;class kS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new LS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=dv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>VS){const l=PS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){hs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=dv(),{heartbeatsToSend:i,unsentEntries:a}=US(this._heartbeatsCache.heartbeats),l=Jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return hs.warn(t),""}}}function dv(){return new Date().toISOString().substring(0,10)}function US(r,t=MS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),mv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),mv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class LS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bb()?Sb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await OS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return fv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return fv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function mv(r){return Jc(JSON.stringify({version:2,heartbeats:r})).length}function PS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function zS(r){io(new Wr("platform-logger",t=>new Zb(t),"PRIVATE")),io(new Wr("heartbeat",t=>new kS(t),"PRIVATE")),or(am,cv,r),or(am,cv,"esm2020"),or("fire-js","")}zS("");var jS="firebase",BS="12.7.0";or(jS,BS,"app");function $0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qS=$0,Z0=new Hl("auth","Firebase",$0());const th=new Lm("@firebase/auth");function HS(r,...t){th.logLevel<=Lt.WARN&&th.warn(`Auth (${ho}): ${r}`,...t)}function Bc(r,...t){th.logLevel<=Lt.ERROR&&th.error(`Auth (${ho}): ${r}`,...t)}function fs(r,...t){throw jm(r,...t)}function ki(r,...t){return jm(r,...t)}function J0(r,t,i){const a={...qS(),[t]:i};return new Hl("auth","Firebase",a).create(t,{appName:r.name})}function us(r){return J0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Z0.create(r,...t)}function Et(r,t,...i){if(!r)throw jm(t,...i)}function os(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Bc(t),new Error(t)}function ds(r,t){r||os(t)}function um(){return typeof self<"u"&&self.location?.href||""}function GS(){return gv()==="http:"||gv()==="https:"}function gv(){return typeof self<"u"&&self.location?.protocol||null}function FS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GS()||vb()||"connection"in navigator)?navigator.onLine:!0}function QS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Fl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ds(i>t,"Short delay should be less than long delay!"),this.isMobile=pb()||Eb()}get(){return FS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bm(r,t){ds(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class W0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const KS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const YS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XS=new Fl(3e4,6e4);function Ql(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function fo(r,t,i,a,l={}){return tE(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Gl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return _b()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&co(r.emulatorConfig.host)&&(_.credentials="include"),W0.fetch()(await eE(r,r.config.apiHost,i,p),_)})}async function tE(r,t,i){r._canInitEmulator=!1;const a={...KS,...t};try{const l=new $S(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Mc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Mc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Mc(r,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw J0(r,A,_);fs(r,A)}}catch(l){if(l instanceof ys)throw l;fs(r,"network-request-failed",{message:String(l)})}}async function qm(r,t,i,a,l={}){const c=await fo(r,t,i,a,l);return"mfaPendingCredential"in c&&fs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function eE(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Bm(r.config,l):`${r.config.apiScheme}://${l}`;return YS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class $S{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ki(this.auth,"network-request-failed")),XS.get())})}}function Mc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=ki(r,t,a);return l.customData._tokenResponse=i,l}async function ZS(r,t){return fo(r,"POST","/v1/accounts:delete",t)}async function eh(r,t){return fo(r,"POST","/v1/accounts:lookup",t)}function Cl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function JS(r,t=!1){const i=Je(r),a=await i.getIdToken(t),l=Hm(a);Et(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Cl(Kd(l.auth_time)),issuedAtTime:Cl(Kd(l.iat)),expirationTime:Cl(Kd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Kd(r){return Number(r)*1e3}function Hm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=P0(i);return l?JSON.parse(l):(Bc("Failed to decode base64 JWT payload"),null)}catch(l){return Bc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function pv(r){const t=Hm(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function kl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ys&&WS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function WS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class tw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class cm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nh(r){const t=r.auth,i=await r.getIdToken(),a=await kl(r,eh(t,{idToken:i}));Et(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?nE(l.providerUserInfo):[],d=nw(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new cm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function ew(r){const t=Je(r);await nh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function nw(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function nE(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function iw(r,t){const i=await tE(r,{},async()=>{const a=Gl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await eE(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&co(r.emulatorConfig.host)&&(y.credentials="include"),W0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function sw(r,t){return fo(r,"POST","/v2/accounts:revokeToken",Ql(r,t))}class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):pv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=pv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await iw(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Wa;return a&&(Et(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(Et(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return os("not implemented")}}function Js(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ii{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new tw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new cm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await kl(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return JS(this,t)}reload(){return ew(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ii({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await nh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(us(this.auth));const t=await this.getIdToken();return await kl(this,ZS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:O,isAnonymous:G,providerData:J,stsTokenManager:nt}=i;Et(b&&nt,t,"internal-error");const W=Wa.fromJSON(this.name,nt);Et(typeof b=="string",t,"internal-error"),Js(a,t.name),Js(l,t.name),Et(typeof O=="boolean",t,"internal-error"),Et(typeof G=="boolean",t,"internal-error"),Js(c,t.name),Js(d,t.name),Js(p,t.name),Js(y,t.name),Js(_,t.name),Js(A,t.name);const gt=new ii({uid:b,auth:t,email:l,emailVerified:O,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:_,lastLoginAt:A});return J&&Array.isArray(J)&&(gt.providerData=J.map(mt=>({...mt}))),y&&(gt._redirectEventId=y),gt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Wa;l.updateFromServerResponse(i);const c=new ii({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await nh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];Et(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?nE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Wa;p.updateFromIdToken(a);const y=new ii({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new cm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const yv=new Map;function ls(r){ds(r instanceof Function,"Expected a class definition");let t=yv.get(r);return t?(ds(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,yv.set(r,t),t)}class iE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}iE.type="NONE";const _v=iE;function qc(r,t,i){return`firebase:${r}:${t}:${i}`}class to{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=qc(this.userKey,l.apiKey,c),this.fullPersistenceKey=qc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await eh(this.auth,{idToken:t}).catch(()=>{});return i?ii._fromGetAccountInfoResponse(this.auth,i,t):null}return ii._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new to(ls(_v),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ls(_v);const d=qc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let b;if(typeof A=="string"){const O=await eh(t,{idToken:A}).catch(()=>{});if(!O)break;b=await ii._fromGetAccountInfoResponse(t,O,A)}else b=ii._fromJSON(t,A);_!==c&&(p=b),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new to(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new to(c,t,a))}}function vv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(oE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(sE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(uE(t))return"Blackberry";if(cE(t))return"Webos";if(rE(t))return"Safari";if((t.includes("chrome/")||aE(t))&&!t.includes("edge/"))return"Chrome";if(lE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function sE(r=sn()){return/firefox\//i.test(r)}function rE(r=sn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function aE(r=sn()){return/crios\//i.test(r)}function oE(r=sn()){return/iemobile/i.test(r)}function lE(r=sn()){return/android/i.test(r)}function uE(r=sn()){return/blackberry/i.test(r)}function cE(r=sn()){return/webos/i.test(r)}function Gm(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function rw(r=sn()){return Gm(r)&&!!window.navigator?.standalone}function aw(){return Tb()&&document.documentMode===10}function hE(r=sn()){return Gm(r)||lE(r)||cE(r)||uE(r)||/windows phone/i.test(r)||oE(r)}function fE(r,t=[]){let i;switch(r){case"Browser":i=vv(sn());break;case"Worker":i=`${vv(sn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ho}/${a}`}class ow{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function lw(r,t={}){return fo(r,"GET","/v2/passwordPolicy",Ql(r,t))}const uw=6;class cw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??uw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class hw{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ev(this),this.idTokenSubscription=new Ev(this),this.beforeStateQueue=new ow(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ls(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await to.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await eh(this,{idToken:t}),a=await ii._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Hn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await nh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=QS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Hn(this.app))return Promise.reject(us(this));const i=t?Je(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Hn(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await lw(this),i=new cw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Hl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await sw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ls(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await to.create(this,[ls(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=fE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&HS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Kl(r){return Je(r)}class Ev{constructor(t){this.auth=t,this.observer=null,this.addObserver=Nb(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fw(r){Fm=r}function dw(r){return Fm.loadJS(r)}function mw(){return Fm.gapiScript}function gw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function pw(r,t){const i=zm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Jr(c,t??{}))return l;fs(l,"already-initialized")}return i.initialize({options:t})}function yw(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ls);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function _w(r,t,i){const a=Kl(r);Et(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=dE(t),{host:d,port:p}=vw(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Et(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Et(Jr(_,a.config.emulator)&&Jr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,co(d)?(q0(`${c}//${d}${y}`),H0("Auth",!0)):Ew()}function dE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function vw(r){const t=dE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:Tv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:Tv(d)}}}function Tv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Ew(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class mE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return os("not implemented")}_getIdTokenResponse(t){return os("not implemented")}_linkToIdToken(t,i){return os("not implemented")}_getReauthenticationResolver(t){return os("not implemented")}}async function eo(r,t){return qm(r,"POST","/v1/accounts:signInWithIdp",Ql(r,t))}const Tw="http://localhost";class ta extends mE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ta(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):fs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ta(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return eo(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,eo(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,eo(t,i)}buildRequest(){const t={requestUri:Tw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Gl(i)}return t}}class gE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Yl extends gE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class tr extends Yl{constructor(){super("facebook.com")}static credential(t){return ta._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";class er extends Yl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ta._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return er.credential(i,a)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";class nr extends Yl{constructor(){super("github.com")}static credential(t){return ta._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return nr.credential(t.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";class ir extends Yl{constructor(){super("twitter.com")}static credential(t,i){return ta._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return ir.credential(i,a)}catch{return null}}}ir.TWITTER_SIGN_IN_METHOD="twitter.com";ir.PROVIDER_ID="twitter.com";async function Aw(r,t){return qm(r,"POST","/v1/accounts:signUp",Ql(r,t))}class ms{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ii._fromIdTokenResponse(t,a,l),d=Av(a);return new ms({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=Av(a);return new ms({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function Av(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function bw(r){if(Hn(r.app))return Promise.reject(us(r));const t=Kl(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ms({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await Aw(t,{returnSecureToken:!0}),a=await ms._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class ih extends ys{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new ih(t,i,a,l)}}function pE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(r,c,t,a):c})}async function Sw(r,t,i=!1){const a=await kl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ms._forOperation(r,"link",a)}async function ww(r,t,i=!1){const{auth:a}=r;if(Hn(a.app))return Promise.reject(us(a));const l="reauthenticate";try{const c=await kl(r,pE(a,l,t,r),i);Et(c.idToken,a,"internal-error");const d=Hm(c.idToken);Et(d,a,"internal-error");const{sub:p}=d;return Et(r.uid===p,a,"user-mismatch"),ms._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&fs(a,"user-mismatch"),c}}async function Rw(r,t,i=!1){if(Hn(r.app))return Promise.reject(us(r));const a="signIn",l=await pE(r,a,t),c=await ms._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function Iw(r,t){return qm(r,"POST","/v1/accounts:signInWithCustomToken",Ql(r,t))}async function Cw(r,t){if(Hn(r.app))return Promise.reject(us(r));const i=Kl(r),a=await Iw(i,{token:t,returnSecureToken:!0}),l=await ms._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function Nw(r,t,i,a){return Je(r).onIdTokenChanged(t,i,a)}function Dw(r,t,i){return Je(r).beforeAuthStateChanged(t,i)}function xw(r,t,i,a){return Je(r).onAuthStateChanged(t,i,a)}const sh="__sak";class yE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ow=1e3,Mw=10;class _E extends yE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);aw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Mw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}_E.type="LOCAL";const Vw=_E;class vE extends yE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}vE.type="SESSION";const EE=vE;function kw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class yh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new yh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await kw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];function Qm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class Uw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Qm("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const O=b;if(O.data.eventId===_)switch(O.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(O.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ui(){return window}function Lw(r){Ui().location.href=r}function TE(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function Pw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zw(){return navigator?.serviceWorker?.controller||null}function jw(){return TE()?self:null}const AE="firebaseLocalStorageDb",Bw=1,rh="firebaseLocalStorage",bE="fbase_key";class Xl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function _h(r,t){return r.transaction([rh],t?"readwrite":"readonly").objectStore(rh)}function qw(){const r=indexedDB.deleteDatabase(AE);return new Xl(r).toPromise()}function hm(){const r=indexedDB.open(AE,Bw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(rh,{keyPath:bE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(rh)?t(a):(a.close(),await qw(),t(await hm()))})})}async function bv(r,t,i){const a=_h(r,!0).put({[bE]:t,value:i});return new Xl(a).toPromise()}async function Hw(r,t){const i=_h(r,!1).get(t),a=await new Xl(i).toPromise();return a===void 0?null:a.value}function Sv(r,t){const i=_h(r,!0).delete(t);return new Xl(i).toPromise()}const Gw=800,Fw=3;class SE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Fw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(jw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Pw(),!this.activeServiceWorker)return;this.sender=new Uw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||zw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await hm();return await bv(t,sh,"1"),await Sv(t,sh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>bv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Hw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Sv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=_h(l,!1).getAll();return new Xl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Gw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SE.type="LOCAL";const Qw=SE;new Fl(3e4,6e4);function Kw(r,t){return t?ls(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Km extends mE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return eo(t,this._buildIdpRequest())}_linkToIdToken(t,i){return eo(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return eo(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Yw(r){return Rw(r.auth,new Km(r),r.bypassAuthState)}function Xw(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),ww(i,new Km(r),r.bypassAuthState)}async function $w(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),Sw(i,new Km(r),r.bypassAuthState)}class wE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Yw;case"linkViaPopup":case"linkViaRedirect":return $w;case"reauthViaPopup":case"reauthViaRedirect":return Xw;default:fs(this.auth,"internal-error")}}resolve(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zw=new Fl(2e3,1e4);class Za extends wE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const t=Qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Zw.get())};t()}}Za.currentPopupAction=null;const Jw="pendingRedirect",Hc=new Map;class Ww extends wE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Hc.get(this.auth._key());if(!t){try{const a=await t2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Hc.set(this.auth._key(),t)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t2(r,t){const i=i2(t),a=n2(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function e2(r,t){Hc.set(r._key(),t)}function n2(r){return ls(r._redirectPersistence)}function i2(r){return qc(Jw,r.config.apiKey,r.name)}async function s2(r,t,i=!1){if(Hn(r.app))return Promise.reject(us(r));const a=Kl(r),l=Kw(a,t),d=await new Ww(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const r2=600*1e3;class a2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!o2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!RE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ki(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=r2&&this.cachedEventUids.clear(),this.cachedEventUids.has(wv(t))}saveEventToCache(t){this.cachedEventUids.add(wv(t)),this.lastProcessedEventTime=Date.now()}}function wv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function RE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function o2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RE(r);default:return!1}}async function l2(r,t={}){return fo(r,"GET","/v1/projects",t)}const u2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c2=/^https?/;async function h2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await l2(r);for(const i of t)try{if(f2(i))return}catch{}fs(r,"unauthorized-domain")}function f2(r){const t=um(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!c2.test(i))return!1;if(u2.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const d2=new Fl(3e4,6e4);function Rv(){const r=Ui().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function m2(r){return new Promise((t,i)=>{function a(){Rv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Rv(),i(ki(r,"network-request-failed"))},timeout:d2.get()})}if(Ui().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ui().gapi?.load)a();else{const l=gw("iframefcb");return Ui()[l]=()=>{gapi.load?a():i(ki(r,"network-request-failed"))},dw(`${mw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Gc=null,t})}let Gc=null;function g2(r){return Gc=Gc||m2(r),Gc}const p2=new Fl(5e3,15e3),y2="__/auth/iframe",_2="emulator/auth/iframe",v2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T2(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Bm(t,_2):`https://${r.config.authDomain}/${y2}`,a={apiKey:t.apiKey,appName:r.name,v:ho},l=E2.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Gl(a).slice(1)}`}async function A2(r){const t=await g2(r),i=Ui().gapi;return Et(i,r,"internal-error"),t.open({where:document.body,url:T2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=ki(r,"network-request-failed"),p=Ui().setTimeout(()=>{c(d)},p2.get());function y(){Ui().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const b2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S2=500,w2=600,R2="_blank",I2="http://localhost";class Iv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C2(r,t,i,a=S2,l=w2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...b2,width:a.toString(),height:l.toString(),top:c,left:d},_=sn().toLowerCase();i&&(p=aE(_)?R2:i),sE(_)&&(t=t||I2,y.scrollbars="yes");const A=Object.entries(y).reduce((O,[G,J])=>`${O}${G}=${J},`,"");if(rw(_)&&p!=="_self")return N2(t||"",p),new Iv(null);const b=window.open(t||"",p,A);Et(b,r,"popup-blocked");try{b.focus()}catch{}return new Iv(b)}function N2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const D2="__/auth/handler",x2="emulator/auth/handler",O2=encodeURIComponent("fac");async function Cv(r,t,i,a,l,c){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:ho,eventId:l};if(t instanceof gE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",Cb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof Yl){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await r._getAppCheckToken(),_=y?`#${O2}=${encodeURIComponent(y)}`:"";return`${M2(r)}?${Gl(p).slice(1)}${_}`}function M2({config:r}){return r.emulator?Bm(r,x2):`https://${r.authDomain}/${D2}`}const Yd="webStorageSupport";class V2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EE,this._completeRedirectFn=s2,this._overrideRedirectResult=e2}async _openPopup(t,i,a,l){ds(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Cv(t,i,a,um(),l);return C2(t,c,Qm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await Cv(t,i,a,um(),l);return Lw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ds(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await A2(t),a=new a2(t);return i.register("authEvent",l=>(Et(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Yd,{type:Yd},l=>{const c=l?.[0]?.[Yd];c!==void 0&&i(!!c),fs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=h2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return hE()||rE()||Gm()}}const k2=V2;var Nv="@firebase/auth",Dv="1.12.0";class U2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function L2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P2(r){io(new Wr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fE(r)},_=new hw(a,l,c,y);return yw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),io(new Wr("auth-internal",t=>{const i=Kl(t.getProvider("auth").getImmediate());return(a=>new U2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(Nv,Dv,L2(r)),or(Nv,Dv,"esm2020")}const z2=300,j2=B0("authIdTokenMaxAge")||z2;let xv=null;const B2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>j2)return;const l=i?.token;xv!==l&&(xv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function q2(r=K0()){const t=zm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=pw(r,{popupRedirectResolver:k2,persistence:[Qw,Vw,EE]}),a=B0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=B2(c.toString());Dw(i,d,()=>d(i.currentUser)),Nw(i,p=>d(p))}}const l=z0("auth");return l&&_w(i,`http://${l}`),i}function H2(){return document.getElementsByTagName("head")?.[0]??document}fw({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=ki("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",H2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P2("Browser");var Ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lr,IE;(function(){var r;function t(C,S){function w(){}w.prototype=S.prototype,C.F=S.prototype,C.prototype=new w,C.prototype.constructor=C,C.D=function(V,D,U){for(var R=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)R[Zt-2]=arguments[Zt];return S.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,w){w||(w=0);const V=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)V[D]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(D=0;D<16;++D)V[D]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=C.g[0],w=C.g[1],D=C.g[2];let U=C.g[3],R;R=S+(U^w&(D^U))+V[0]+3614090360&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(D^S&(w^D))+V[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(w^U&(S^w))+V[2]+606105819&4294967295,D=U+(R<<17&4294967295|R>>>15),R=w+(S^D&(U^S))+V[3]+3250441966&4294967295,w=D+(R<<22&4294967295|R>>>10),R=S+(U^w&(D^U))+V[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(D^S&(w^D))+V[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(w^U&(S^w))+V[6]+2821735955&4294967295,D=U+(R<<17&4294967295|R>>>15),R=w+(S^D&(U^S))+V[7]+4249261313&4294967295,w=D+(R<<22&4294967295|R>>>10),R=S+(U^w&(D^U))+V[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(D^S&(w^D))+V[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(w^U&(S^w))+V[10]+4294925233&4294967295,D=U+(R<<17&4294967295|R>>>15),R=w+(S^D&(U^S))+V[11]+2304563134&4294967295,w=D+(R<<22&4294967295|R>>>10),R=S+(U^w&(D^U))+V[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(D^S&(w^D))+V[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(w^U&(S^w))+V[14]+2792965006&4294967295,D=U+(R<<17&4294967295|R>>>15),R=w+(S^D&(U^S))+V[15]+1236535329&4294967295,w=D+(R<<22&4294967295|R>>>10),R=S+(D^U&(w^D))+V[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^D&(S^w))+V[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^w&(U^S))+V[11]+643717713&4294967295,D=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(D^U))+V[0]+3921069994&4294967295,w=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(w^D))+V[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^D&(S^w))+V[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^w&(U^S))+V[15]+3634488961&4294967295,D=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(D^U))+V[4]+3889429448&4294967295,w=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(w^D))+V[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^D&(S^w))+V[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^w&(U^S))+V[3]+4107603335&4294967295,D=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(D^U))+V[8]+1163531501&4294967295,w=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(w^D))+V[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^D&(S^w))+V[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^w&(U^S))+V[7]+1735328473&4294967295,D=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(D^U))+V[12]+2368359562&4294967295,w=D+(R<<20&4294967295|R>>>12),R=S+(w^D^U)+V[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^D)+V[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^w)+V[11]+1839030562&4294967295,D=U+(R<<16&4294967295|R>>>16),R=w+(D^U^S)+V[14]+4259657740&4294967295,w=D+(R<<23&4294967295|R>>>9),R=S+(w^D^U)+V[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^D)+V[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^w)+V[7]+4139469664&4294967295,D=U+(R<<16&4294967295|R>>>16),R=w+(D^U^S)+V[10]+3200236656&4294967295,w=D+(R<<23&4294967295|R>>>9),R=S+(w^D^U)+V[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^D)+V[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^w)+V[3]+3572445317&4294967295,D=U+(R<<16&4294967295|R>>>16),R=w+(D^U^S)+V[6]+76029189&4294967295,w=D+(R<<23&4294967295|R>>>9),R=S+(w^D^U)+V[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^D)+V[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^w)+V[15]+530742520&4294967295,D=U+(R<<16&4294967295|R>>>16),R=w+(D^U^S)+V[2]+3299628645&4294967295,w=D+(R<<23&4294967295|R>>>9),R=S+(D^(w|~U))+V[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~D))+V[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~w))+V[14]+2878612391&4294967295,D=U+(R<<15&4294967295|R>>>17),R=w+(U^(D|~S))+V[5]+4237533241&4294967295,w=D+(R<<21&4294967295|R>>>11),R=S+(D^(w|~U))+V[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~D))+V[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~w))+V[10]+4293915773&4294967295,D=U+(R<<15&4294967295|R>>>17),R=w+(U^(D|~S))+V[1]+2240044497&4294967295,w=D+(R<<21&4294967295|R>>>11),R=S+(D^(w|~U))+V[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~D))+V[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~w))+V[6]+2734768916&4294967295,D=U+(R<<15&4294967295|R>>>17),R=w+(U^(D|~S))+V[13]+1309151649&4294967295,w=D+(R<<21&4294967295|R>>>11),R=S+(D^(w|~U))+V[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~D))+V[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~w))+V[2]+718787259&4294967295,D=U+(R<<15&4294967295|R>>>17),R=w+(U^(D|~S))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.v=function(C,S){S===void 0&&(S=C.length);const w=S-this.blockSize,V=this.C;let D=this.h,U=0;for(;U<S;){if(D==0)for(;U<=w;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<S;)if(V[D++]=C.charCodeAt(U++),D==this.blockSize){l(this,V),D=0;break}}else for(;U<S;)if(V[D++]=C[U++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=S},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var w=C.length-8;w<C.length;++w)C[w]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,w=0;w<4;++w)for(let V=0;V<32;V+=8)C[S++]=this.g[w]>>>V&255;return C};function c(C,S){var w=p;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=S(C)}function d(C,S){this.h=S;const w=[];let V=!0;for(let D=C.length-1;D>=0;D--){const U=C[D]|0;V&&U==S||(w[D]=U,V=!1)}this.g=w}var p={};function y(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return W(_(-C));const S=[];let w=1;for(let V=0;C>=w;V++)S[V]=C/w|0,w*=4294967296;return new d(S,0)}function A(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return W(A(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(S,8));let V=b;for(let U=0;U<C.length;U+=8){var D=Math.min(8,C.length-U);const R=parseInt(C.substring(U,U+D),S);D<8?(D=_(Math.pow(S,D)),V=V.j(D).add(_(R))):(V=V.j(w),V=V.add(_(R)))}return V}var b=y(0),O=y(1),G=y(16777216);r=d.prototype,r.m=function(){if(nt(this))return-W(this).m();let C=0,S=1;for(let w=0;w<this.g.length;w++){const V=this.i(w);C+=(V>=0?V:4294967296+V)*S,S*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(J(this))return"0";if(nt(this))return"-"+W(this).toString(C);const S=_(Math.pow(C,6));var w=this;let V="";for(;;){const D=Ot(w,S).g;w=gt(w,D.j(S));let U=((w.g.length>0?w.g[0]:w.h)>>>0).toString(C);if(w=D,J(w))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function J(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function nt(C){return C.h==-1}r.l=function(C){return C=gt(this,C),nt(C)?-1:J(C)?0:1};function W(C){const S=C.g.length,w=[];for(let V=0;V<S;V++)w[V]=~C.g[V];return new d(w,~C.h).add(O)}r.abs=function(){return nt(this)?W(this):this},r.add=function(C){const S=Math.max(this.g.length,C.g.length),w=[];let V=0;for(let D=0;D<=S;D++){let U=V+(this.i(D)&65535)+(C.i(D)&65535),R=(U>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);V=R>>>16,U&=65535,R&=65535,w[D]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function gt(C,S){return C.add(W(S))}r.j=function(C){if(J(this)||J(C))return b;if(nt(this))return nt(C)?W(this).j(W(C)):W(W(this).j(C));if(nt(C))return W(this.j(W(C)));if(this.l(G)<0&&C.l(G)<0)return _(this.m()*C.m());const S=this.g.length+C.g.length,w=[];for(var V=0;V<2*S;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<C.g.length;D++){const U=this.i(V)>>>16,R=this.i(V)&65535,Zt=C.i(D)>>>16,de=C.i(D)&65535;w[2*V+2*D]+=R*de,mt(w,2*V+2*D),w[2*V+2*D+1]+=U*de,mt(w,2*V+2*D+1),w[2*V+2*D+1]+=R*Zt,mt(w,2*V+2*D+1),w[2*V+2*D+2]+=U*Zt,mt(w,2*V+2*D+2)}for(C=0;C<S;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=S;C<2*S;C++)w[C]=0;return new d(w,0)};function mt(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function pt(C,S){this.g=C,this.h=S}function Ot(C,S){if(J(S))throw Error("division by zero");if(J(C))return new pt(b,b);if(nt(C))return S=Ot(W(C),S),new pt(W(S.g),W(S.h));if(nt(S))return S=Ot(C,W(S)),new pt(W(S.g),S.h);if(C.g.length>30){if(nt(C)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=O,V=S;V.l(C)<=0;)w=ie(w),V=ie(V);var D=Ct(w,1),U=Ct(V,1);for(V=Ct(V,2),w=Ct(w,2);!J(V);){var R=U.add(V);R.l(C)<=0&&(D=D.add(w),U=R),V=Ct(V,1),w=Ct(w,1)}return S=gt(C,D.j(S)),new pt(D,S)}for(D=b;C.l(S)>=0;){for(w=Math.max(1,Math.floor(C.m()/S.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(w),R=U.j(S);nt(R)||R.l(C)>0;)w-=V,U=_(w),R=U.j(S);J(U)&&(U=O),D=D.add(U),C=gt(C,R)}return new pt(D,C)}r.B=function(C){return Ot(this,C).h},r.and=function(C){const S=Math.max(this.g.length,C.g.length),w=[];for(let V=0;V<S;V++)w[V]=this.i(V)&C.i(V);return new d(w,this.h&C.h)},r.or=function(C){const S=Math.max(this.g.length,C.g.length),w=[];for(let V=0;V<S;V++)w[V]=this.i(V)|C.i(V);return new d(w,this.h|C.h)},r.xor=function(C){const S=Math.max(this.g.length,C.g.length),w=[];for(let V=0;V<S;V++)w[V]=this.i(V)^C.i(V);return new d(w,this.h^C.h)};function ie(C){const S=C.g.length+1,w=[];for(let V=0;V<S;V++)w[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(w,C.h)}function Ct(C,S){const w=S>>5;S%=32;const V=C.g.length-w,D=[];for(let U=0;U<V;U++)D[U]=S>0?C.i(U+w)>>>S|C.i(U+w+1)<<32-S:C.i(U+w);return new d(D,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,IE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,lr=d}).apply(typeof Ov<"u"?Ov:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var CE,bl,NE,Fc,fm,DE,xE,OE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,q){for(var tt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)tt[wt-2]=arguments[wt];return m.prototype[L].apply(T,tt)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let tt=0;tt<q;tt++)u[v+tt]=L[tt]}else u.push(L)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function gt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class mt{constructor(){this.h=this.g=null}add(m,v){const T=pt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var pt=new nt(()=>new Ot,u=>u.reset());class Ot{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,Ct=!1,C=new mt,S=()=>{const u=Promise.resolve(void 0);ie=()=>{u.then(w)}};function w(){for(var u;u=gt();){try{u.h.call(u.g)}catch(v){W(v)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ct=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Zt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(Zt,D),Zt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Zt.Z.h.call(this)},Zt.prototype.h=function(){Zt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),F=0;function it(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++F,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Mt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function ut(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function N(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let q=0;q<Y.length;q++)v=Y[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const tt=St(u,m,T,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new it(m,this.src,q,!!T,L),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(T,L,1),q&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,T){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return L}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),he={};function Jt(u,m,v,T,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Jt(u,m[q],v,T,L);return null}return v=B(v),u&&u[de]?u.J(m,v,p(T)?!!T.capture:!1,L):ji(u,m,v,!1,T,L)}function ji(u,m,v,T,L,q){if(!m)throw Error("Invalid event type");const tt=p(L)?!!L.capture:!!L;let wt=Nn(u);if(wt||(u[Vt]=wt=new rt(u)),v=wt.add(m,v,T,tt,q),v.proxy)return v;if(T=Bi(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(rn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Bi(){function u(v){return m.call(u.src,u.listener,v)}const m=_s;return u}function li(u,m,v,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)li(u,m[q],v,T,L);else T=p(T)?!!T.capture:!!T,v=B(v),u&&u[de]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=St(m,v,T,L),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Nn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,T,L)),(v=u>-1?m[u]:null)&&ui(v))}function ui(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[de])_t(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(rn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Nn(m))?(_t(v,u),v.h==0&&(v.src=null,m[Vt]=null)):ft(u)}}}function rn(u){return u in he?he[u]:he[u]="on"+u}function _s(u,m){if(u.da)u=!0;else{m=new Zt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ui(u),u=v.call(T,m)}return u}function Nn(u){return u=u[Vt],u instanceof rt?u:null}var vs="__closure_events_fn_"+(Math.random()*1e9>>>0);function B(u){return typeof u=="function"?u:(u[vs]||(u[vs]=function(m){return u.handleEvent(m)}),u[vs])}function ct(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}b(ct,V),ct.prototype[de]=!0,ct.prototype.removeEventListener=function(u,m,v,T){li(this,u,m,v,T)};function Nt(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),et(m,L)}L=!0;let q,tt;if(v)for(tt=v.length-1;tt>=0;tt--)q=m.g=v[tt],L=Ge(q,T,!0,m)&&L;if(q=m.g=u,L=Ge(q,T,!0,m)&&L,L=Ge(q,T,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)q=m.g=v[tt],L=Ge(q,T,!1,m)&&L}ct.prototype.N=function(){if(ct.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ft(v[T]);delete u.g[m],u.h--}}this.G=null},ct.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ct.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function Ge(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const tt=m[q];if(tt&&!tt.da&&tt.capture==v){const wt=tt.listener,ve=tt.ha||tt.src;tt.fa&&_t(u.i,tt),L=wt.call(ve,T)!==!1&&L}}return L&&!T.defaultPrevented}function ci(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ve(u){u.g=ci(()=>{u.g=null,u.i&&(u.i=!1,Ve(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ke extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ve(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yn(u){V.call(this),this.h=u,this.g={}}b(yn,V);var vo=[];function Eo(u){Mt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ui(m)},u),u.g={}}yn.prototype.N=function(){yn.Z.N.call(this),Eo(this)},yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Es=d.JSON.stringify,Ph=d.JSON.parse,ru=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function au(){}function ou(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fe(){D.call(this,"d")}b(Fe,D);function Dn(){D.call(this,"c")}b(Dn,D);var _e={},lu=null;function aa(){return lu=lu||new ct}_e.Ia="serverreachability";function uu(u){D.call(this,_e.Ia,u)}b(uu,D);function hi(u){const m=aa();Nt(m,new uu(m))}_e.STAT_EVENT="statevent";function Er(u,m){D.call(this,_e.STAT_EVENT,u),this.stat=m}b(Er,D);function be(u){const m=aa();Nt(m,new Er(m,u))}_e.Ja="timingevent";function fi(u,m){D.call(this,_e.Ja,u),this.size=m}b(fi,D);function di(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function zh(u,m,v,T,L,q){u.info(function(){if(u.g)if(q){var tt="",wt=q.split("&");for(let Gt=0;Gt<wt.length;Gt++){var ve=wt[Gt].split("=");if(ve.length>1){const ue=ve[0];ve=ve[1];const Vn=ue.split("_");tt=Vn.length>=2&&Vn[1]=="type"?tt+(ue+"="+ve+"&"):tt+(ue+"=redacted&")}}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function cu(u,m,v,T,L,q,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+tt})}function mi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jh(u,v)+(T?" "+T:"")})}function Tr(u,m){u.info(function(){return"TIMEOUT: "+m})}Qn.prototype.info=function(){};function jh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return Es(q)}catch{return m}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},To={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ao;function br(){}b(br,au),br.prototype.g=function(){return new XMLHttpRequest},Ao=new br;function qi(u){return encodeURIComponent(String(u))}function hu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Kn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new yn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var Se={},Pe={};function gi(u,m,v){u.M=1,u.A=Sr(Re(m)),u.u=v,u.R=!0,oa(u,null)}function oa(u,m){u.F=Date.now(),pi(u),u.B=Re(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ha(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Yn,u.g=Ru(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ke(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(vo[0]=L.toString()),L=vo);for(let q=0;q<L.length;q++){const tt=Jt(v,L[q],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),hi(),zh(u.i,u.v,u.B,u.l,u.S,u.u)}Kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Zn(u)==3?m.j():this.Y(u)},Kn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Zn(this.g),ve=this.g.ya(),Gt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||wt!=4||ve==7||(ve==8||Gt<=0?hi(3):hi(2)),yi(this);var m=this.g.ca();this.X=m;var v=Bh(this);if(this.o=m==200,cu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break e}}q=null}if(u=q)mi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,u);else{this.o=!1,this.m=3,be(12),_n(this),xn(this);break t}}if(this.R){u=!0;let ue;for(;!this.K&&this.C<v.length;)if(ue=du(this,v),ue==Pe){wt==4&&(this.m=4,be(14),u=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==Se){this.m=4,be(15),mi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else mi(this.i,this.l,ue,null),_i(this,ue);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,be(16),u=!1),this.o=this.o&&u,!u)mi(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Lo(tt),tt.P=!0,be(11))}}else mi(this.i,this.l,v,null),_i(this,v);wt==4&&_n(this),this.o&&!this.K&&(wt==4?Au(this.j,this):(this.o=!1,pi(this)))}else Gi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),_n(this),xn(this)}}}catch{}};function Bh(u){if(!fu(u))return u.g.la();const m=Qe(u.g);if(m==="")return"";let v="";const T=m.length,L=Zn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return _n(u),xn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(L&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function fu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function du(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Pe:(v=Number(m.substring(v,T)),isNaN(v)?Se:(T+=1,T+v>m.length?Pe:(m=m.slice(T,T+v),u.C=T+v,m)))}Kn.prototype.cancel=function(){this.K=!0,_n(this)};function pi(u){u.T=Date.now()+u.H,la(u,u.H)}function la(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=di(_(u.aa,u),m)}function yi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Tr(this.i,this.B),this.M!=2&&(hi(),be(17)),_n(this),this.m=2,xn(this)):la(this,this.T-u)};function xn(u){u.j.I==0||u.K||Au(u.j,u)}function _n(u){yi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Eo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function _i(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ei(v.h,u))){if(!u.L&&Ei(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)pa(v),Cs(v);else break t;xr(v),be(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=di(_(v.Va,v),6e3));vi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((u.L||v.g==u)&&pa(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Gt=L[m];const ue=Gt[0];if(!(ue<=v.K))if(v.K=ue,Gt=Gt[1],v.I==2)if(Gt[0]=="c"){v.M=Gt[1],v.ba=Gt[2];const Vn=Gt[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const Ii=Gt[4];Ii!=null&&(v.za=Ii,v.j.info("SVER="+v.za));const Jn=Gt[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(T=1.5*Jn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Wn=u.g;if(Wn){const Or=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var q=T.h;q.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(wo(q,q.h),q.h=null))}if(T.G){const ya=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(T.wa=ya,Yt(T.J,T.G,ya))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=wu(T,T.L?T.ba:null,T.W),tt.L){Ro(T.h,tt);var wt=tt,ve=T.O;ve&&(wt.H=ve),wt.D&&(yi(wt),pi(wt)),T.g=tt}else Eu(T);v.i.length>0&&wi(v)}else Gt[0]!="stop"&&Gt[0]!="close"||Ri(v,7);else v.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Ri(v,7):ko(v):Gt[0]!="noop"&&v.l&&v.l.qa(Gt),v.A=0)}}hi(4)}catch{}}var we=class{constructor(u,m){this.g=u,this.map=m}};function bo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vi(u){return u.h?1:u.g?u.g.size:0}function Ei(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wo(u,m){u.g?u.g.add(m):u.h=m}function Ro(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bo.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Io(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,q=null;T>=0?(L=u[v].substring(0,T),q=u[v].substring(T+1)):L=u[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof vn?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,Ts(this,u.u),this.h=u.h,Co(this,_u(u.i)),this.m=u.m):u&&(m=String(u).match(mu))?(this.l=!1,ze(this,m[1]||"",!0),this.o=Ti(m[2]||""),this.g=Ti(m[3]||"",!0),Ts(this,m[4]),this.h=Ti(m[5]||"",!0),Co(this,m[6]||"",!0),this.m=Ti(m[7]||"")):(this.l=!1,this.i=new bs(null,this.l))}vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(wr(m,ca,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(wr(m,ca,!0),"@"),u.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(wr(v,v.charAt(0)=="/"?No:gu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",wr(v,pu)),u.join("")},vn.prototype.resolve=function(u){const m=Re(this);let v=!!u.j;v?ze(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Ts(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let tt=0;tt<L.length;){const wt=L[tt++];wt=="."?T&&tt==L.length&&q.push(""):wt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&tt==L.length&&q.push("")):(q.push(wt),T=!0)}T=q.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?Co(m,_u(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Re(u){return new vn(u)}function ze(u,m,v){u.j=v?Ti(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ts(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Co(u,m,v){m instanceof bs?(u.i=m,fa(u.i,u.l)):(v||(m=wr(m,As)),u.i=new bs(m,u.l))}function Yt(u,m,v){u.i.set(m,v)}function Sr(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ti(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,ln),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ln(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ca=/[#\/\?@]/g,gu=/[#\?:]/g,No=/[#\?]/g,As=/[#\?@]/g,pu=/#/g;function bs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function un(u){u.g||(u.g=new Map,u.h=0,u.i&&ua(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=bs.prototype,r.add=function(u,m){un(this),this.i=null,u=Ss(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function yu(u,m){un(u),m=Ss(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Do(u,m){return un(u),m=Ss(u,m),u.g.has(m)}r.forEach=function(u,m){un(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function xo(u,m){un(u);let v=[];if(typeof m=="string")Do(u,m)&&(v=v.concat(u.g.get(Ss(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return un(this),this.i=null,u=Ss(this,u),Do(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=xo(this,u),u.length>0?String(u[0]):m):m};function ha(u,m,v){yu(u,m),v.length>0&&(u.i=null,u.g.set(Ss(u,m),G(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=qi(v);v=xo(this,v);for(let q=0;q<v.length;q++){let tt=L;v[q]!==""&&(tt+="="+qi(v[q])),u.push(tt)}}return this.i=u.join("&")};function _u(u){const m=new bs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ss(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function fa(u,m){m&&!u.j&&(un(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(yu(this,T),ha(this,L,v))},u)),u.j=m}function Xn(u,m){const v=new Qn;if(d.Image){const T=new Image;T.onload=A(On,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(On,v,"TestLoadImage: error",!1,m,T),T.onabort=A(On,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(On,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Oo(u,m){const v=new Qn,T=new AbortController,L=setTimeout(()=>{T.abort(),On(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?On(v,"TestPingServer: ok",!0,m):On(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),On(v,"TestPingServer: error",!1,m)})}function On(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function ws(){this.g=new ru}function Ai(u){this.i=u.Sb||null,this.h=u.ab||!1}b(Ai,au),Ai.prototype.g=function(){return new Rr(this.i,this.h)};function Rr(u,m){ct.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Rr,ct),r=Rr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,$n(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Rs(this):$n(this),this.readyState==3&&da(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Rs(this))},r.Na=function(u){this.g&&(this.response=u,Rs(this))},r.ga=function(){this.g&&Rs(this)};function Rs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,$n(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mn(u){let m="";return Mt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ir(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Mn(v),typeof u=="string"?v!=null&&qi(v):Yt(u,m,v))}function Wt(u){ct.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Wt,ct);var bi=/^https?$/i,Mo=["POST","PUT"];r=Wt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ao.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Cr(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Mo,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of v)this.g.setRequestHeader(q,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Cr(this,q)}};function Cr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Vo(u),Hi(u)}function Vo(u){u.A||(u.A=!0,Nt(u,"complete"),Nt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Nt(this,"complete"),Nt(this,"abort"),Hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),Wt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Nr(this):this.Xa())},r.Xa=function(){Nr(this)};function Nr(u){if(u.h&&typeof c<"u"){if(u.v&&Zn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Nt(u,"readystatechange"),Zn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let tt=String(u.D).match(mu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!bi.test(tt?tt.toLowerCase():"")}v=T}if(v)Nt(u,"complete"),Nt(u,"success");else{u.o=6;try{var L=Zn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Vo(u)}}finally{Hi(u)}}}}function Hi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Nt(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Zn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ph(m)}};function Qe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(u){const m={};u=(u.g&&Zn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=hu(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}ut(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Is(u){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,u),this.Za=Si("retryDelaySeedMs",1e4,u),this.Ta=Si("forwardChannelMaxRetries",2,u),this.va=Si("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(u&&u.concurrentRequestLimit),this.Ba=new ws,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Is.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){be(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=wu(this,null,this.W),wi(this)};function ko(u){if(ma(u),u.I==3){var m=u.V++,v=Re(u.J);if(Yt(v,"SID",u.M),Yt(v,"RID",m),Yt(v,"TYPE","terminate"),Dr(u,v),m=new Kn(u,u.j,m),m.M=2,m.A=Sr(Re(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ru(m.j,null),m.g.ea(m.A)),m.F=Date.now(),pi(m)}Su(u)}function Cs(u){u.g&&(Lo(u),u.g.cancel(),u.g=null)}function ma(u){Cs(u),u.v&&(d.clearTimeout(u.v),u.v=null),pa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function wi(u){if(!So(u.h)&&!u.m){u.m=!0;var m=u.Ea;ie||S(),Ct||(ie(),Ct=!0),C.add(m,u),u.D=0}}function ga(u,m){return vi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=di(_(u.Ea,u,m),bu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Kn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=N(q),et(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=vu(this,L,m),v=Re(this.J),Yt(v,"RID",u),Yt(v,"CVER",22),this.G&&Yt(v,"X-HTTP-Session-Id",this.G),Dr(this,v),q&&(this.R?m="headers="+qi(Mn(q))+"&"+m:this.u&&Ir(v,this.u,q)),wo(this.h,L),this.Ra&&Yt(v,"TYPE","init"),this.S?(Yt(v,"$req",m),Yt(v,"SID","null"),L.U=!0,gi(L,v,null)):gi(L,v,m),this.I=2}}else this.I==3&&(u?Uo(this,u):this.i.length==0||So(this.h)||Uo(this))};function Uo(u,m){var v;m?v=m.l:v=u.V++;const T=Re(u.J);Yt(T,"SID",u.M),Yt(T,"RID",v),Yt(T,"AID",u.K),Dr(u,T),u.u&&u.o&&Ir(T,u.u,u.o),v=new Kn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=vu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),wo(u.h,v),gi(v,T,m)}function Dr(u,m){u.H&&Mt(u.H,function(v,T){Yt(m,T,v)}),u.l&&Mt({},function(v,T){Yt(m,T,v)})}function vu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let wt=-1;for(;;){const ve=["count="+v];wt==-1?v>0?(wt=L[0].g,ve.push("ofs="+wt)):wt=0:ve.push("ofs="+wt);let Gt=!0;for(let ue=0;ue<v;ue++){var q=L[ue].g;const Vn=L[ue].map;if(q-=wt,q<0)wt=Math.max(0,L[ue].g-100),Gt=!1;else try{q="req"+q+"_"||"";try{var tt=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ii,Jn]of tt){let Wn=Jn;p(Jn)&&(Wn=Es(Jn)),ve.push(q+Ii+"="+encodeURIComponent(Wn))}}catch(Ii){throw ve.push(q+"type="+encodeURIComponent("_badmap")),Ii}}catch{T&&T(Vn)}}if(Gt){tt=ve.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function Eu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ie||S(),Ct||(ie(),Ct=!0),C.add(m,u),u.A=0}}function xr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=di(_(u.Da,u),bu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=di(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Cs(this),Tu(this))};function Lo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Tu(u){u.g=new Kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Re(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),Dr(u,m),u.u&&u.o&&Ir(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Sr(Re(m)),v.u=null,v.R=!0,oa(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Cs(this),xr(this),be(19))};function pa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Au(u,m){var v=null;if(u.g==m){pa(u),Lo(u),u.g=null;var T=2}else if(Ei(u.h,m))v=m.G,Ro(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=aa(),Nt(T,new fi(T,v)),wi(u)}else Eu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ga(u,m)||T==2&&xr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ri(u,5);break;case 4:Ri(u,10);break;case 3:Ri(u,6);break;default:Ri(u,2)}}}function bu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ri(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new vn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(T,"https"),Sr(T),L?Xn(T.toString(),v):Oo(T.toString(),v)}else be(2);u.I=0,u.l&&u.l.pa(m),Su(u),ma(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function Su(u){if(u.I=0,u.ja=[],u.l){const m=Io(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function wu(u,m,v){var T=v instanceof vn?Re(v):new vn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Ts(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new vn(null);T&&ze(q,T),m&&(q.g=m),L&&Ts(q,L),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&Yt(T,v,m),Yt(T,"VER",u.ka),Dr(u,T),T}function Ru(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Wt(new Ai({ab:v})):new Wt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}r=Iu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ns(){}Ns.prototype.g=function(u,m){return new an(u,m)};function an(u,m){ct.call(this),this.g=new Is(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Fi(this)}b(an,ct),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){ko(this.g)},an.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Es(u),u=v);m.i.push(new we(m.Ya++,u)),m.I==3&&wi(m)},an.prototype.N=function(){this.g.l=null,delete this.j,ko(this.g),delete this.g,an.Z.N.call(this)};function Cu(u){Fe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Cu,Fe);function Nu(){Dn.call(this),this.status=1}b(Nu,Dn);function Fi(u){this.g=u}b(Fi,Iu),Fi.prototype.ra=function(){Nt(this.g,"a")},Fi.prototype.qa=function(u){Nt(this.g,new Cu(u))},Fi.prototype.pa=function(u){Nt(this.g,new Nu)},Fi.prototype.oa=function(){Nt(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,OE=function(){return new Ns},xE=function(){return aa()},DE=_e,fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,Fc=Ar,To.COMPLETE="complete",NE=To,ou.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",ct.prototype.listen=ct.prototype.J,bl=ou,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,CE=Wt}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const Mv="@firebase/firestore",Vv="4.9.3";class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let mo="12.7.0";const ea=new Lm("@firebase/firestore");function Ka(){return ea.logLevel}function at(r,...t){if(ea.logLevel<=Lt.DEBUG){const i=t.map(Ym);ea.debug(`Firestore (${mo}): ${r}`,...i)}}function gs(r,...t){if(ea.logLevel<=Lt.ERROR){const i=t.map(Ym);ea.error(`Firestore (${mo}): ${r}`,...i)}}function na(r,...t){if(ea.logLevel<=Lt.WARN){const i=t.map(Ym);ea.warn(`Firestore (${mo}): ${r}`,...i)}}function Ym(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function vt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,ME(r,a,i)}function ME(r,t,i){let a=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw gs(a),new Error(a)}function Kt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||ME(t,l,a)}function bt(r,t){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends ys{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $r{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class VE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class kE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(en.UNAUTHENTICATED)))}shutdown(){}}class G2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class F2{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Kt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new $r,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new $r)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Kt(typeof a.accessToken=="string",31837,{l:a}),new VE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class Q2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class K2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Q2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Kt(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new kv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new kv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function X2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class vh{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=X2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Pt(r,t){return r<t?-1:r>t?1:0}function dm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Xd(l)===Xd(c)?Pt(l,c):Xd(l)?1:-1}return Pt(r.length,t.length)}const $2=55296,Z2=57343;function Xd(r){const t=r.charCodeAt(0);return t>=$2&&t<=Z2}function so(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const Uv="__name__";class Vi{constructor(t,i,a){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&vt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Vi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Vi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Pt(t.length,i.length)}static compareSegments(t,i){const a=Vi.isNumericId(t),l=Vi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Vi.extractNumericId(t).compare(Vi.extractNumericId(i)):dm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return lr.fromString(t.substring(4,t.length-2))}}class re extends Vi{construct(t,i,a){return new re(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new st($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new re(i)}static emptyPath(){return new re([])}}const J2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends Vi{construct(t,i,a){return new qe(t,i,a)}static isValidIdentifier(t){return J2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uv}static keyField(){return new qe([Uv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new st($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new st($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new st($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new st($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(i)}static emptyPath(){return new qe([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(re.fromString(t))}static fromName(t){return new ht(re.fromString(t).popFirst(5))}static empty(){return new ht(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return re.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new re(t.slice()))}}function UE(r,t,i){if(!i)throw new st($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function LE(r,t,i,a){if(t===!0&&a===!0)throw new st($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Lv(r){if(!ht.isDocumentKey(r))throw new st($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Pv(r){if(ht.isDocumentKey(r))throw new st($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function PE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Eh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function si(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new st($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Eh(r);throw new st($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Me(r,t){const i={typeString:r};return t&&(i.value=t),i}function $l(r,t){if(!PE(r))throw new st($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new st($.INVALID_ARGUMENT,i);return!0}const zv=-62135596800,jv=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*jv);return new ae(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new st($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<zv)throw new st($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jv}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if($l(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-zv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Me("string",ae._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new ae(0,0))}static max(){return new Tt(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ul=-1;function W2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(a===1e9?new ae(i+1,0):new ae(i,a));return new cr(l,ht.empty(),t)}function tR(r){return new cr(r.readTime,r.key,Ul)}class cr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new cr(Tt.min(),ht.empty(),Ul)}static max(){return new cr(Tt.max(),ht.empty(),Ul)}}function eR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(r.documentKey,t.documentKey),i!==0?i:Pt(r.largestBatchId,t.largestBatchId))}const nR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function go(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==nR)throw r;at("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new Z(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function sR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function po(r){return r.name==="IndexedDbTransactionError"}class Th{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Th.ce=-1;const Xm=-1;function Ah(r){return r==null}function ah(r){return r===0&&1/r==-1/0}function rR(r){return typeof r=="number"&&Number.isInteger(r)&&!ah(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const zE="";function aR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Bv(t)),t=oR(r.get(i),t);return Bv(t)}function oR(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case zE:i+="";break;default:i+=c}}return i}function Bv(r){return r+zE+""}function qv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function yr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function jE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class fe{constructor(t,i){this.comparator=t,this.root=i||Ze.EMPTY}insert(t,i){return new fe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kc(this.root,t,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kc(this.root,t,this.comparator,!0)}}class kc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ze.RED,this.left=l??Ze.EMPTY,this.right=c??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ze(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ze.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Le{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Hv(this.data.getIterator())}getIteratorFrom(t){return new Hv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Le)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Le(this.comparator);return i.data=t,i}}class Hv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new Cn([])}unionWith(t){let i=new Le(qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Cn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return so(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class BE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class He{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new BE("Invalid base64 string: "+c):c}})(t);return new He(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new He(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const lR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(r){if(Kt(!!r,39018),typeof r=="string"){let t=0;const i=lR.exec(r);if(Kt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ae(r.seconds),nanos:Ae(r.nanos)}}function Ae(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function fr(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}const qE="server_timestamp",HE="__type__",GE="__previous_value__",FE="__local_write_time__";function $m(r){return(r?.mapValue?.fields||{})[HE]?.stringValue===qE}function bh(r){const t=r.mapValue.fields[GE];return $m(t)?bh(t):t}function Ll(r){const t=hr(r.mapValue.fields[FE].timestampValue);return new ae(t.seconds,t.nanos)}class uR{constructor(t,i,a,l,c,d,p,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const oh="(default)";class ro{constructor(t,i){this.projectId=t,this.database=i||oh}static empty(){return new ro("","")}get isDefaultDatabase(){return this.database===oh}isEqual(t){return t instanceof ro&&t.projectId===this.projectId&&t.database===this.database}}const QE="__type__",cR="__max__",Uc={mapValue:{}},KE="__vector__",lh="value";function dr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?$m(r)?4:fR(r)?9007199254740991:hR(r)?10:11:vt(28295,{value:r})}function zi(r,t){if(r===t)return!0;const i=dr(r);if(i!==dr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ll(r).isEqual(Ll(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=hr(l.timestampValue),p=hr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return fr(l.bytesValue).isEqual(fr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ae(l.geoPointValue.latitude)===Ae(c.geoPointValue.latitude)&&Ae(l.geoPointValue.longitude)===Ae(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ae(l.integerValue)===Ae(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ae(l.doubleValue),p=Ae(c.doubleValue);return d===p?ah(d)===ah(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return so(r.arrayValue.values||[],t.arrayValue.values||[],zi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(qv(d)!==qv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!zi(d[y],p[y])))return!1;return!0})(r,t);default:return vt(52216,{left:r})}}function Pl(r,t){return(r.values||[]).find((i=>zi(i,t)))!==void 0}function ao(r,t){if(r===t)return 0;const i=dr(r),a=dr(t);if(i!==a)return Pt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ae(c.integerValue||c.doubleValue),y=Ae(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return Gv(r.timestampValue,t.timestampValue);case 4:return Gv(Ll(r),Ll(t));case 5:return dm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=fr(c),y=fr(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const A=Pt(p[_],y[_]);if(A!==0)return A}return Pt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Pt(Ae(c.latitude),Ae(d.latitude));return p!==0?p:Pt(Ae(c.longitude),Ae(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Fv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[lh]?.arrayValue,A=y[lh]?.arrayValue,b=Pt(_?.values?.length||0,A?.values?.length||0);return b!==0?b:Fv(_,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Uc.mapValue&&d===Uc.mapValue)return 0;if(c===Uc.mapValue)return 1;if(d===Uc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let b=0;b<y.length&&b<A.length;++b){const O=dm(y[b],A[b]);if(O!==0)return O;const G=ao(p[y[b]],_[A[b]]);if(G!==0)return G}return Pt(y.length,A.length)})(r.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function Gv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Pt(r,t);const i=hr(r),a=hr(t),l=Pt(i.seconds,a.seconds);return l!==0?l:Pt(i.nanos,a.nanos)}function Fv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=ao(i[l],a[l]);if(c)return c}return Pt(i.length,a.length)}function oo(r){return mm(r)}function mm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=hr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return fr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ht.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=mm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${mm(i.fields[d])}`;return l+"}"})(r.mapValue):vt(61005,{value:r})}function Qc(r){switch(dr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bh(r);return t?16+Qc(t):16;case 5:return 2*r.stringValue.length;case 6:return fr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Qc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return yr(a.fields,((c,d)=>{l+=c.length+Qc(d)})),l})(r.mapValue);default:throw vt(13486,{value:r})}}function Qv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function gm(r){return!!r&&"integerValue"in r}function Zm(r){return!!r&&"arrayValue"in r}function Kv(r){return!!r&&"nullValue"in r}function Yv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Kc(r){return!!r&&"mapValue"in r}function hR(r){return(r?.mapValue?.fields||{})[QE]?.stringValue===KE}function Nl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return yr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Nl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Nl(r.arrayValue.values[i]);return t}return{...r}}function fR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===cR}class pn{constructor(t){this.value=t}static empty(){return new pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Kc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nl(i)}setAll(t){let i=qe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Nl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return zi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Kc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){yr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new pn(Nl(this.value))}}function YE(r){const t=[];return yr(r.fields,((i,a)=>{const l=new qe([i]);if(Kc(a)){const c=YE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Cn(t)}class nn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new nn(t,0,Tt.min(),Tt.min(),Tt.min(),pn.empty(),0)}static newFoundDocument(t,i,a,l){return new nn(t,1,i,Tt.min(),a,l,0)}static newNoDocument(t,i){return new nn(t,2,i,Tt.min(),Tt.min(),pn.empty(),0)}static newUnknownDocument(t,i){return new nn(t,3,i,Tt.min(),Tt.min(),pn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uh{constructor(t,i){this.position=t,this.inclusive=i}}function Xv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=ao(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function $v(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!zi(r.position[i],t.position[i]))return!1;return!0}class zl{constructor(t,i="asc"){this.field=t,this.dir=i}}function dR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class XE{}class Oe extends XE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new gR(t,i,a):i==="array-contains"?new _R(t,a):i==="in"?new vR(t,a):i==="not-in"?new ER(t,a):i==="array-contains-any"?new TR(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new pR(t,a):new yR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ao(i,this.value)):i!==null&&dr(this.value)===dr(i)&&this.matchesComparison(ao(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends XE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new oi(t,i)}matches(t){return $E(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $E(r){return r.op==="and"}function ZE(r){return mR(r)&&$E(r)}function mR(r){for(const t of r.filters)if(t instanceof oi)return!1;return!0}function pm(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+oo(r.value);if(ZE(r))return r.filters.map((t=>pm(t))).join(",");{const t=r.filters.map((i=>pm(i))).join(",");return`${r.op}(${t})`}}function JE(r,t){return r instanceof Oe?(function(a,l){return l instanceof Oe&&a.op===l.op&&a.field.isEqual(l.field)&&zi(a.value,l.value)})(r,t):r instanceof oi?(function(a,l){return l instanceof oi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&JE(d,l.filters[p])),!0):!1})(r,t):void vt(19439)}function WE(r){return r instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${oo(i.value)}`})(r):r instanceof oi?(function(i){return i.op.toString()+" {"+i.getFilters().map(WE).join(" ,")+"}"})(r):"Filter"}class gR extends Oe{constructor(t,i,a){super(t,i,a),this.key=ht.fromName(a.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class pR extends Oe{constructor(t,i){super(t,"in",i),this.keys=tT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class yR extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=tT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function tT(r,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class _R extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Zm(i)&&Pl(i.arrayValue,this.value)}}class vR extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Pl(this.value.arrayValue,i)}}class ER extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Pl(this.value.arrayValue,i)}}class TR extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Zm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Pl(this.value.arrayValue,a)))}}class AR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Zv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new AR(r,t,i,a,l,c,d)}function Jm(r){const t=bt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>pm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Ah(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>oo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>oo(a))).join(",")),t.Te=i}return t.Te}function Wm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!dR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!JE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!$v(r.startAt,t.startAt)&&$v(r.endAt,t.endAt)}function ym(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class yo{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bR(r,t,i,a,l,c,d,p){return new yo(r,t,i,a,l,c,d,p)}function tg(r){return new yo(r)}function Jv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function eT(r){return r.collectionGroup!==null}function Dl(r){const t=bt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Le(qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new zl(c,a))})),i.has(qe.keyField().canonicalString())||t.Ie.push(new zl(qe.keyField(),a))}return t.Ie}function Li(r){const t=bt(r);return t.Ee||(t.Ee=SR(t,Dl(r))),t.Ee}function SR(r,t){if(r.limitType==="F")return Zv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new zl(l.field,c)}));const i=r.endAt?new uh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new uh(r.startAt.position,r.startAt.inclusive):null;return Zv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function _m(r,t){const i=r.filters.concat([t]);return new yo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function vm(r,t,i){return new yo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Sh(r,t){return Wm(Li(r),Li(t))&&r.limitType===t.limitType}function nT(r){return`${Jm(Li(r))}|lt:${r.limitType}`}function Ya(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>WE(l))).join(", ")}]`),Ah(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>oo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>oo(l))).join(",")),`Target(${a})`})(Li(r))}; limitType=${r.limitType})`}function wh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ht.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Dl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=Xv(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Dl(a),l)||a.endAt&&!(function(d,p,y){const _=Xv(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Dl(a),l))})(r,t)}function wR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function iT(r){return(t,i)=>{let a=!1;for(const l of Dl(r)){const c=RR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function RR(r,t,i){const a=r.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?ao(y,_):vt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:r.dir})}}class sa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){yr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return jE(this.inner)}size(){return this.innerSize}}const IR=new fe(ht.comparator);function ps(){return IR}const sT=new fe(ht.comparator);function Sl(...r){let t=sT;for(const i of r)t=t.insert(i.key,i);return t}function rT(r){let t=sT;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Xr(){return xl()}function aT(){return xl()}function xl(){return new sa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const CR=new fe(ht.comparator),NR=new Le(ht.comparator);function zt(...r){let t=NR;for(const i of r)t=t.add(i);return t}const DR=new Le(Pt);function xR(){return DR}function eg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(t)?"-0":t}}function oT(r){return{integerValue:""+r}}function OR(r,t){return rR(t)?oT(t):eg(r,t)}class Rh{constructor(){this._=void 0}}function MR(r,t,i){return r instanceof jl?(function(l,c){const d={fields:{[HE]:{stringValue:qE},[FE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&$m(c)&&(c=bh(c)),c&&(d.fields[GE]=c),{mapValue:d}})(i,t):r instanceof Bl?uT(r,t):r instanceof ql?cT(r,t):(function(l,c){const d=lT(l,c),p=Wv(d)+Wv(l.Ae);return gm(d)&&gm(l.Ae)?oT(p):eg(l.serializer,p)})(r,t)}function VR(r,t,i){return r instanceof Bl?uT(r,t):r instanceof ql?cT(r,t):i}function lT(r,t){return r instanceof ch?(function(a){return gm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class jl extends Rh{}class Bl extends Rh{constructor(t){super(),this.elements=t}}function uT(r,t){const i=hT(t);for(const a of r.elements)i.some((l=>zi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class ql extends Rh{constructor(t){super(),this.elements=t}}function cT(r,t){let i=hT(t);for(const a of r.elements)i=i.filter((l=>!zi(l,a)));return{arrayValue:{values:i}}}class ch extends Rh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Wv(r){return Ae(r.integerValue||r.doubleValue)}function hT(r){return Zm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class kR{constructor(t,i){this.field=t,this.transform=i}}function UR(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Bl&&l instanceof Bl||a instanceof ql&&l instanceof ql?so(a.elements,l.elements,zi):a instanceof ch&&l instanceof ch?zi(a.Ae,l.Ae):a instanceof jl&&l instanceof jl})(r.transform,t.transform)}class LR{constructor(t,i){this.version=t,this.transformResults=i}}class Gn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Gn}static exists(t){return new Gn(void 0,t)}static updateTime(t){return new Gn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Yc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Ih{}function fT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new ng(r.key,Gn.none()):new Zl(r.key,r.data,Gn.none());{const i=r.data,a=pn.empty();let l=new Le(qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new _r(r.key,a,new Cn(l.toArray()),Gn.none())}}function PR(r,t,i){r instanceof Zl?(function(l,c,d){const p=l.value.clone(),y=e0(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof _r?(function(l,c,d){if(!Yc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=e0(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(dT(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ol(r,t,i,a){return r instanceof Zl?(function(c,d,p,y){if(!Yc(c.precondition,d))return p;const _=c.value.clone(),A=n0(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof _r?(function(c,d,p,y){if(!Yc(c.precondition,d))return p;const _=n0(c.fieldTransforms,y,d),A=d.data;return A.setAll(dT(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,t,i,a):(function(c,d,p){return Yc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function zR(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=lT(a.transform,l||null);c!=null&&(i===null&&(i=pn.empty()),i.set(a.field,c))}return i||null}function t0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&so(a,l,((c,d)=>UR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Zl extends Ih{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class _r extends Ih{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function dT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function e0(r,t,i){const a=new Map;Kt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,VR(d,p,i[l]))}return a}function n0(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,MR(c,d,t))}return a}class ng extends Ih{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jR extends Ih{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class BR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&PR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ol(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ol(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=aT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=fT(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&so(this.mutations,t.mutations,((i,a)=>t0(i,a)))&&so(this.baseMutations,t.baseMutations,((i,a)=>t0(i,a)))}}class ig{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Kt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return CR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new ig(t,i,a,l)}}class qR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class HR{constructor(t,i){this.count=t,this.unchangedNames=i}}var xe,Bt;function GR(r){switch(r){case $.OK:return vt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function mT(r){if(r===void 0)return gs("GRPC error has no .code"),$.UNKNOWN;switch(r){case xe.OK:return $.OK;case xe.CANCELLED:return $.CANCELLED;case xe.UNKNOWN:return $.UNKNOWN;case xe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case xe.INTERNAL:return $.INTERNAL;case xe.UNAVAILABLE:return $.UNAVAILABLE;case xe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case xe.NOT_FOUND:return $.NOT_FOUND;case xe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case xe.ABORTED:return $.ABORTED;case xe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case xe.DATA_LOSS:return $.DATA_LOSS;default:return vt(39323,{code:r})}}(Bt=xe||(xe={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function FR(){return new TextEncoder}const QR=new lr([4294967295,4294967295],0);function i0(r){const t=FR().encode(r),i=new IE;return i.update(t),new Uint8Array(i.digest())}function s0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new lr([i,a],0),new lr([l,c],0)]}class sg{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new wl(`Invalid padding: ${i}`);if(a<0)throw new wl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=lr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(lr.fromNumber(a)));return l.compare(QR)===1&&(l=new lr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=i0(t),[a,l]=s0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new sg(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=i0(t),[a,l]=s0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ch{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Jl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Ch(Tt.min(),l,new fe(Pt),ps(),zt())}}class Jl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Jl(a,i,zt(),zt(),zt())}}class Xc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class gT{constructor(t,i){this.targetId=t,this.Ce=i}}class pT{constructor(t,i,a=He.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class r0{constructor(){this.ve=0,this.Fe=a0(),this.Me=He.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),a=zt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:vt(38017,{changeType:c})}})),new Jl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=a0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class KR{constructor(t){this.Ge=t,this.ze=new Map,this.je=ps(),this.Je=Lc(),this.He=Lc(),this.Ye=new fe(Pt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(ym(c))if(a===0){const d=new ht(c.path);this.et(i,d,nn.newNoDocument(d,Tt.min()))}else Kt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=fr(a).toUint8Array()}catch(y){if(y instanceof BE)return na("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new sg(d,l,c)}catch(y){return na(y instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&ym(p.target)){const y=new ht(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,nn.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=zt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Ch(t,i,this.Ye,this.je,a);return this.je=ps(),this.Je=Lc(),this.He=Lc(),this.Ye=new fe(Pt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new r0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Le(Pt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Le(Pt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new r0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Lc(){return new fe(ht.comparator)}function a0(){return new fe(ht.comparator)}const YR={asc:"ASCENDING",desc:"DESCENDING"},XR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$R={and:"AND",or:"OR"};class ZR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Em(r,t){return r.useProto3Json||Ah(t)?t:{value:t}}function hh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function JR(r,t){return hh(r,t.toTimestamp())}function Pi(r){return Kt(!!r,49232),Tt.fromTimestamp((function(i){const a=hr(i);return new ae(a.seconds,a.nanos)})(r))}function rg(r,t){return Tm(r,t).canonicalString()}function Tm(r,t){const i=(function(l){return new re(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function _T(r){const t=re.fromString(r);return Kt(bT(t),10190,{key:t.toString()}),t}function Am(r,t){return rg(r.databaseId,t.path)}function $d(r,t){const i=_T(t);if(i.get(1)!==r.databaseId.projectId)throw new st($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new st($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ht(ET(i))}function vT(r,t){return rg(r.databaseId,t)}function WR(r){const t=_T(r);return t.length===4?re.emptyPath():ET(t)}function bm(r){return new re(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ET(r){return Kt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function o0(r,t,i){return{name:Am(r,t),fields:i.value.mapValue.fields}}function tI(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Kt(A===void 0||typeof A=="string",58123),He.fromBase64String(A||"")):(Kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),He.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?$.UNKNOWN:mT(_.code);return new st(A,_.message||"")})(d);i=new pT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=$d(r,a.document.name),c=Pi(a.document.updateTime),d=a.document.createTime?Pi(a.document.createTime):Tt.min(),p=new pn({mapValue:{fields:a.document.fields}}),y=nn.newFoundDocument(l,c,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Xc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=$d(r,a.document),c=a.readTime?Pi(a.readTime):Tt.min(),d=nn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Xc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=$d(r,a.document),c=a.removedTargetIds||[];i=new Xc([],c,l,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new HR(l,c),p=a.targetId;i=new gT(p,d)}}return i}function eI(r,t){let i;if(t instanceof Zl)i={update:o0(r,t.key,t.value)};else if(t instanceof ng)i={delete:Am(r,t.key)};else if(t instanceof _r)i={update:o0(r,t.key,t.data),updateMask:cI(t.fieldMask)};else{if(!(t instanceof jR))return vt(16599,{Vt:t.type});i={verify:Am(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof jl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Bl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ch)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:JR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(r,t.precondition)),i}function nI(r,t){return r&&r.length>0?(Kt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Pi(l.updateTime):Pi(c);return d.isEqual(Tt.min())&&(d=Pi(c)),new LR(d,l.transformResults||[])})(i,t)))):[]}function iI(r,t){return{documents:[vT(r,t.path)]}}function sI(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=vT(r,l);const c=(function(_){if(_.length!==0)return AT(oi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(O){return{field:Xa(O.field),direction:oI(O.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Em(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function rI(r){let t=WR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Kt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const O=TT(b);return O instanceof oi&&ZE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((O=>(function(J){return new zl($a(J.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let O;return O=typeof b=="object"?b.value:b,Ah(O)?null:O})(i.limit));let y=null;i.startAt&&(y=(function(b){const O=!!b.before,G=b.values||[];return new uh(G,O)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const O=!b.before,G=b.values||[];return new uh(G,O)})(i.endAt)),bR(t,l,d,c,p,"F",y,_)}function aI(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function TT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=$a(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=$a(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=$a(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=$a(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Oe.create($a(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return oi.create(i.compositeFilter.filters.map((a=>TT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(r):vt(30097,{filter:r})}function oI(r){return YR[r]}function lI(r){return XR[r]}function uI(r){return $R[r]}function Xa(r){return{fieldPath:r.canonicalString()}}function $a(r){return qe.fromServerFormat(r.fieldPath)}function AT(r){return r instanceof Oe?(function(i){if(i.op==="=="){if(Yv(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NAN"}};if(Kv(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Yv(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NOT_NAN"}};if(Kv(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(i.field),op:lI(i.op),value:i.value}}})(r):r instanceof oi?(function(i){const a=i.getFilters().map((l=>AT(l)));return a.length===1?a[0]:{compositeFilter:{op:uI(i.op),filters:a}}})(r):vt(54877,{filter:r})}function cI(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function bT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class sr{constructor(t,i,a,l,c=Tt.min(),d=Tt.min(),p=He.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new sr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class hI{constructor(t){this.yt=t}}function fI(r){const t=rI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?vm(t,t.limit,"L"):t}class dI{constructor(){this.Cn=new mI}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(cr.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(cr.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class mI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Le(re.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Le(re.comparator)).toArray()}}const l0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ST=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(ST,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class lo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new lo(0)}static cr(){return new lo(-1)}}const u0="LruGarbageCollector",gI=1048576;function c0([r,t],[i,a]){const l=Pt(r,i);return l===0?Pt(t,a):l}class pI{constructor(t){this.Ir=t,this.buffer=new Le(c0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();c0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class yI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(u0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){po(i)?at(u0,"Ignoring IndexedDB error during garbage collection: ",i):await go(i)}await this.Vr(3e5)}))}}class _I{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(Th.ce);const a=new pI(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(l0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(_=Date.now(),Ka()<=Lt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${b} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function vI(r,t){return new _I(r,t)}class EI{constructor(){this.changes=new sa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class TI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class AI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Ol(a.mutation,l,Cn.empty(),ae.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const l=Xr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Sl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Xr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=ps();const d=xl(),p=(function(){return xl()})();return i.forEach(((y,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof _r)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Ol(A.mutation,_,A.mutation.getFieldMask(),ae.now())):d.set(_.key,Cn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new TI(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=xl();let l=new fe(((d,p)=>d-p)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=a.get(y)||Cn.empty();A=p.applyToLocalView(_,A),a.set(y,A);const b=(l.get(p.batchId)||zt()).add(y);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,A=y.value,b=aT();A.forEach((O=>{if(!c.has(O)){const G=fT(i.get(O),a.get(O));G!==null&&b.set(O,G),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,b))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):eT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Z.resolve(Xr());let p=Ul,y=c;return d.next((_=>Z.forEach(_,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(t,A).next((O=>{y=y.insert(A,O)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,zt()))).next((A=>({batchId:p,changes:rT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((a=>{let l=Sl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Sl();return this.indexManager.getCollectionParents(t,c).next((p=>Z.forEach(p,(y=>{const _=(function(b,O){return new yo(O,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((A=>{A.forEach(((b,O)=>{d=d.insert(b,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,nn.newInvalidDocument(A)))}));let p=Sl();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&Ol(A.mutation,_,Cn.empty(),ae.now()),wh(i,_)&&(p=p.insert(y,_))})),p}))}}class bI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Pi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:fI(l.bundledQuery),readTime:Pi(l.readTime)}})(i)),Z.resolve()}}class SI{constructor(){this.overlays=new fe(ht.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Xr();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const l=Xr(),c=i.length+1,d=new ht(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new fe(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=Xr(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Xr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return Z.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new qR(i,a));let c=this.qr.get(i);c===void 0&&(c=zt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class wI{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class ag{constructor(){this.Qr=new Le(Be.$r),this.Ur=new Le(Be.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Be(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Be(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ht(new re([])),a=new Be(i,t),l=new Be(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ht(new re([])),a=new Be(i,t),l=new Be(i,t+1);let c=zt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Be(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Be{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ht.comparator(t.key,i.key)||Pt(t.Yr,i.Yr)}static Kr(t,i){return Pt(t.Yr,i.Yr)||ht.comparator(t.key,i.key)}}class RI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Le(Be.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new BR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Be(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Xm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Be(i,0),l=new Be(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Le(Pt);return i.forEach((l=>{const c=new Be(l,0),d=new Be(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ht.isDocumentKey(c)||(c=c.child(""));const d=new Be(new ht(c),0);let p=new Le(Pt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Kt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Be(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Be(i,0),l=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class II{constructor(t){this.ri=t,this.docs=(function(){return new fe(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():nn.newInvalidDocument(i))}getEntries(t,i){let a=ps();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():nn.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ps();const d=i.path,p=new ht(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||eR(tR(A),a)<=0||(l.has(A.key)||wh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,l){vt(9500)}ii(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new CI(this)}getSize(t){return Z.resolve(this.size)}}class CI extends EI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class NI{constructor(t){this.persistence=t,this.si=new sa((i=>Jm(i)),Wm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new ag,this.targetCount=0,this.ai=lo.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new lo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class wT{constructor(t,i){this.ui={},this.overlays={},this.ci=new Th(0),this.li=!1,this.li=!0,this.hi=new wI,this.referenceDelegate=t(this),this.Pi=new NI(this),this.indexManager=new dI,this.remoteDocumentCache=(function(l){return new II(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new hI(i),this.Ii=new bI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new SI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new RI(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const l=new DI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class DI extends iR{constructor(t){super(),this.currentSequenceNumber=t}}class og{constructor(t){this.persistence=t,this.Ri=new ag,this.Vi=null}static mi(t){return new og(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const l=ht.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class fh{constructor(t,i){this.persistence=t,this.pi=new sa((a=>aR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=vI(this,i)}static mi(t,i){return new fh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Qc(t.data.value)),i}br(t,i,a){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class lg{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=zt(),l=zt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new lg(t,i.fromCache,a,l)}}class xI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class OI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Ab()?8:sR(sn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new xI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Ka()<=Lt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ya(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Ka()<=Lt.DEBUG&&at("QueryEngine","Query:",Ya(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ka()<=Lt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ya(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Li(i))):Z.resolve())}ys(t,i){if(Jv(i))return Z.resolve(null);let a=Li(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=vm(i,null,"F"),a=Li(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=zt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,vm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return Jv(i)||l.isEqual(Tt.min())?Z.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Z.resolve(null):(Ka()<=Lt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ya(i)),this.vs(t,d,i,W2(l,Ul)).next((p=>p)))}))}Ds(t,i){let a=new Le(iT(t));return i.forEach(((l,c)=>{wh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Ka()<=Lt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ya(i)),this.ps.getDocumentsMatchingQuery(t,i,cr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ug="LocalStore",MI=3e8;class VI{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new fe(Pt),this.xs=new sa((c=>Jm(c)),Wm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new AI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function kI(r,t,i,a){return new VI(r,t,i,a)}async function RT(r,t){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=zt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function UI(r,t){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,A){const b=_.batch,O=b.keys();let G=Z.resolve();return O.forEach((J=>{G=G.next((()=>A.getEntry(y,J))).next((nt=>{const W=_.docVersions.get(J);Kt(W!==null,48541),nt.version.compareTo(W)<0&&(b.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),A.addEntry(nt)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(y,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=zt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function IT(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function LI(r,t){const i=bt(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,b)=>{const O=l.get(b);if(!O)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,b))));let G=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?G=G.withResumeToken(He.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),l=l.insert(b,G),(function(nt,W,gt){return nt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=MI?!0:gt.addedDocuments.size+gt.modifiedDocuments.size+gt.removedDocuments.size>0})(O,G,A)&&p.push(i.Pi.updateTargetData(c,G))}));let y=ps(),_=zt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(PI(c,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!a.isEqual(Tt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function PI(r,t,i){let a=zt(),l=zt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ps();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Tt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):at(ug,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function zI(r,t){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Xm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function jI(r,t){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new sr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function Sm(r,t,i){const a=bt(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!po(d))throw d;at(ug,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function h0(r,t,i){const a=bt(r);let l=Tt.min(),c=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const b=bt(y),O=b.xs.get(A);return O!==void 0?Z.resolve(b.Ms.get(O)):b.Pi.getTargetData(_,A)})(a,d,Li(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:zt()))).next((p=>(BI(a,wR(t),p),{documents:p,Qs:c})))))}function BI(r,t,i){let a=r.Os.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class f0{constructor(){this.activeTargetIds=xR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class qI{constructor(){this.Mo=new f0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new f0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class HI{Oo(t){}shutdown(){}}const d0="ConnectivityMonitor";class m0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(d0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(d0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pc=null;function wm(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}const Zd="RestConnection",GI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===oh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=wm(),p=this.zo(t,i.toUriEncodedString());at(Zd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),A=co(_);return this.Jo(t,p,y,a,A).then((b=>(at(Zd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw na(Zd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=GI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class QI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const tn="WebChannelConnection";class KI extends FI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=wm();return new Promise(((p,y)=>{const _=new CE;_.setWithCredentials(!0),_.listenOnce(NE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Fc.NO_ERROR:const b=_.getResponseJson();at(tn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Fc.TIMEOUT:at(tn,`RPC '${t}' ${d} timed out`),y(new st($.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const O=_.getStatus();if(at(tn,`RPC '${t}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const J=G?.error;if(J&&J.status&&J.message){const nt=(function(gt){const mt=gt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(mt)>=0?mt:$.UNKNOWN})(J.status);y(new st(nt,J.message))}else y(new st($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new st($.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(tn,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);at(tn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=wm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=OE(),p=xE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=c.join("");at(tn,`Creating RPC '${t}' stream ${l}: ${A}`,y);const b=d.createWebChannel(A,y);this.I_(b);let O=!1,G=!1;const J=new QI({Yo:W=>{G?at(tn,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(O||(at(tn,`Opening RPC '${t}' stream ${l} transport.`),b.open(),O=!0),at(tn,`RPC '${t}' stream ${l} sending:`,W),b.send(W))},Zo:()=>b.close()}),nt=(W,gt,mt)=>{W.listen(gt,(pt=>{try{mt(pt)}catch(Ot){setTimeout((()=>{throw Ot}),0)}}))};return nt(b,bl.EventType.OPEN,(()=>{G||(at(tn,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),nt(b,bl.EventType.CLOSE,(()=>{G||(G=!0,at(tn,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(b))})),nt(b,bl.EventType.ERROR,(W=>{G||(G=!0,na(tn,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),J.a_(new st($.UNAVAILABLE,"The operation could not be completed")))})),nt(b,bl.EventType.MESSAGE,(W=>{if(!G){const gt=W.data[0];Kt(!!gt,16349);const mt=gt,pt=mt?.error||mt[0]?.error;if(pt){at(tn,`RPC '${t}' stream ${l} received error:`,pt);const Ot=pt.status;let ie=(function(S){const w=xe[S];if(w!==void 0)return mT(w)})(Ot),Ct=pt.message;ie===void 0&&(ie=$.INTERNAL,Ct="Unknown error status: "+Ot+" with message "+pt.message),G=!0,J.a_(new st(ie,Ct)),b.close()}else at(tn,`RPC '${t}' stream ${l} received:`,gt),J.u_(gt)}})),nt(p,DE.STAT_EVENT,(W=>{W.stat===fm.PROXY?at(tn,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===fm.NOPROXY&&at(tn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Jd(){return typeof document<"u"?document:null}function Nh(r){return new ZR(r,!0)}class CT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const g0="PersistentStream";class NT{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new CT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(gs(i.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new st($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(g0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(g0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YI extends NT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=tI(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Pi(d.readTime):Tt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=bm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=ym(y)?{documents:iI(c,y)}:{query:sI(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=yT(c,d.resumeToken);const _=Em(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=hh(c,d.snapshotVersion.toTimestamp());const _=Em(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=aI(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=bm(this.serializer),i.removeTarget=t,this.q_(i)}}class XI extends NT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=nI(t.writeResults,t.commitTime),a=Pi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=bm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>eI(this.serializer,a)))};this.q_(i)}}class $I{}class ZI extends $I{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new st($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Tm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st($.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Tm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class JI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gs(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class WI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ra(this)&&(at(ia,"Restarting streams for network reachability change."),await(async function(y){const _=bt(y);_.Ea.add(4),await Wl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Dh(_)})(this))}))})),this.Ra=new JI(a,l)}}async function Dh(r){if(ra(r))for(const t of r.da)await t(!0)}async function Wl(r){for(const t of r.da)await t(!1)}function DT(r,t){const i=bt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),dg(i)?fg(i):_o(i).O_()&&hg(i,t))}function cg(r,t){const i=bt(r),a=_o(i);i.Ia.delete(t),a.O_()&&xT(i,t),i.Ia.size===0&&(a.O_()?a.L_():ra(i)&&i.Ra.set("Unknown"))}function hg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}_o(r).Y_(t)}function xT(r,t){r.Va.Ue(t),_o(r).Z_(t)}function fg(r){r.Va=new KR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),_o(r).start(),r.Ra.ua()}function dg(r){return ra(r)&&!_o(r).x_()&&r.Ia.size>0}function ra(r){return bt(r).Ea.size===0}function OT(r){r.Va=void 0}async function tC(r){r.Ra.set("Online")}async function eC(r){r.Ia.forEach(((t,i)=>{hg(r,t)}))}async function nC(r,t){OT(r),dg(r)?(r.Ra.ha(t),fg(r)):r.Ra.set("Unknown")}async function iC(r,t,i){if(r.Ra.set("Online"),t instanceof pT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){at(ia,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await dh(r,a)}else if(t instanceof Xc?r.Va.Ze(t):t instanceof gT?r.Va.st(t):r.Va.tt(t),!i.isEqual(Tt.min()))try{const a=await IT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(He.EMPTY_BYTE_STRING,A.snapshotVersion)),xT(c,y);const b=new sr(A.target,y,_,A.sequenceNumber);hg(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){at(ia,"Failed to raise snapshot:",a),await dh(r,a)}}async function dh(r,t,i){if(!po(t))throw t;r.Ea.add(1),await Wl(r),r.Ra.set("Offline"),i||(i=()=>IT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(ia,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Dh(r)}))}function MT(r,t){return t().catch((i=>dh(r,i,t)))}async function xh(r){const t=bt(r),i=mr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Xm;for(;sC(t);)try{const l=await zI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,rC(t,l)}catch(l){await dh(t,l)}VT(t)&&kT(t)}function sC(r){return ra(r)&&r.Ta.length<10}function rC(r,t){r.Ta.push(t);const i=mr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function VT(r){return ra(r)&&!mr(r).x_()&&r.Ta.length>0}function kT(r){mr(r).start()}async function aC(r){mr(r).ra()}async function oC(r){const t=mr(r);for(const i of r.Ta)t.ea(i.mutations)}async function lC(r,t,i){const a=r.Ta.shift(),l=ig.from(a,t,i);await MT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await xh(r)}async function uC(r,t){t&&mr(r).X_&&await(async function(a,l){if((function(d){return GR(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();mr(a).B_(),await MT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await xh(a)}})(r,t),VT(r)&&kT(r)}async function p0(r,t){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),at(ia,"RemoteStore received new credentials");const a=ra(i);i.Ea.add(3),await Wl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Dh(i)}async function cC(r,t){const i=bt(r);t?(i.Ea.delete(2),await Dh(i)):t||(i.Ea.add(2),await Wl(i),i.Ra.set("Unknown"))}function _o(r){return r.ma||(r.ma=(function(i,a,l){const c=bt(i);return c.sa(),new YI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:tC.bind(null,r),t_:eC.bind(null,r),r_:nC.bind(null,r),H_:iC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),dg(r)?fg(r):r.Ra.set("Unknown")):(await r.ma.stop(),OT(r))}))),r.ma}function mr(r){return r.fa||(r.fa=(function(i,a,l){const c=bt(i);return c.sa(),new XI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:aC.bind(null,r),r_:uC.bind(null,r),ta:oC.bind(null,r),na:lC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await xh(r)):(await r.fa.stop(),r.Ta.length>0&&(at(ia,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class mg{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new mg(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gg(r,t){if(gs("AsyncQueue",`${t}: ${r}`),po(r))return new st($.UNAVAILABLE,`${t}: ${r}`);throw r}class no{static emptySet(t){return new no(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=Sl(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof no)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new no;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class y0{constructor(){this.ga=new fe(ht.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class uo{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new uo(t,i,no.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class hC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class fC{constructor(){this.queries=_0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=bt(i),c=l.queries;l.queries=_0(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new st($.ABORTED,"Firestore shutting down"))}}function _0(){return new sa((r=>nT(r)),Sh)}async function dC(r,t){const i=bt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new hC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=gg(d,`Initialization of query '${Ya(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&pg(i)}async function mC(r,t){const i=bt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function gC(r,t){const i=bt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&pg(i)}function pC(r,t,i){const a=bt(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function pg(r){r.Ca.forEach((t=>{t.next()}))}var Rm,v0;(v0=Rm||(Rm={})).Ma="default",v0.Cache="cache";class yC{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new uo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Rm.Cache}}class UT{constructor(t){this.key=t}}class LT{constructor(t){this.key=t}}class _C{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=iT(t),this.tu=new no(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new y0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const O=l.get(A),G=wh(this.query,b)?b:null,J=!!O&&this.mutatedKeys.has(O.key),nt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;O&&G?O.data.isEqual(G.data)?J!==nt&&(a.track({type:3,doc:G}),W=!0):this.su(O,G)||(a.track({type:2,doc:G}),W=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(p=!0)):!O&&G?(a.track({type:0,doc:G}),W=!0):O&&!G&&(a.track({type:1,doc:O}),W=!0,(y||_)&&(p=!0)),W&&(G?(d=d.add(G),c=nt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(G,J){const nt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:W})}};return nt(G)-nt(J)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new uo(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new y0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new LT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new UT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yg="SyncEngine";class vC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class EC{constructor(t){this.key=t,this.hu=!1}}class TC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new sa((p=>nT(p)),Sh),this.Iu=new Map,this.Eu=new Set,this.du=new fe(ht.comparator),this.Au=new Map,this.Ru=new ag,this.Vu={},this.mu=new Map,this.fu=lo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AC(r,t,i=!0){const a=HT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await PT(a,t,i,!0),l}async function bC(r,t){const i=HT(r);await PT(i,t,!0,!1)}async function PT(r,t,i,a){const l=await jI(r.localStore,Li(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await SC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&DT(r.remoteStore,l),p}async function SC(r,t,i,a,l){r.pu=(b,O,G)=>(async function(nt,W,gt,mt){let pt=W.view.ru(gt);pt.Cs&&(pt=await h0(nt.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,pt))));const Ot=mt&&mt.targetChanges.get(W.targetId),ie=mt&&mt.targetMismatches.get(W.targetId)!=null,Ct=W.view.applyChanges(pt,nt.isPrimaryClient,Ot,ie);return T0(nt,W.targetId,Ct.au),Ct.snapshot})(r,b,O,G);const c=await h0(r.localStore,t,!0),d=new _C(t,c.Qs),p=d.ru(c.documents),y=Jl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);T0(r,i,_.au);const A=new vC(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function wC(r,t,i){const a=bt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Sh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Sm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&cg(a.remoteStore,l.targetId),Im(a,l.targetId)})).catch(go)):(Im(a,l.targetId),await Sm(a.localStore,l.targetId,!0))}async function RC(r,t){const i=bt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),cg(i.remoteStore,a.targetId))}async function IC(r,t,i){const a=VC(r);try{const l=await(function(d,p){const y=bt(d),_=ae.now(),A=p.reduce(((G,J)=>G.add(J.key)),zt());let b,O;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let J=ps(),nt=zt();return y.Ns.getEntries(G,A).next((W=>{J=W,J.forEach(((gt,mt)=>{mt.isValidDocument()||(nt=nt.add(gt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,J))).next((W=>{b=W;const gt=[];for(const mt of p){const pt=zR(mt,b.get(mt.key).overlayedDocument);pt!=null&&gt.push(new _r(mt.key,pt,YE(pt.value.mapValue),Gn.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,gt,p)})).next((W=>{O=W;const gt=W.applyToLocalDocumentSet(b,nt);return y.documentOverlayCache.saveOverlays(G,W.batchId,gt)}))})).then((()=>({batchId:O.batchId,changes:rT(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new fe(Pt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await tu(a,l.changes),await xh(a.remoteStore)}catch(l){const c=gg(l,"Failed to persist write");i.reject(c)}}async function zT(r,t){const i=bt(r);try{const a=await LI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Kt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Kt(d.hu,14607):l.removedDocuments.size>0&&(Kt(d.hu,42227),d.hu=!1))})),await tu(i,a,t)}catch(a){await go(a)}}function E0(r,t,i){const a=bt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=bt(d);y.onlineState=p;let _=!1;y.queries.forEach(((A,b)=>{for(const O of b.Sa)O.va(p)&&(_=!0)})),_&&pg(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function CC(r,t,i){const a=bt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new fe(ht.comparator);d=d.insert(c,nn.newNoDocument(c,Tt.min()));const p=zt().add(c),y=new Ch(Tt.min(),new Map,new fe(Pt),d,p);await zT(a,y),a.du=a.du.remove(c),a.Au.delete(t),_g(a)}else await Sm(a.localStore,t,!1).then((()=>Im(a,t,i))).catch(go)}async function NC(r,t){const i=bt(r),a=t.batch.batchId;try{const l=await UI(i.localStore,t);BT(i,a,null),jT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await tu(i,l)}catch(l){await go(l)}}async function DC(r,t,i){const a=bt(r);try{const l=await(function(d,p){const y=bt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,p).next((b=>(Kt(b!==null,37113),A=b.keys(),y.mutationQueue.removeMutationBatch(_,b)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(a.localStore,t);BT(a,t,i),jT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await tu(a,l)}catch(l){await go(l)}}function jT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function BT(r,t,i){const a=bt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Im(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||qT(r,a)}))}function qT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(cg(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),_g(r))}function T0(r,t,i){for(const a of i)a instanceof UT?(r.Ru.addReference(a.key,t),xC(r,a)):a instanceof LT?(at(yg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||qT(r,a.key)):vt(19791,{wu:a})}function xC(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(at(yg,"New document in limbo: "+i),r.Eu.add(a),_g(r))}function _g(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ht(re.fromString(t)),a=r.fu.next();r.Au.set(a,new EC(i)),r.du=r.du.insert(i,a),DT(r.remoteStore,new sr(Li(tg(i.path)),a,"TargetPurposeLimboResolution",Th.ce))}}async function tu(r,t,i){const a=bt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=lg.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const A=bt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(_,(O=>Z.forEach(O.Es,(G=>A.persistence.referenceDelegate.addReference(b,O.targetId,G))).next((()=>Z.forEach(O.ds,(G=>A.persistence.referenceDelegate.removeReference(b,O.targetId,G)))))))))}catch(b){if(!po(b))throw b;at(ug,"Failed to update sequence numbers: "+b)}for(const b of _){const O=b.targetId;if(!b.fromCache){const G=A.Ms.get(O),J=G.snapshotVersion,nt=G.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(O,nt)}}})(a.localStore,c))}async function OC(r,t){const i=bt(r);if(!i.currentUser.isEqual(t)){at(yg,"User change. New user:",t.toKey());const a=await RT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new st($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await tu(i,a.Ls)}}function MC(r,t){const i=bt(r),a=i.Au.get(t);if(a&&a.hu)return zt().add(a.key);{let l=zt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function HT(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=zT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=MC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CC.bind(null,t),t.Pu.H_=gC.bind(null,t.eventManager),t.Pu.yu=pC.bind(null,t.eventManager),t}function VC(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=NC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=DC.bind(null,t),t}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Nh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return kI(this.persistence,new OI,t.initialUser,this.serializer)}Cu(t){return new wT(og.mi,this.serializer)}Du(t){return new qI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class kC extends mh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Kt(this.persistence.referenceDelegate instanceof fh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new yI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new wT((a=>fh.mi(a,i)),this.serializer)}}class Cm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>E0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=OC.bind(null,this.syncEngine),await cC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new fC})()}createDatastore(t){const i=Nh(t.databaseInfo.databaseId),a=(function(c){return new KI(c)})(t.databaseInfo);return(function(c,d,p,y){return new ZI(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new WI(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>E0(this.syncEngine,i,0)),(function(){return m0.v()?new m0:new HI})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,A){const b=new TC(l,c,d,p,y,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=bt(i);at(ia,"RemoteStore shutting down."),a.Ea.add(5),await Wl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cm.provider={build:()=>new Cm};class UC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):gs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const gr="FirestoreClient";class LC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=en.UNAUTHENTICATED,this.clientId=vh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(gr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(gr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=gg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Wd(r,t){r.asyncQueue.verifyOperationInProgress(),at(gr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await RT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function A0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await PC(r);at(gr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>p0(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>p0(t.remoteStore,l))),r._onlineComponents=t}async function PC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(gr,"Using user provided OfflineComponentProvider");try{await Wd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;na("Error using user provided cache. Falling back to memory cache: "+i),await Wd(r,new mh)}}else at(gr,"Using default OfflineComponentProvider"),await Wd(r,new kC(void 0));return r._offlineComponents}async function GT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(gr,"Using user provided OnlineComponentProvider"),await A0(r,r._uninitializedComponentsProvider._online)):(at(gr,"Using default OnlineComponentProvider"),await A0(r,new Cm))),r._onlineComponents}function zC(r){return GT(r).then((t=>t.syncEngine))}async function b0(r){const t=await GT(r),i=t.eventManager;return i.onListen=AC.bind(null,t.syncEngine),i.onUnlisten=wC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=bC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=RC.bind(null,t.syncEngine),i}function FT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const S0=new Map;const QT="firestore.googleapis.com",w0=!0;class R0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new st($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QT,this.ssl=w0}else this.host=t.host,this.ssl=t.ssl??w0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ST;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<gI)throw new st($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}LE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new st($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new st($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new st($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Oh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new kE;switch(a.type){case"firstParty":return new K2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new st($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=S0.get(i);a&&(at("ComponentProvider","Removing Datastore"),S0.delete(i),a.terminate())})(this),Promise.resolve()}}function KT(r,t,i,a={}){r=si(r,Oh);const l=co(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(q0(`https://${p}`),H0("Firestore",!0)),c.host!==QT&&c.host!==p&&na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!Jr(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=en.MOCK_USER;else{_=db(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new st($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new en(b)}r._authCredentials=new G2(new VE(_,A))}}class vr{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new vr(this.firestore,t,this._query)}}class pe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pe(this.firestore,t,this._key)}toJSON(){return{type:pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if($l(i,pe._jsonSchema))return new pe(t,a||null,new ht(re.fromString(i.referencePath)))}}pe._jsonSchemaVersion="firestore/documentReference/1.0",pe._jsonSchema={type:Me("string",pe._jsonSchemaVersion),referencePath:Me("string")};class cs extends vr{constructor(t,i,a){super(t,i,tg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pe(this.firestore,null,new ht(t))}withConverter(t){return new cs(this.firestore,t,this._path)}}function Rl(r,t,...i){if(r=Je(r),UE("collection","path",t),r instanceof Oh){const a=re.fromString(t,...i);return Pv(a),new cs(r,null,a)}{if(!(r instanceof pe||r instanceof cs))throw new st($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(re.fromString(t,...i));return Pv(a),new cs(r.firestore,null,a)}}function Ws(r,t,...i){if(r=Je(r),arguments.length===1&&(t=vh.newId()),UE("doc","path",t),r instanceof Oh){const a=re.fromString(t,...i);return Lv(a),new pe(r,null,new ht(a))}{if(!(r instanceof pe||r instanceof cs))throw new st($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(re.fromString(t,...i));return Lv(a),new pe(r.firestore,r instanceof cs?r.converter:null,new ht(a))}}const I0="AsyncQueue";class C0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new CT(this,"async_queue_retry"),this._c=()=>{const a=Jd();a&&at(I0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new $r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!po(t))throw t;at(I0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,gs("INTERNAL UNHANDLED ERROR: ",N0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=mg.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:N0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function N0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function D0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class pr extends Oh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new C0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new C0(t),this._firestoreClient=void 0,await t}}}function YT(r,t){const i=typeof r=="object"?r:K0(),a=typeof r=="string"?r:oh,l=zm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=hb("firestore");c&&KT(l,...c)}return l}function vg(r){if(r._terminated)throw new st($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jC(r),r._firestoreClient}function jC(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new uR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,FT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new LC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class In{constructor(t){this._byteString=t}static fromBase64String(t){try{return new In(He.fromBase64String(t))}catch(i){throw new st($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new In(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:In._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if($l(t,In._jsonSchema))return In.fromBase64String(t.bytes)}}In._jsonSchemaVersion="firestore/bytes/1.0",In._jsonSchema={type:Me("string",In._jsonSchemaVersion),bytes:Me("string")};class eu{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new st($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class nu{constructor(t){this._methodName=t}}class ri{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new st($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new st($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ri._jsonSchemaVersion}}static fromJSON(t){if($l(t,ri._jsonSchema))return new ri(t.latitude,t.longitude)}}ri._jsonSchemaVersion="firestore/geoPoint/1.0",ri._jsonSchema={type:Me("string",ri._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};class ai{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if($l(t,ai._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ai(t.vectorValues);throw new st($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:Me("string",ai._jsonSchemaVersion),vectorValues:Me("object")};const BC=/^__.*__$/;class qC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new _r(t,this.data,this.fieldMask,i,this.fieldTransforms):new Zl(t,this.data,i,this.fieldTransforms)}}class XT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new _r(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function $T(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class Eg{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Eg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return gh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if($T(this.Ac)&&BC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class HC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Nh(t)}Cc(t,i,a,l=!1){return new Eg({Ac:t,methodName:i,Dc:a,path:qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mh(r){const t=r._freezeSettings(),i=Nh(r._databaseId);return new HC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function ZT(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);Ag("Data must be an object, but it was:",d,a);const p=JT(a,d);let y,_;if(c.merge)y=new Cn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const O=Nm(t,b,i);if(!d.contains(O))throw new st($.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);t1(A,O)||A.push(O)}y=new Cn(A),_=d.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,_=d.fieldTransforms;return new qC(new pn(p),y,_)}class Vh extends nu{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Vh}}class Tg extends nu{_toFieldTransform(t){return new kR(t.path,new jl)}isEqual(t){return t instanceof Tg}}function GC(r,t,i,a){const l=r.Cc(1,t,i);Ag("Data must be an object, but it was:",l,a);const c=[],d=pn.empty();yr(a,((y,_)=>{const A=bg(t,y,i);_=Je(_);const b=l.yc(A);if(_ instanceof Vh)c.push(A);else{const O=iu(_,b);O!=null&&(c.push(A),d.set(A,O))}}));const p=new Cn(c);return new XT(d,p,l.fieldTransforms)}function FC(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[Nm(t,a,i)],y=[l];if(c.length%2!=0)throw new st($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)p.push(Nm(t,c[O])),y.push(c[O+1]);const _=[],A=pn.empty();for(let O=p.length-1;O>=0;--O)if(!t1(_,p[O])){const G=p[O];let J=y[O];J=Je(J);const nt=d.yc(G);if(J instanceof Vh)_.push(G);else{const W=iu(J,nt);W!=null&&(_.push(G),A.set(G,W))}}const b=new Cn(_);return new XT(A,b,d.fieldTransforms)}function QC(r,t,i,a=!1){return iu(i,r.Cc(a?4:3,t))}function iu(r,t){if(WT(r=Je(r)))return Ag("Unsupported field value:",t,r),JT(r,t);if(r instanceof nu)return(function(a,l){if(!$T(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=iu(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Je(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return OR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ae.fromDate(a);return{timestampValue:hh(l.serializer,c)}}if(a instanceof ae){const c=new ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:hh(l.serializer,c)}}if(a instanceof ri)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof In)return{bytesValue:yT(l.serializer,a._byteString)};if(a instanceof pe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:rg(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ai)return(function(d,p){return{mapValue:{fields:{[QE]:{stringValue:KE},[lh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return eg(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Eh(a)}`)})(r,t)}function JT(r,t){const i={};return jE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yr(r,((a,l)=>{const c=iu(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function WT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ae||r instanceof ri||r instanceof In||r instanceof pe||r instanceof nu||r instanceof ai)}function Ag(r,t,i){if(!WT(i)||!PE(i)){const a=Eh(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Nm(r,t,i){if((t=Je(t))instanceof eu)return t._internalPath;if(typeof t=="string")return bg(r,t);throw gh("Field path arguments must be of type string or ",r,!1,void 0,i)}const KC=new RegExp("[~\\*/\\[\\]]");function bg(r,t,i){if(t.search(KC)>=0)throw gh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new eu(...t.split("."))._internalPath}catch{throw gh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function gh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new st($.INVALID_ARGUMENT,p+r+y)}function t1(r,t){return r.some((i=>i.isEqual(t)))}class e1{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new YC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Sg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class YC extends e1{data(){return super.data()}}function Sg(r,t){return typeof t=="string"?bg(r,t):t instanceof eu?t._internalPath:t._delegate._internalPath}function XC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new st($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wg{}class Rg extends wg{}function Dm(r,t,...i){let a=[];t instanceof wg&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof Uh)).length,p=c.filter((y=>y instanceof kh)).length;if(d>1||d>0&&p>0)throw new st($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class kh extends Rg{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new kh(t,i,a)}_apply(t){const i=this._parse(t);return n1(t._query,i),new vr(t.firestore,t.converter,_m(t._query,i))}_parse(t){const i=Mh(t.firestore);return(function(c,d,p,y,_,A,b){let O;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new st($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){O0(b,A);const J=[];for(const nt of b)J.push(x0(y,c,nt));O={arrayValue:{values:J}}}else O=x0(y,c,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||O0(b,A),O=QC(p,d,b,A==="in"||A==="not-in");return Oe.create(_,A,O)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Uh extends wg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Uh(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:oi.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)n1(d,y),d=_m(d,y)})(t._query,i),new vr(t.firestore,t.converter,_m(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lh extends Rg{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Lh(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new st($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new st($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zl(c,d)})(t._query,this._field,this._direction);return new vr(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new yo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function xm(r,t="asc"){const i=t,a=Sg("orderBy",r);return Lh._create(a,i)}function x0(r,t,i){if(typeof(i=Je(i))=="string"){if(i==="")throw new st($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eT(t)&&i.indexOf("/")!==-1)throw new st($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(re.fromString(i));if(!ht.isDocumentKey(a))throw new st($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Qv(r,new ht(a))}if(i instanceof pe)return Qv(r,i._key);throw new st($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Eh(i)}.`)}function O0(r,t){if(!Array.isArray(r)||r.length===0)throw new st($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function n1(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new st($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class i1{convertValue(t,i="none"){switch(dr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(fr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return yr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[lh].arrayValue?.values?.map((a=>Ae(a.doubleValue)));return new ai(i)}convertGeoPoint(t){return new ri(Ae(t.latitude),Ae(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=bh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ll(t));default:return null}}convertTimestamp(t){const i=hr(t);return new ae(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=re.fromString(t);Kt(bT(a),9688,{name:t});const l=new ro(a.get(1),a.get(3)),c=new ht(a.popFirst(5));return l.isEqual(i)||gs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function s1(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class Ja{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ur extends e1{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Ml(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Sg("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ur._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ur._jsonSchemaVersion="firestore/documentSnapshot/1.0",ur._jsonSchema={type:Me("string",ur._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class Ml extends ur{data(t={}){return super.data(t)}}class Zr{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ja(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Ml(this._firestore,this._userDataWriter,a.key,a,new Ja(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Ml(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ja(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Ml(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ja(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:$C(p.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Zr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=vh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function $C(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}Zr._jsonSchemaVersion="firestore/querySnapshot/1.0",Zr._jsonSchema={type:Me("string",Zr._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};class r1 extends i1{constructor(t){super(),this.firestore=t}convertBytes(t){return new In(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new pe(this.firestore,null,i)}}function ZC(r,t,i){r=si(r,pe);const a=si(r.firestore,pr),l=s1(r.converter,t,i);return su(a,[ZT(Mh(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Gn.none())])}function $c(r,t,i,...a){r=si(r,pe);const l=si(r.firestore,pr),c=Mh(l);let d;return d=typeof(t=Je(t))=="string"||t instanceof eu?FC(c,"updateDoc",r._key,t,i,a):GC(c,"updateDoc",r._key,t),su(l,[d.toMutation(r._key,Gn.exists(!0))])}function a1(r){return su(si(r.firestore,pr),[new ng(r._key,Gn.none())])}function Om(r,t){const i=si(r.firestore,pr),a=Ws(r),l=s1(r.converter,t);return su(i,[ZT(Mh(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Gn.exists(!1))]).then((()=>a))}function Zc(r,...t){r=Je(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||D0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(D0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof pe)d=si(r.firestore,pr),p=tg(r._key.path),c={next:y=>{t[a]&&t[a](JC(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=si(r,vr);d=si(y.firestore,pr),p=y._query;const _=new r1(d);c={next:A=>{t[a]&&t[a](new Zr(d,_,y,A))},error:t[a+1],complete:t[a+2]},XC(r._query)}return(function(_,A,b,O){const G=new UC(O),J=new yC(A,G,b);return _.asyncQueue.enqueueAndForget((async()=>dC(await b0(_),J))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>mC(await b0(_),J)))}})(vg(d),p,l,c)}function su(r,t){return(function(a,l){const c=new $r;return a.asyncQueue.enqueueAndForget((async()=>IC(await zC(a),l,c))),c.promise})(vg(r),t)}function JC(r,t,i){const a=i.docs.get(t._key),l=new r1(r);return new ur(r,l,t._key,a,new Ja(i.hasPendingWrites,i.fromCache),t.converter)}function Mm(){return new Tg("serverTimestamp")}(function(t,i=!0){(function(l){mo=l})(ho),io(new Wr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new pr(new F2(a.getProvider("auth-internal")),new Y2(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new st($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),or(Mv,Vv,t),or(Mv,Vv,"esm2020")})();const WC=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:i1,Bytes:In,CollectionReference:cs,DocumentReference:pe,DocumentSnapshot:ur,FieldPath:eu,FieldValue:nu,Firestore:pr,FirestoreError:st,GeoPoint:ri,Query:vr,QueryCompositeFilterConstraint:Uh,QueryConstraint:Rg,QueryDocumentSnapshot:Ml,QueryFieldFilterConstraint:kh,QueryOrderByConstraint:Lh,QuerySnapshot:Zr,SnapshotMetadata:Ja,Timestamp:ae,VectorValue:ai,_AutoId:vh,_ByteString:He,_DatabaseId:ro,_DocumentKey:ht,_EmptyAuthCredentialsProvider:kE,_FieldPath:qe,_cast:si,_logWarn:na,_validateIsNotUsedTogether:LE,addDoc:Om,collection:Rl,connectFirestoreEmulator:KT,deleteDoc:a1,doc:Ws,ensureFirestoreConfigured:vg,executeWrite:su,getFirestore:YT,onSnapshot:Zc,orderBy:xm,query:Dm,serverTimestamp:Mm,setDoc:ZC,updateDoc:$c},Symbol.toStringTag,{value:"Module"}));const tN=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eN=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),M0=r=>{const t=eN(r);return t.charAt(0).toUpperCase()+t.slice(1)},o1=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),nN=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var iN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sN=Qt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>Qt.createElement("svg",{ref:y,...iN,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:o1("lucide",l),...!c&&!nN(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>Qt.createElement(_,A)),...Array.isArray(c)?c:[c]]));const ye=(r,t)=>{const i=Qt.forwardRef(({className:a,...l},c)=>Qt.createElement(sN,{ref:c,iconNode:t,className:o1(`lucide-${tN(M0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=M0(r),i};const rN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tm=ye("calendar",rN);const aN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],oN=ye("chevron-right",aN);const lN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],em=ye("clock",lN);const uN=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],V0=ye("external-link",uN);const cN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],hN=ye("eye-off",cN);const fN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dN=ye("eye",fN);const mN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zc=ye("file-text",mN);const gN=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],pN=ye("folder",gN);const yN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],_N=ye("funnel",yN);const vN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],EN=ye("house",vN);const TN=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],AN=ye("layout-grid",TN);const bN=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],SN=ye("list",bN);const wN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],l1=ye("lock-open",wN);const RN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],u1=ye("lock",RN);const IN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Vm=ye("pen",IN);const CN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nm=ye("plus",CN);const NN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],k0=ye("search",NN);const DN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xN=ye("settings",DN);const ON=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Al=ye("square-check-big",ON);const MN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],km=ye("trash-2",MN);const VN=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],jc=ye("video",VN);const kN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],UN=ye("x",kN),LN={apiKey:"AIzaSyBdD9iNGnah6Wju99VIe8haltHI5xI5Pi4",authDomain:"mybraindata.firebaseapp.com",projectId:"mybraindata",storageBucket:"mybraindata.firebasestorage.app",messagingSenderId:"579167927832",appId:"1:579167927832:web:b018249834edc50e6e8d6d"},c1=Q0(LN),im=q2(c1),Oi=YT(c1),Mi="my-brain-app",PN=({isSetup:r,onUnlock:t,onSetup:i})=>{const[a,l]=Qt.useState(""),[c,d]=Qt.useState(""),p=y=>{if(y.preventDefault(),r)t(a);else{if(a.length<4){d(" 4 ");return}i(a)}};return M.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:M.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md text-center",children:[M.jsx("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:r?M.jsx(u1,{className:"w-8 h-8 text-blue-600"}):M.jsx(l1,{className:"w-8 h-8 text-blue-600"})}),M.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:r?"":""}),M.jsx("p",{className:"text-slate-500 mb-6",children:r?"":""}),M.jsxs("form",{onSubmit:p,className:"space-y-4",children:[M.jsx("input",{type:"password",value:a,onChange:y=>{l(y.target.value),d("")},placeholder:"",className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500 text-lg text-center tracking-widest",autoFocus:!0}),c&&M.jsx("p",{className:"text-red-500 text-sm",children:c}),M.jsx("button",{type:"submit",className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-colors",children:r?"":""})]})]})})},h1=({categories:r,parentId:t,level:i=0,currentFolderId:a,onNavigate:l,onEdit:c,onDelete:d})=>{const p=r.filter(y=>y.parentId===t);return p.length===0?null:M.jsx("div",{className:i>0?"ml-3 pl-3 border-l border-slate-200":"",children:p.map(y=>{const _=y.id===a;return r.some(A=>A.parentId===y.id),M.jsxs("div",{children:[M.jsxs("div",{className:`group flex items-center justify-between p-2 rounded-lg cursor-pointer text-sm mb-1 transition-colors ${_?"bg-blue-100 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-100"}`,onClick:()=>l(y),children:[M.jsxs("div",{className:"flex items-center gap-2 truncate flex-1",children:[M.jsx(pN,{className:`w-4 h-4 flex-shrink-0 ${_?"text-blue-600 fill-blue-200":"text-slate-400"}`}),M.jsx("span",{className:"truncate",children:y.title})]}),M.jsxs("div",{className:`flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ${_?"opacity-100":""}`,children:[M.jsx("button",{onClick:A=>{A.stopPropagation(),c(y)},className:"p-1 hover:bg-blue-200 rounded text-slate-500 hover:text-blue-600",children:M.jsx(Vm,{className:"w-3 h-3"})}),M.jsx("button",{onClick:A=>{A.stopPropagation(),d(y)},className:"p-1 hover:bg-red-100 rounded text-slate-500 hover:text-red-600",children:M.jsx(km,{className:"w-3 h-3"})})]})]}),M.jsx(h1,{categories:r,parentId:y.id,level:i+1,currentFolderId:a,onNavigate:l,onEdit:c,onDelete:d})]},y.id)})})};function zN(){const[r,t]=Qt.useState(null),[i,a]=Qt.useState(!0),[l,c]=Qt.useState(null),[d,p]=Qt.useState(null),[y,_]=Qt.useState([]),[A,b]=Qt.useState([]),[O,G]=Qt.useState(!0),[J,nt]=Qt.useState(null),[W,gt]=Qt.useState([{id:null,name:""}]),[mt,pt]=Qt.useState(""),[Ot,ie]=Qt.useState(!1),[Ct,C]=Qt.useState("grid"),[S,w]=Qt.useState("all"),[V,D]=Qt.useState(!1),[U,R]=Qt.useState("create"),[Zt,de]=Qt.useState(null),[F,it]=Qt.useState("category"),[ft,Mt]=Qt.useState(!1),[ut,N]=Qt.useState({title:"",content:"",type:"text",scheduleDate:"",scheduleTime:""});Qt.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await Cw(im,__initial_auth_token):await bw(im))();const ct=xw(im,t);return()=>ct()},[]),Qt.useEffect(()=>{if(!r)return;const B=Zc(Ws(Oi,"artifacts",Mi,"users",r.uid,"settings","config"),Ve=>{Ve.exists()?(c(!0),p(Ve.data().password)):c(!1),G(!1)},Ve=>console.error("Settings fetch error",Ve)),ct=Dm(Rl(Oi,"artifacts",Mi,"users",r.uid,"categories"),xm("createdAt","asc")),Nt=Zc(ct,Ve=>{const ke=Ve.docs.map(yn=>({id:yn.id,...yn.data()}));_(ke)},Ve=>console.error(Ve)),Ge=Dm(Rl(Oi,"artifacts",Mi,"users",r.uid,"cards"),xm("createdAt","desc")),ci=Zc(Ge,Ve=>{const ke=Ve.docs.map(yn=>({id:yn.id,...yn.data()}));b(ke)},Ve=>console.error(Ve));return()=>{B(),Nt(),ci()}},[r]);const Y=(B,ct)=>{const Nt=[];let Ge=B;for(;Ge;){const ci=ct.find(Ve=>Ve.id===Ge);if(ci)Nt.unshift({id:ci.id,name:ci.title}),Ge=ci.parentId;else break}return Nt.unshift({id:null,name:""}),Nt},et=Qt.useMemo(()=>{let B=[];return mt?B=A.filter(ct=>ct.title.toLowerCase().includes(mt.toLowerCase())||ct.content&&ct.content.toLowerCase().includes(mt.toLowerCase())):B=A.filter(ct=>ct.categoryId===J),Ot||(B=B.filter(ct=>!ct.isCompleted)),S!=="all"&&(B=B.filter(ct=>ct.type===S)),{cards:B}},[A,J,mt,Ot,S]),rt=B=>{B===d?a(!1):alert("")},_t=async B=>{r&&(await $c(Ws(Oi,"artifacts",Mi,"users",r.uid,"settings","config"),{password:B}).catch(async()=>{const{setDoc:ct}=await nb(async()=>{const{setDoc:Nt}=await Promise.resolve().then(()=>WC);return{setDoc:Nt}},void 0);await ct(Ws(Oi,"artifacts",Mi,"users",r.uid,"settings","config"),{password:B})}),p(B),a(!1))},St=async()=>{if(!ut.title)return alert("");try{F==="category"?await Om(Rl(Oi,"artifacts",Mi,"users",r.uid,"categories"),{title:ut.title,parentId:J,createdAt:Mm()}):await Om(Rl(Oi,"artifacts",Mi,"users",r.uid,"cards"),{title:ut.title,content:ut.content,type:ut.type,categoryId:J,schedule:ut.scheduleDate&&ut.scheduleTime?`${ut.scheduleDate}T${ut.scheduleTime}`:null,isCompleted:!1,createdAt:Mm()}),rn()}catch(B){console.error(B),alert("")}},Vt=async()=>{if(Zt)try{const B=Zt.parentId!==void 0?"categories":"cards",ct=Ws(Oi,"artifacts",Mi,"users",r.uid,B,Zt.id),Nt={title:ut.title};B==="cards"&&(Nt.content=ut.content,Nt.type=ut.type,Nt.schedule=ut.scheduleDate&&ut.scheduleTime?`${ut.scheduleDate}T${ut.scheduleTime}`:null),await $c(ct,Nt),rn()}catch(B){console.error(B),alert("")}},he=async(B,ct)=>{if(!confirm(""+(ct?" ":"")))return;const Nt=ct?"categories":"cards";await a1(Ws(Oi,"artifacts",Mi,"users",r.uid,Nt,B.id)),ct&&J===B.id&&Jt({id:B.parentId})},Jt=B=>{pt("");const ct=B?B.id:null;nt(ct),gt(Y(ct,y))},ji=B=>{pt(""),nt(B.id),gt(Y(B.id,y))},Bi=async B=>{await $c(Ws(Oi,"artifacts",Mi,"users",r.uid,"cards",B.id),{isCompleted:!B.isCompleted})},li=B=>{it(B),R("create"),N({title:"",content:"",type:"text",scheduleDate:"",scheduleTime:""}),D(!0)},ui=(B,ct)=>{it(ct?"category":"card"),R("edit"),de(B);let Nt="",Ge="";B.schedule&&(Nt=B.schedule.split("T")[0],Ge=B.schedule.split("T")[1]),N({title:B.title,content:B.content||"",type:B.type||"text",scheduleDate:Nt,scheduleTime:Ge}),D(!0)},rn=()=>{D(!1),de(null)},_s=B=>{switch(B){case"video":return M.jsx(jc,{className:"w-5 h-5 text-red-500"});case"todo":return M.jsx(Al,{className:"w-5 h-5 text-green-500"});case"reminder":return M.jsx(em,{className:"w-5 h-5 text-purple-500"});default:return M.jsx(zc,{className:"w-5 h-5 text-blue-500"})}},Nn=B=>B?new Date(B)<new Date:!1,vs=B=>B?new Date(B).toLocaleString("zh-TW",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";return O?M.jsx("div",{className:"flex h-screen items-center justify-center text-slate-500",children:"..."}):i?M.jsx(PN,{isSetup:l,onUnlock:rt,onSetup:_t}):M.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col md:flex-row text-slate-800 font-sans",children:[M.jsxs("div",{className:"md:w-72 bg-white border-b md:border-r border-slate-200 flex-shrink-0 flex flex-col h-auto md:h-screen",children:[M.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center",children:[M.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"MyBrain"}),M.jsx("button",{onClick:()=>Mt(!0),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:M.jsx(xN,{className:"w-5 h-5"})})]}),M.jsxs("div",{className:"p-4 space-y-3",children:[M.jsxs("div",{className:"relative",children:[M.jsx(k0,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),M.jsx("input",{type:"text",placeholder:"...",value:mt,onChange:B=>pt(B.target.value),className:"w-full pl-9 pr-4 py-2 bg-slate-100 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),M.jsxs("button",{onClick:()=>li("category"),className:"w-full flex items-center justify-center gap-2 py-2 bg-white border border-dashed border-slate-300 rounded-lg text-slate-600 hover:border-blue-500 hover:text-blue-600 transition-colors text-sm font-medium",children:[M.jsx(nm,{className:"w-4 h-4"})," "]})]}),M.jsxs("div",{className:"flex-1 overflow-y-auto px-4 pb-4",children:[M.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 pl-2",children:""}),M.jsxs("div",{onClick:()=>Jt(null),className:`flex items-center gap-2 p-2 rounded-lg cursor-pointer text-sm mb-1 transition-colors ${J===null?"bg-blue-100 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-100"}`,children:[M.jsx(EN,{className:`w-4 h-4 ${J===null?"text-blue-600 fill-blue-200":"text-slate-400"}`}),M.jsx("span",{children:" / "})]}),M.jsx(h1,{categories:y,parentId:null,currentFolderId:J,onNavigate:Jt,onEdit:B=>ui(B,!0),onDelete:B=>he(B,!0)})]})]}),M.jsxs("div",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[M.jsxs("div",{className:"bg-white border-b border-slate-200 p-4 flex items-center justify-between shadow-sm z-10 shrink-0",children:[M.jsxs("div",{className:"flex items-center gap-2 flex-1 mr-4 overflow-hidden",children:[M.jsx("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar whitespace-nowrap",children:mt?M.jsxs("span",{className:"text-slate-500 flex items-center gap-1",children:[M.jsx(k0,{className:"w-4 h-4"})," "]}):W.map((B,ct)=>M.jsxs(QA.Fragment,{children:[M.jsx("button",{onClick:()=>ji(B),className:`flex items-center hover:text-blue-600 transition-colors ${ct===W.length-1?"font-bold text-slate-800":"text-slate-500"}`,children:B.name}),ct<W.length-1&&M.jsx(oN,{className:"w-4 h-4 text-slate-300"})]},ct))}),M.jsx("div",{className:"md:hidden ml-auto",children:M.jsxs("select",{value:S,onChange:B=>w(B.target.value),className:"bg-slate-50 border border-slate-200 text-slate-600 text-xs rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-20 p-1.5 truncate",children:[M.jsx("option",{value:"all",children:""}),M.jsx("option",{value:"text",children:""}),M.jsx("option",{value:"todo",children:""}),M.jsx("option",{value:"video",children:""}),M.jsx("option",{value:"reminder",children:""})]})}),M.jsxs("div",{className:"flex items-center gap-2 ml-4 border-l border-slate-300 pl-4",children:[M.jsxs("div",{className:"hidden md:flex items-center bg-slate-100 rounded-lg p-1 border border-slate-200 mr-2",children:[M.jsx("button",{onClick:()=>w("all"),className:`p-1.5 rounded-md transition-all ${S==="all"?"bg-white shadow text-blue-600":"text-slate-400 hover:text-slate-600"}`,title:"",children:M.jsx(_N,{className:"w-4 h-4"})}),M.jsx("button",{onClick:()=>w("text"),className:`p-1.5 rounded-md transition-all ${S==="text"?"bg-white shadow text-blue-600":"text-slate-400 hover:text-slate-600"}`,title:"",children:M.jsx(zc,{className:"w-4 h-4"})}),M.jsx("button",{onClick:()=>w("todo"),className:`p-1.5 rounded-md transition-all ${S==="todo"?"bg-white shadow text-blue-600":"text-slate-400 hover:text-slate-600"}`,title:"",children:M.jsx(Al,{className:"w-4 h-4"})}),M.jsx("button",{onClick:()=>w("video"),className:`p-1.5 rounded-md transition-all ${S==="video"?"bg-white shadow text-blue-600":"text-slate-400 hover:text-slate-600"}`,title:"",children:M.jsx(jc,{className:"w-4 h-4"})}),M.jsx("button",{onClick:()=>w("reminder"),className:`p-1.5 rounded-md transition-all ${S==="reminder"?"bg-white shadow text-blue-600":"text-slate-400 hover:text-slate-600"}`,title:"",children:M.jsx(em,{className:"w-4 h-4"})})]}),M.jsxs("div",{className:"flex items-center bg-slate-100 rounded-lg p-1 border border-slate-200",children:[M.jsx("button",{onClick:()=>C("grid"),className:`p-1.5 rounded-md transition-all ${Ct==="grid"?"bg-white shadow text-blue-600":"text-slate-400 hover:text-slate-600"}`,title:"",children:M.jsx(AN,{className:"w-4 h-4"})}),M.jsx("button",{onClick:()=>C("list"),className:`p-1.5 rounded-md transition-all ${Ct==="list"?"bg-white shadow text-blue-600":"text-slate-400 hover:text-slate-600"}`,title:"",children:M.jsx(SN,{className:"w-4 h-4"})})]}),M.jsx("button",{onClick:()=>ie(!Ot),className:`flex items-center justify-center p-2 rounded-lg border transition-colors ${Ot?"bg-blue-50 text-blue-700 border-blue-200":"bg-white text-slate-400 border-slate-200 hover:bg-slate-50"}`,title:Ot?"":"",children:Ot?M.jsx(dN,{className:"w-4 h-4"}):M.jsx(hN,{className:"w-4 h-4"})})]})]}),!mt&&M.jsxs("button",{onClick:()=>li("card"),className:"ml-2 flex-shrink-0 flex items-center gap-1 px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 shadow-sm transition hover:shadow-md hidden sm:flex",children:[M.jsx(nm,{className:"w-4 h-4"})," "]}),!mt&&M.jsx("button",{onClick:()=>li("card"),className:"ml-2 flex-shrink-0 flex items-center justify-center w-8 h-8 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 shadow-sm transition hover:shadow-md sm:hidden",children:M.jsx(nm,{className:"w-4 h-4"})})]}),M.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 bg-slate-50",children:[M.jsx("div",{children:et.cards.length===0?M.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-400",children:[M.jsx("div",{className:"bg-slate-100 p-4 rounded-full mb-3",children:M.jsx(zc,{className:"w-8 h-8 text-slate-300"})}),M.jsx("p",{children:mt?"":Ot?"":" ()"}),!mt&&M.jsx("p",{className:"text-xs mt-1",children:""})]}):M.jsx(M.Fragment,{children:Ct==="grid"?M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:et.cards.map(B=>M.jsxs("div",{className:`bg-white rounded-xl border shadow-sm hover:shadow-md transition-all relative overflow-hidden flex flex-col ${B.isCompleted?"opacity-60 bg-slate-50":"border-slate-200"}`,children:[M.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-start",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("div",{className:"p-1.5 bg-slate-50 rounded-md",children:_s(B.type)}),M.jsx("span",{className:`font-semibold text-slate-800 line-clamp-1 ${B.isCompleted?"line-through text-slate-500":""}`,children:B.title})]}),M.jsxs("div",{className:"flex gap-1",children:[M.jsx("button",{onClick:()=>ui(B,!1),className:"p-1.5 text-slate-400 hover:text-blue-600 rounded",children:M.jsx(Vm,{className:"w-4 h-4"})}),M.jsx("button",{onClick:()=>he(B,!1),className:"p-1.5 text-slate-400 hover:text-red-600 rounded",children:M.jsx(km,{className:"w-4 h-4"})})]})]}),M.jsxs("div",{className:"p-4 flex-1 flex flex-col gap-2",children:[B.type==="video"&&B.content&&M.jsx("div",{className:"mb-2",children:M.jsxs("a",{href:B.content,target:"_blank",rel:"noreferrer",className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg border border-slate-200 hover:bg-slate-100 hover:border-blue-300 transition-all group",children:[M.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex-shrink-0 flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:M.jsx(jc,{className:"w-5 h-5 text-red-500"})}),M.jsxs("div",{className:"flex-1 min-w-0",children:[M.jsx("div",{className:"text-sm font-medium text-slate-700 truncate group-hover:text-blue-600 transition-colors",children:""}),M.jsx("div",{className:"text-xs text-slate-400 truncate",children:B.content})]}),M.jsx(V0,{className:"w-4 h-4 text-slate-400 group-hover:text-blue-500"})]})}),B.type==="todo"&&M.jsxs("div",{onClick:()=>Bi(B),className:"flex items-center gap-2 cursor-pointer p-2 hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-colors",children:[M.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center flex-shrink-0 ${B.isCompleted?"bg-green-500 border-green-500":"border-slate-300 bg-white"}`,children:B.isCompleted&&M.jsx(Al,{className:"w-3.5 h-3.5 text-white"})}),M.jsx("span",{className:`text-sm ${B.isCompleted?"text-slate-400 line-through":"text-slate-700"}`,children:B.isCompleted?"":""})]}),(B.type==="text"||B.type==="reminder"||B.type==="todo")&&B.content&&M.jsx("p",{className:`text-slate-600 text-sm whitespace-pre-wrap line-clamp-4 ${B.type==="todo"?"mt-1 pl-1 border-l-2 border-slate-100":""}`,children:B.content})]}),B.schedule&&M.jsxs("div",{className:`px-4 py-2 text-xs font-medium flex items-center gap-1.5 ${Nn(B.schedule)&&!B.isCompleted?"bg-red-50 text-red-600":"bg-slate-50 text-slate-500"}`,children:[M.jsx(tm,{className:"w-3.5 h-3.5"}),Nn(B.schedule)&&!B.isCompleted?"":""," ",vs(B.schedule)]})]},B.id))}):M.jsx("div",{className:"flex flex-col gap-2",children:et.cards.map(B=>M.jsxs("div",{className:`bg-white rounded-lg border border-slate-200 p-3 flex items-center gap-3 hover:shadow-sm transition-all group ${B.isCompleted?"opacity-60 bg-slate-50":""}`,children:[M.jsx("div",{className:"p-2 bg-slate-50 rounded-md text-slate-500 flex-shrink-0",children:_s(B.type)}),M.jsxs("div",{className:"flex-1 min-w-0 grid gap-0.5",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("span",{className:`font-medium text-slate-700 truncate ${B.isCompleted?"line-through text-slate-500":""}`,children:B.title}),B.type==="todo"&&M.jsx("button",{onClick:ct=>{ct.stopPropagation(),Bi(B)},className:`w-4 h-4 rounded border flex items-center justify-center flex-shrink-0 ${B.isCompleted?"bg-green-500 border-green-500":"border-slate-300 bg-white hover:border-blue-400"}`,children:B.isCompleted&&M.jsx(Al,{className:"w-3 h-3 text-white"})})]}),B.content&&M.jsx("div",{className:"text-xs text-slate-400 truncate",children:B.type==="video"?"...":B.content})]}),M.jsxs("div",{className:"flex items-center gap-3",children:[B.schedule&&M.jsxs("div",{className:`hidden sm:flex items-center gap-1 text-xs px-2 py-1 rounded-md ${Nn(B.schedule)&&!B.isCompleted?"bg-red-50 text-red-600":"bg-slate-50 text-slate-500"}`,children:[M.jsx(tm,{className:"w-3 h-3"}),M.jsx("span",{className:"hidden md:inline",children:vs(B.schedule)}),Nn(B.schedule)&&!B.isCompleted&&M.jsx("span",{className:"md:hidden w-2 h-2 rounded-full bg-red-500"})]}),M.jsxs("div",{className:"flex items-center gap-1 border-l pl-2 border-slate-100",children:[B.type==="video"&&B.content&&M.jsx("a",{href:B.content,target:"_blank",rel:"noreferrer",className:"p-1.5 text-slate-400 hover:text-blue-600 rounded",title:"",children:M.jsx(V0,{className:"w-4 h-4"})}),M.jsx("button",{onClick:()=>ui(B,!1),className:"p-1.5 text-slate-400 hover:text-blue-600 rounded",title:"",children:M.jsx(Vm,{className:"w-4 h-4"})}),M.jsx("button",{onClick:()=>he(B,!1),className:"p-1.5 text-slate-400 hover:text-red-600 rounded",title:"",children:M.jsx(km,{className:"w-4 h-4"})})]})]})]},B.id))})})}),M.jsx("div",{className:"h-20"})," "]})]}),V&&M.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:M.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[M.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[M.jsxs("h3",{className:"font-bold text-lg text-slate-800",children:[U==="create"?"":""," ",F==="category"?"":""]}),M.jsx("button",{onClick:rn,className:"text-slate-400 hover:text-slate-600",children:M.jsx(UN,{className:"w-5 h-5"})})]}),M.jsxs("div",{className:"p-6 space-y-4",children:[F==="category"&&U==="create"&&M.jsxs("div",{className:"text-sm text-slate-500 bg-blue-50 p-3 rounded-lg border border-blue-100",children:["",M.jsx("span",{className:"font-semibold text-blue-700",children:W[W.length-1].name})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:""}),M.jsx("input",{autoFocus:!0,type:"text",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",value:ut.title,onChange:B=>N({...ut,title:B.target.value}),placeholder:"..."})]}),F==="card"&&M.jsxs(M.Fragment,{children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:""}),M.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{id:"text",icon:zc,label:""},{id:"todo",icon:Al,label:""},{id:"video",icon:jc,label:""},{id:"reminder",icon:em,label:""}].map(B=>M.jsxs("button",{onClick:()=>N({...ut,type:B.id}),className:`flex flex-col items-center justify-center p-2 rounded-lg border text-xs gap-1 transition-all ${ut.type===B.id?"bg-blue-50 border-blue-500 text-blue-700":"border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[M.jsx(B.icon,{className:"w-5 h-5"}),B.label]},B.id))})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:ut.type==="video"?" (YouTube)":" / "}),M.jsx("textarea",{rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",value:ut.content,onChange:B=>N({...ut,content:B.target.value}),placeholder:ut.type==="video"?"https://www.youtube.com/watch?v=...":"..."})]}),M.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[M.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2 flex items-center gap-1",children:[M.jsx(tm,{className:"w-4 h-4"}),"  ()"]}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("input",{type:"date",className:"flex-1 px-3 py-2 border border-slate-300 rounded-md text-sm",value:ut.scheduleDate,onChange:B=>N({...ut,scheduleDate:B.target.value})}),M.jsx("input",{type:"time",className:"flex-1 px-3 py-2 border border-slate-300 rounded-md text-sm",value:ut.scheduleTime,onChange:B=>N({...ut,scheduleTime:B.target.value})})]})]})]})]}),M.jsxs("div",{className:"px-6 py-4 bg-slate-50 flex justify-end gap-3",children:[M.jsx("button",{onClick:rn,className:"px-4 py-2 text-slate-600 font-medium hover:bg-slate-200 rounded-lg transition-colors",children:""}),M.jsx("button",{onClick:U==="create"?St:Vt,className:"px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 shadow-md hover:shadow-lg transition-all",children:U==="create"?"":""})]})]})}),ft&&M.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:M.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-sm p-6",children:[M.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:""}),M.jsxs("div",{className:"space-y-4",children:[M.jsxs("button",{onClick:()=>{const B=prompt("");B&&B.length>=4?(_t(B),alert("")):B&&alert("")},className:"w-full py-3 px-4 bg-slate-100 hover:bg-slate-200 rounded-lg text-slate-700 font-medium flex items-center justify-between",children:[M.jsx("span",{children:""}),M.jsx(u1,{className:"w-4 h-4"})]}),M.jsxs("button",{onClick:()=>a(!0),className:"w-full py-3 px-4 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg font-medium flex items-center justify-between",children:[M.jsx("span",{children:""}),M.jsx(l1,{className:"w-4 h-4"})]})]}),M.jsx("button",{onClick:()=>Mt(!1),className:"mt-6 w-full py-2 text-slate-500 hover:text-slate-800",children:""})]})})]})}WA.createRoot(document.getElementById("root")).render(M.jsx(Qt.StrictMode,{children:M.jsx(zN,{})}));
